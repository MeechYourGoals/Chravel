import{j as e}from"./chunk-DE8J_P3a.js";import{c as s,u as a,r}from"./chunk-CHPtWMTz.js";import{B as l}from"./chunk-CKgI9q5n.js";import{f as i,T as t,a as n,b as d,d as c,e as o}from"../index-C69Cv9fm.js";import{A as m,a as x,b as h}from"./chunk-I0kJWO9F.js";import{B as u}from"./chunk-Bc1XvzR8.js";import{P as p,S as j}from"./chunk-CaclnTQy.js";import{u as f,B as v,S as N}from"./chunk-88HG7dU1.js";import{S as b}from"./chunk-BEvYuFwC.js";import{E as g}from"./chunk-y0HRaaXz.js";import{M as w}from"./chunk-ByyMTJWo.js";import{C as y}from"./chunk-C0eak1NN.js";import{A as k}from"./chunk-DkxHCs8B.js";import{S as A}from"./chunk-bP8xJp5e.js";import"./chunk-DN5ISW2H.js";import"./chunk-CbEMFF6w.js";const C=s.forwardRef(({className:s,loading:a=!1,success:r=!1,microAnimation:t="scale",children:n,disabled:d,...c},o)=>e.jsx(l,{ref:o,className:i((()=>{switch(t){case"scale":return"transition-all duration-200 hover:scale-105 active:scale-95";case"pulse":return"transition-all duration-200 hover:scale-102 active:scale-98";default:return""}})(),r&&"bg-green-500 hover:bg-green-600",a&&"opacity-70 cursor-not-allowed",s),disabled:d||a,...c,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),n]}):r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n]}):n}));C.displayName="InteractiveButton";const S=()=>{const{items:s,loading:r,toggleSave:i,refresh:o}=f(),m=a(),x=()=>{m("/?openSettings=saved-recs")};return e.jsxs("section",{"aria-labelledby":"saved-places-heading",className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{id:"saved-places-heading",className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary","aria-hidden":"true"}),"Saved Places"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{children:e.jsxs(n,{children:[e.jsx(d,{asChild:!0,children:e.jsx("button",{onClick:x,className:"md:hidden p-2 rounded-md hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"View all saved places",title:"View all",children:e.jsx(g,{className:"w-4 h-4"})})}),e.jsx(c,{children:"View All"})]})}),e.jsx("button",{onClick:x,className:"hidden md:inline-flex text-sm text-primary hover:underline",children:"View All"})]})]}),r?e.jsx("div",{role:"list","aria-busy":"true",className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4",children:Array.from({length:3}).map((s,a)=>e.jsx("div",{className:"min-w-[260px] max-w-[260px] flex-shrink-0 snap-start",children:e.jsxs("div",{className:"bg-card border border-border rounded-enterprise overflow-hidden shadow-enterprise",children:[e.jsx(b,{className:"h-36 w-full"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx(b,{className:"h-4 w-3/4"}),e.jsx(b,{className:"h-3 w-1/2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{className:"h-8 w-20"}),e.jsx(b,{className:"h-8 w-20"})]})]})]})},a))}):0===s.length?e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-primary"})}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No saved places yet. Explore trips and tap Save to collect your favorites."}),e.jsx(l,{onClick:()=>{m("/search")},className:"mx-auto",children:"Discover Places"})]}):e.jsx("div",{role:"list","aria-label":"Saved places list",className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4",children:s.map(s=>{var a,r,t;const n=s.title,d=s.image_url,c=s.rec_type,m=s.location||s.city||"",x=null==(a=s.data)?void 0:a.rating,h=null==(r=s.data)?void 0:r.distance,p=s.external_link||(null==(t=s.data)?void 0:t.externalLink)||"#";return e.jsx("article",{role:"listitem",tabIndex:0,className:"min-w-[260px] max-w-[260px] flex-shrink-0 snap-start focus:outline-none","aria-label":n,children:e.jsxs("div",{className:"bg-card border border-border rounded-enterprise overflow-hidden shadow-enterprise hover:shadow-enterprise-md transition-shadow",children:[e.jsx("div",{className:"relative h-36 w-full",children:d?e.jsx("img",{src:d,alt:n,loading:"lazy",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-muted flex items-center justify-center text-muted-foreground",children:"No image"})}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground truncate",title:n,children:n}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsx(u,{variant:"outline",className:"capitalize text-xs",children:c}),m&&e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[120px]",title:m,children:m})]})]})]}),"number"==typeof x&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-foreground/90",children:[e.jsx(N,{className:"w-3.5 h-3.5 text-primary"})," ",x.toFixed(1)]})]}),h&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[h," away"]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>(async e=>{(null==e?void 0:e.data)&&(await i(e.data),await o())})(s),"aria-pressed":!0,className:"flex-1",children:[e.jsx(v,{className:"w-4 h-4 mr-1"})," Saved"]}),e.jsx(l,{size:"sm",onClick:()=>window.open(p,"_blank","noopener"),className:"flex-1",children:"Open"})]})]})]})},s.id)})})]})},z=()=>{var s,l;const{user:i}=o(),t=a(),[n,d]=r.useState(!0);r.useEffect(()=>{const e=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(e)},[]);return n?e.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-6",children:[e.jsx(p,{}),e.jsx(j,{}),e.jsx("div",{className:"space-y-3 mb-8",children:Array.from({length:3}).map((s,a)=>e.jsx("div",{className:"h-12 bg-muted/20 rounded-enterprise animate-pulse"},a))})]}):e.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-6",children:[e.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[e.jsxs(m,{className:"w-24 h-24 mx-auto mb-4 transition-all duration-200 hover:scale-105",children:[e.jsx(x,{src:"/placeholder.svg"}),e.jsx(h,{className:"bg-muted text-foreground text-2xl",children:(null==(s=null==i?void 0:i.email)?void 0:s.charAt(0).toUpperCase())||"U"})]}),e.jsx("h1",{className:"text-2xl font-bold mb-1",children:(null==(l=null==i?void 0:i.email)?void 0:l.split("@")[0])||"User"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Travel Enthusiast"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(u,{className:"bg-primary/20 text-primary animate-fade-in",style:{animationDelay:"0.1s"},children:"Pro Member"}),e.jsx(u,{className:"bg-accent/20 text-accent animate-fade-in",style:{animationDelay:"0.2s"},children:"Early Adopter"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[{label:"Total Trips",value:"12",icon:"✈️"},{label:"Countries Visited",value:"8",icon:"🌍"},{label:"Photos Shared",value:"247",icon:"📸"},{label:"Friends Connected",value:"28",icon:"👥"}].map((s,a)=>e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-4 text-center animate-fade-in transition-all duration-200 hover:scale-105 hover:shadow-enterprise-md",style:{animationDelay:.1*(a+1)+"s"},children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:s.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.label})]},a))}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs(C,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>alert("Feature coming soon!"),microAnimation:"scale",children:[e.jsx(y,{className:"mr-3",size:18}),"Manage Photos & Memories"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>t("/archive"),microAnimation:"scale",children:[e.jsx(k,{className:"mr-3",size:18}),"Archived Trips"]}),e.jsxs(C,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>alert("Feature coming soon!"),microAnimation:"scale",children:[e.jsx(A,{className:"mr-3",size:18}),"Shared Trip Links"]})]}),e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.4s"},children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Added 12 photos to Tokyo Adventure"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Created new trip: Paris Weekend"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Joined Bali Group Trip"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})]})};export{z as default};
