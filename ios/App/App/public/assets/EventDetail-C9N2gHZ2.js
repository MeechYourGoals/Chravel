import{c as $,r as b,j as e,m as J,s as S,n as K,k as X,o as se,A as te,R as ae,I as re}from"./index-CAsyng-G.js";import{e as F,P as ie,d as ne,G as le,a as oe,b as ce,T as de,c as me}from"./TripDetailModals-DY4m2USS.js";import{T as xe}from"./TripDetailHeader-BfsFRuqu.js";import{C,b as z,c as A,a as T}from"./card-BWfXNMJp.js";import{B as N}from"./button-_Pv0MPf0.js";import{B as L}from"./badge-J4HoHOpX.js";import{U as H}from"./user-check-BiN1UWIJ.js";import{U as q}from"./users-DV9oPzUN.js";import{C as U}from"./clock-z7hIZNmF.js";import{i as he,n as B,M as pe}from"./SettingsMenu-BOjv86PG.js";import{M as D}from"./map-pin-BpJQ3jXK.js";import{T as ge,a as ue,b as V,c as Y}from"./tabs-Ba-WFkQA.js";import{C as R}from"./calendar-B2WMmvpa.js";import{F as be,D as je,T as ye,g as fe,e as ve}from"./SeatManagementSection-BFc4Xk5u.js";import{I as ee}from"./input-CkF3ltBX.js";import{S as we,E as Q}from"./useSavedRecommendations-POBY9hWZ.js";import{C as Ne}from"./user-D5s9iwuG.js";import{S as Z}from"./sparkles-C9bYoM-0.js";import{e as P}from"./eventsMockData-BosocEr8.js";import{P as G}from"./ProTripNotFound-DSO3vkYd.js";import"./avatarUtils-ZvhZyhoo.js";import"./demoModeService-C5DiNBaU.js";import"./select-XMWUKs4c.js";import"./dialog-Cx8-WJ72.js";import"./camera-CpfyDuxc.js";import"./plus-CmGY8coD.js";import"./useDemoMode-BjEsodyt.js";import"./dropdown-menu-DesE2wBT.js";import"./chevron-right-ubVvME2N.js";import"./share-2-bKBjjyB8.js";import"./calendar-BbT1q-ev.js";import"./chevron-left-DBJ6HR3b.js";import"./avatar-BV3tYu8d.js";import"./circle-check-big-DmirYwTN.js";import"./filter-CGCfNQCb.js";import"./ellipsis-vertical-CzHInxXT.js";import"./crown-DXGOoHaJ.js";import"./arrow-left-DsyQ2ZDs.js";import"./pro-DyZQNKrs.js";import"./building-Br_mTkeH.js";import"./archive-D_5MXjjN.js";import"./loader-circle-CkOmKk2l.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=$("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=$("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=$("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),Ce=({eventId:h,capacity:l,registeredCount:n,checkedInCount:o,registrationStatus:a,userRole:r})=>{const[m,i]=b.useState(!1),f=n/l*100,w=o>0?o/n*100:0,k=c=>{switch(c){case"open":return"bg-green-500";case"waitlist":return"bg-yellow-500";case"closed":return"bg-red-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(H,{size:24,className:"text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Registration & Check-in"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time attendance tracking and badge management"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{className:"pb-2",children:e.jsxs(A,{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[e.jsx(q,{size:16}),"Total Registered"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:n.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:["of ",l.toLocaleString()," capacity"]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(f,100)}%`}})})]})]}),e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{className:"pb-2",children:e.jsxs(A,{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[e.jsx(H,{size:16}),"Checked In"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:o.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:[w.toFixed(1),"% of registered"]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${w}%`}})})]})]}),e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{className:"pb-2",children:e.jsxs(A,{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[e.jsx(U,{size:16}),"Status"]})}),e.jsxs(T,{children:[e.jsx(L,{className:`${k(a)} text-white text-sm px-3 py-1`,children:a.toUpperCase()}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a==="open"&&"Accepting new registrations",a==="waitlist"&&"New registrations on waitlist",a==="closed"&&"Registration has ended"]})]})]})]}),r==="attendee"&&e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{children:e.jsxs(A,{className:"text-white flex items-center gap-2",children:[e.jsx(W,{size:20}),"Your Event Badge"]})}),e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 mb-2",children:"Use this QR code for event check-in and networking"}),e.jsx(N,{onClick:()=>i(!m),className:"bg-blue-600 hover:bg-blue-700 text-white",children:m?"Hide Badge":"Show QR Badge"})]}),m&&e.jsx("div",{className:"bg-white p-4 rounded-lg",children:e.jsx("div",{className:"w-32 h-32 bg-gray-900 rounded flex items-center justify-center",children:e.jsx(W,{size:80,className:"text-white"})})})]})})]}),r==="organizer"&&e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{children:e.jsxs(A,{className:"text-white flex items-center gap-2",children:[e.jsx(he,{size:20}),"Live Check-in Feed"]})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-3",children:[{name:"Sarah Johnson",role:"Speaker",time:"2 minutes ago",vip:!0},{name:"Michael Chen",role:"Attendee",time:"3 minutes ago",vip:!1},{name:"Jessica Martinez",role:"Exhibitor",time:"5 minutes ago",vip:!1},{name:"Dr. Robert Kim",role:"Keynote Speaker",time:"8 minutes ago",vip:!0}].map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:c.name}),c.vip&&e.jsx(L,{className:"bg-yellow-500 text-black text-xs",children:"VIP"})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:c.role})]})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:c.time})]},d))})})]}),r==="organizer"&&e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{children:e.jsxs(A,{className:"text-white flex items-center gap-2",children:[e.jsx(D,{size:20}),"Venue Heat Map"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2 h-48",children:[...Array(16)].map((c,d)=>{const u=Math.random();return e.jsx("div",{className:`rounded ${u>.7?"bg-red-500/60":u>.4?"bg-yellow-500/60":u>.2?"bg-green-500/60":"bg-gray-600/60"}`},d)})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-400",children:[e.jsx("span",{children:"Low Density"}),e.jsx("span",{children:"High Density"})]})]})]})]})},Te=({tracks:h,sessions:l,speakers:n,userRole:o})=>{const[a,r]=b.useState("all"),[m,i]=b.useState(new Set(["1","3"])),f=t=>{const p=new Set(m);p.has(t)?p.delete(t):p.add(t),i(p)},w=a==="all"?l:l.filter(t=>t.track===a),k=[{id:"1",title:"Future of AI in Web Development",description:"Exploring how artificial intelligence is transforming modern web development practices.",startTime:"09:00",endTime:"10:00",location:"Main Auditorium",track:"tech",speaker:"1",capacity:200,rsvpCount:145,materials:[{title:"Slides",type:"pdf"}]},{id:"2",title:"Building Scalable React Applications",description:"Best practices for architecting large-scale React applications with performance in mind.",startTime:"10:30",endTime:"11:30",location:"Conference Room A",track:"tech",speaker:"2",capacity:100,rsvpCount:87,materials:[]},{id:"3",title:"Design Systems for Modern Apps",description:"Creating consistent and maintainable design systems for enterprise applications.",startTime:"14:00",endTime:"15:00",location:"Workshop Room",track:"design",speaker:"3",capacity:50,rsvpCount:38,materials:[{title:"Design Kit",type:"figma"}]},{id:"4",title:"Product Strategy in 2024",description:"Strategic approaches to product development in an evolving market landscape.",startTime:"15:30",endTime:"16:30",location:"Main Auditorium",track:"business",speaker:"4",capacity:200,rsvpCount:156,materials:[]}],c=k.length>0?k:w,d=t=>n.find(p=>p.id===t),u=t=>h.find(p=>p.id===t),v=t=>new Date(`2024-01-01T${t}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(R,{size:24,className:"text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Event Agenda"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Browse sessions and build your personal agenda"})]})]}),e.jsxs(ge,{defaultValue:"agenda",className:"space-y-4",children:[e.jsxs(ue,{className:"bg-gray-800 border-gray-700",children:[e.jsx(V,{value:"agenda",className:"text-gray-300 data-[state=active]:text-white",children:"All Sessions"}),e.jsx(V,{value:"my-schedule",className:"text-gray-300 data-[state=active]:text-white",children:"My Agenda"})]}),e.jsxs(Y,{value:"agenda",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(N,{variant:a==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),className:a==="all"?"bg-blue-600 text-white":"border-gray-600 text-gray-300",children:"All Sessions"}),h.map(t=>e.jsx(N,{variant:a===t.id?"default":"outline",size:"sm",onClick:()=>r(t.id),className:a===t.id?"bg-blue-600 text-white":"border-gray-600 text-gray-300",style:a===t.id?{backgroundColor:t.color}:{},children:t.name},t.id))]}),e.jsx("div",{className:"grid gap-4",children:c.map(t=>{const p=d(t.speaker),j=u(t.track),s=m.has(t.id),x=t.rsvpCount/t.capacity>.8;return e.jsxs(C,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(z,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"text-xs px-2 py-1",style:{backgroundColor:j==null?void 0:j.color,color:"white"},children:j==null?void 0:j.name}),x&&e.jsx(L,{className:"bg-yellow-500/20 text-yellow-400 text-xs",children:"Nearly Full"})]}),e.jsx(A,{className:"text-white text-lg",children:t.title}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t.description})]}),e.jsx(N,{size:"sm",variant:s?"default":"outline",onClick:()=>f(t.id),className:s?"bg-green-600 text-white":"border-gray-600 text-gray-300",children:s?"✓ Added":"+ Add"})]})}),e.jsxs(T,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(U,{size:16}),e.jsxs("span",{className:"text-sm",children:[v(t.startTime)," - ",v(t.endTime)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(D,{size:16}),e.jsx("span",{className:"text-sm",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(q,{size:16}),e.jsxs("span",{className:"text-sm",children:[t.rsvpCount,"/",t.capacity," registered"]})]})]}),p&&e.jsxs("div",{className:"flex items-center gap-3 mt-4 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("img",{src:p.avatar,alt:p.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:p.name}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[p.title," at ",p.company]})]})]}),t.materials&&t.materials.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[e.jsx(be,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Session Materials"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.materials.map((g,y)=>e.jsx(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 text-xs",children:g.title},y))})]})]})]},t.id)})})]}),e.jsx(Y,{value:"my-schedule",className:"space-y-4",children:m.size===0?e.jsx(C,{className:"bg-gray-800/50 border-gray-700",children:e.jsxs(T,{className:"p-8 text-center",children:[e.jsx(R,{size:48,className:"text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"No sessions in your schedule"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Add sessions to build your personal agenda"})]})}):e.jsx("div",{className:"space-y-4",children:c.filter(t=>m.has(t.id)).map(t=>{const p=d(t.speaker),j=u(t.track);return e.jsx(C,{className:"bg-gray-800/50 border-gray-700 border-l-4",style:{borderLeftColor:j==null?void 0:j.color},children:e.jsxs(T,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-white font-semibold",children:t.title}),e.jsx(L,{style:{backgroundColor:j==null?void 0:j.color,color:"white"},children:j==null?void 0:j.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{size:14}),e.jsxs("span",{children:[v(t.startTime)," - ",v(t.endTime)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:14}),e.jsx("span",{children:t.location})]})]}),p&&e.jsx("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-400",children:e.jsxs("span",{children:["with ",p.name]})})]})},t.id)})})})]})]})},ze=({speakers:h,userRole:l})=>{const[n,o]=b.useState(""),[a,r]=b.useState(null),m=h.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.company.toLowerCase().includes(n.toLowerCase())||i.title.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(q,{size:24,className:"text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Speaker Directory"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Meet our speakers and access their materials"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(ee,{type:"text",placeholder:"Search speakers by name, company, or expertise...",value:n,onChange:i=>o(i.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(i=>e.jsx(C,{className:"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70 transition-colors",children:e.jsx(T,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:i.avatar,alt:i.name,className:"w-20 h-20 rounded-full mb-4"}),e.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:i.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:i.title}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:i.company}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 mb-3",children:[e.jsx(we,{size:16,fill:"currentColor"}),e.jsxs("span",{className:"text-sm font-medium",children:[i.sessions.length," session",i.sessions.length!==1?"s":""]})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:i.bio}),i.socialLinks&&e.jsxs("div",{className:"flex gap-2 mb-4",children:[i.socialLinks.linkedin&&e.jsx(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 p-2",children:e.jsx(Q,{size:14})}),i.socialLinks.twitter&&e.jsx(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 p-2",children:e.jsx(Q,{size:14})}),i.socialLinks.website&&e.jsx(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 p-2",children:e.jsx(Q,{size:14})})]}),e.jsx(N,{onClick:()=>r(i),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"View Profile"})]})})},i.id))}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"bg-gray-800 border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx(z,{className:"border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:a.avatar,alt:a.name,className:"w-16 h-16 rounded-full"}),e.jsxs("div",{children:[e.jsx(A,{className:"text-white text-xl",children:a.name}),e.jsxs("p",{className:"text-gray-400",children:[a.title," at ",a.company]})]})]}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>r(null),className:"border-gray-600 text-gray-300",children:"Close"})]})}),e.jsxs(T,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Biography"}),e.jsx("p",{className:"text-gray-300",children:a.bio})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-3",children:"Speaking Sessions"}),e.jsx("div",{className:"space-y-2",children:a.sessions.map((i,f)=>e.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-white font-medium",children:["Session ",i]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Details would be populated from session data"})]},f))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-3",children:"Speaker Materials"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{title:"Presentation Slides",type:"PDF",size:"2.3 MB"},{title:"Speaker Bio & Headshots",type:"ZIP",size:"5.1 MB"},{title:"Additional Resources",type:"PDF",size:"1.8 MB"}].map((i,f)=>e.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-sm",children:i.title}),e.jsxs("div",{className:"text-gray-400 text-xs",children:[i.type," • ",i.size]})]}),e.jsx(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300",children:e.jsx(je,{size:14})})]},f))})]}),a.socialLinks&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-3",children:"Connect"}),e.jsx("div",{className:"flex gap-3",children:Object.entries(a.socialLinks).map(([i,f])=>e.jsxs(N,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 capitalize",children:[e.jsx(Q,{size:14,className:"mr-2"}),i]},i))})]})]})]})})]})};class Ae{async submitQuestion(l,n,o,a,r){const{data:m,error:i}=await S.from("event_qa_questions").insert({event_id:l,session_id:n,user_id:a,user_name:r||"Anonymous",question:o.trim()}).select().single();if(i)throw i;return m}async getQuestions(l,n){const{data:o,error:a}=await S.from("event_qa_questions").select("*").eq("event_id",l).eq("session_id",n).order("upvotes",{ascending:!1}).order("created_at",{ascending:!1});if(a)throw a;return o||[]}async upvoteQuestion(l,n){const{error:o}=await S.from("event_qa_upvotes").insert({question_id:l,user_id:n});if(o)throw o;const{data:a}=await S.from("event_qa_questions").select("upvotes").eq("id",l).single();a&&await S.from("event_qa_questions").update({upvotes:a.upvotes+1}).eq("id",l)}async hasUserUpvoted(l,n){const{data:o,error:a}=await S.from("event_qa_upvotes").select("question_id").eq("question_id",l).eq("user_id",n).maybeSingle();if(a)throw a;return!!o}async getUserUpvotedQuestions(l,n){const{data:o,error:a}=await S.from("event_qa_upvotes").select("question_id").eq("user_id",l).in("question_id",n);if(a)throw a;return(o||[]).map(r=>r.question_id)}async answerQuestion(l,n,o,a){const{error:r}=await S.from("event_qa_questions").update({answered:!0,answer:n.trim(),answered_by:o,answered_by_user_id:a,updated_at:new Date().toISOString()}).eq("id",l);if(r)throw r}subscribeToQuestions(l,n,o){const a=S.channel(`qa-${l}-${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"event_qa_questions",filter:`event_id=eq.${l}`},r=>{const m=r.new;m.session_id===n&&o(m)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"event_qa_questions",filter:`event_id=eq.${l}`},r=>{const m=r.new;m.session_id===n&&o(m)}).subscribe();return()=>{S.removeChannel(a)}}async deleteQuestion(l){const{error:n}=await S.from("event_qa_questions").delete().eq("id",l);if(n)throw n}}const E=new Ae,_e=({sessionId:h,eventId:l,userRole:n="attendee"})=>{const[o,a]=b.useState([]),[r,m]=b.useState(""),[i,f]=b.useState(!1),[w,k]=b.useState(new Set),[c,d]=b.useState(null),{toast:u}=K();b.useEffect(()=>{S.auth.getUser().then(({data:s})=>{var x;d(((x=s.user)==null?void 0:x.id)||null)})},[]),b.useEffect(()=>{(async()=>{try{const g=await E.getQuestions(l,h);if(a(g),c&&g.length>0){const y=await E.getUserUpvotedQuestions(c,g.map(_=>_.id));k(new Set(y))}}catch(g){console.error("Error fetching questions:",g)}})();const x=E.subscribeToQuestions(l,h,g=>{a(y=>y.find(M=>M.id===g.id)?y.map(M=>M.id===g.id?g:M):[g,...y])});return()=>{x()}},[l,h,c]);const v=async()=>{var s;if(r.trim()){f(!0);try{const{data:{user:x}}=await S.auth.getUser();let g=((s=x==null?void 0:x.email)==null?void 0:s.split("@")[0])||"Anonymous";if(!x){const y=prompt("Please enter your name to ask a question:");if(!y){f(!1);return}g=y}await E.submitQuestion(l,h,r,x==null?void 0:x.id,g),m(""),u({title:"Question submitted",description:"Your question has been added to the Q&A queue."})}catch(x){console.error("Error submitting question:",x),u({title:"Error",description:"Failed to submit question. Please try again.",variant:"destructive"})}finally{f(!1)}}},t=async s=>{if(!(!c||w.has(s)))try{await E.upvoteQuestion(s,c),k(x=>new Set([...x,s])),a(x=>x.map(g=>g.id===s?{...g,upvotes:g.upvotes+1}:g))}catch(x){console.error("Error upvoting question:",x),u({title:"Error",description:"Failed to upvote question.",variant:"destructive"})}},p=async(s,x)=>{var g;if(!(n!=="organizer"&&n!=="speaker"))try{const{data:{user:y}}=await S.auth.getUser(),_=((g=y==null?void 0:y.email)==null?void 0:g.split("@")[0])||"Speaker";await E.answerQuestion(s,x,_,y==null?void 0:y.id),u({title:"Question answered",description:"Your answer has been posted."})}catch(y){console.error("Error marking question as answered:",y),u({title:"Error",description:"Failed to post answer.",variant:"destructive"})}},j=n==="organizer"||n==="speaker";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(B,{size:24,className:"text-glass-orange"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Live Q&A"}),e.jsxs("span",{className:"bg-glass-orange/20 text-glass-orange px-2 py-1 rounded-full text-sm",children:[o.length," questions"]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[e.jsx(ye,{value:r,onChange:s=>m(s.target.value),placeholder:"Ask a question about this session...",className:"bg-gray-800/50 border-gray-600 text-white mb-3",rows:3}),e.jsxs(N,{onClick:v,disabled:!r.trim()||i,className:"bg-glass-orange hover:bg-glass-orange/80 text-white",children:[e.jsx(fe,{size:16,className:"mr-2"}),i?"Submitting...":"Submit Question"]})]}),e.jsxs("div",{className:"space-y-4",children:[o.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:s.user_name}),e.jsx("span",{className:"text-gray-500 text-xs",children:new Date(s.created_at).toLocaleTimeString()}),s.answered&&e.jsxs("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[e.jsx(Ne,{size:12}),"Answered"]})]}),e.jsx("p",{className:"text-white mb-3",children:s.question}),s.answer&&e.jsxs("div",{className:"bg-glass-orange/10 border border-glass-orange/20 rounded-lg p-3 mt-3",children:[e.jsxs("div",{className:"text-glass-orange text-sm font-medium mb-1",children:["Answer by ",s.answered_by,":"]}),e.jsx("p",{className:"text-gray-300",children:s.answer})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>t(s.id),disabled:w.has(s.id),className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${w.has(s.id)?"bg-glass-orange/20 text-glass-orange":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[e.jsx(ke,{size:14}),s.upvotes]}),j&&!s.answered&&e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>{const x=prompt("Provide an answer to this question:");x&&p(s.id,x)},className:"text-glass-orange hover:text-glass-orange/80",children:"Mark as Answered"})]})]},s.id)),o.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{size:48,className:"text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No questions yet. Be the first to ask!"})]})]})]})},Me=({eventId:h,attendees:l})=>{const[n,o]=b.useState(!1),[a,r]=b.useState([]),[m,i]=b.useState(""),{user:f}=X(),{toast:w}=K();b.useEffect(()=>{r([{id:"1",name:"Sarah Martinez",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",role:"Product Manager",company:"TechCorp Inc.",bio:"Passionate about building products that solve real problems. 8 years in tech product management."},{id:"2",name:"Michael Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",role:"Software Engineer",company:"StartupXYZ",bio:"Full-stack developer specializing in React and Node.js. Love discussing new technologies and best practices."},{id:"3",name:"Jessica Thompson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",role:"UX Designer",company:"Design Studio",bio:"Creating intuitive user experiences for mobile and web. Always excited to connect with fellow designers."}])},[h]);const k=()=>{var d;if(f)if(o(!n),n)r(u=>u.filter(v=>v.id!==f.id)),w({title:"Removed from directory",description:"You no longer appear in the attendee directory."});else{const u={id:f.id,name:((d=f.email)==null?void 0:d.split("@")[0])||"Anonymous",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",role:"Event Attendee",company:"Tech Professional",bio:"Excited to network and learn at this event!"};r(v=>[u,...v]),w({title:"Added to directory",description:"You now appear in the attendee directory."})}else{const u=prompt("Please enter your name:"),v=prompt("Please enter your job title:"),t=prompt("Please enter a short bio:");if(!u||!v||!t)return;o(!0);const p={id:Date.now().toString(),name:u,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",role:v,company:"Event Attendee",bio:t};r(j=>[p,...j]),w({title:"Added to directory",description:"You now appear in the attendee directory."})}},c=a.filter(d=>{var u,v;return d.name.toLowerCase().includes(m.toLowerCase())||d.role.toLowerCase().includes(m.toLowerCase())||((u=d.company)==null?void 0:u.toLowerCase().includes(m.toLowerCase()))||((v=d.bio)==null?void 0:v.toLowerCase().includes(m.toLowerCase()))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(q,{size:24,className:"text-glass-orange"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Networking Hub"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Attendee Directory"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Opt-in to appear in the attendee directory. Share your name, job, and bio."}),e.jsxs(N,{onClick:k,className:`${n?"bg-red-600 hover:bg-red-700 text-white":"bg-glass-orange hover:bg-glass-orange/80 text-white"}`,children:[e.jsx(ve,{size:16,className:"mr-2"}),n?"Remove from Directory":"Appear in Directory"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(ee,{value:m,onChange:d=>i(d.target.value),placeholder:"Search attendees...",className:"pl-10 bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(d=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:d.avatar,alt:d.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-lg mb-1",children:d.name}),e.jsx("p",{className:"text-glass-orange text-sm font-medium mb-2",children:d.role}),d.company&&e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:d.company}),d.bio&&e.jsx("p",{className:"text-gray-300 text-sm",children:d.bio})]})]})},d.id)),c.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(q,{size:48,className:"text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No attendees in the directory yet."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Be the first to opt-in and start networking!"})]})]})]})},Ee=({activeTab:h,onTabChange:l,onShowTripsPlusModal:n,tripId:o,basecamp:a,eventData:r,tripContext:m})=>{const{accentColors:i}=se(),w=[{id:"chat",label:"Chat",icon:pe},{id:"calendar",label:"Calendar",icon:R},{id:"todo",label:"Tasks",icon:oe},{id:"agenda",label:"Agenda",icon:R,eventOnly:!0},{id:"speakers",label:"Speakers",icon:q,eventOnly:!0},{id:"networking",label:"Networking",icon:Se,eventOnly:!0},{id:"live-qa",label:"Live Q&A",icon:B,eventOnly:!0},{id:"ai-chat",label:"Concierge",icon:Z}],k=()=>{switch(h){case"chat":return e.jsx(F,{enableGroupChat:!0,showBroadcasts:!0,isEvent:!0});case"calendar":return e.jsx(le,{});case"todo":return e.jsx(ne,{tripId:o});case"registration":return e.jsx(Ce,{eventId:o,capacity:r.capacity||r.attendanceExpected,registeredCount:r.attendanceExpected,checkedInCount:r.checkedInCount||Math.floor(r.attendanceExpected*.3),registrationStatus:r.registrationStatus||"open",userRole:r.userRole||"attendee"});case"agenda":return e.jsx(Te,{tracks:r.tracks||[],sessions:r.sessions||[],speakers:r.speakers||[],userRole:r.userRole||"attendee"});case"speakers":return e.jsx(ze,{speakers:r.speakers||[],userRole:r.userRole||"attendee"});case"networking":return e.jsx(Me,{eventId:o,attendees:r.participants.map(c=>({id:c.id.toString(),name:c.name,avatar:c.avatar,role:c.role,company:"Sample Company",bio:"Passionate about innovation and networking.",interests:["technology","innovation","startups"]}))});case"live-qa":return e.jsx(_e,{sessionId:"current-session",eventId:o,userRole:(r.userRole==="exhibitor"?"attendee":r.userRole)||"attendee"});case"ai-chat":return e.jsx(ie,{tripId:o,basecamp:a});default:return e.jsx(F,{enableGroupChat:!0,showBroadcasts:!0,isEvent:!0})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex overflow-x-auto whitespace-nowrap scroll-smooth gap-2 mb-8 pb-2 -mx-2 px-2 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 justify-center",children:w.map(c=>{const d=c.icon;return e.jsxs("button",{onClick:()=>l(c.id),className:`flex-shrink-0 min-w-max px-4 py-3 rounded-lg font-medium transition-all duration-200 text-sm flex items-center gap-2 ${h===c.id?`bg-gradient-to-r ${i.gradient} text-white shadow-md`:"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[d&&e.jsx(d,{size:16}),c.label,c.eventOnly&&e.jsx(Z,{size:14,className:`text-${i.primary}`})]},c.id)})}),k()]})},vs=()=>{const{eventId:h}=te(),{user:l}=X(),[n,o]=b.useState("chat"),[a,r]=b.useState(!1),[m,i]=b.useState(!1),[f,w]=b.useState(!1),[k,c]=b.useState(!1),[d,u]=b.useState(!1),[v,t]=b.useState(!1),[p,j]=b.useState("");if(console.log("EventDetail - eventId from params:",h),console.log("EventDetail - available mock data keys:",Object.keys(P)),!h)return e.jsx(G,{message:"No event ID provided."});if(!(h in P))return e.jsx(G,{message:"The requested event could not be found.",details:`Event ID: ${h}`,availableIds:Object.keys(P)});const s=P[h],x={id:parseInt(h.replace(/\D/g,"")||"1"),title:s.title,location:s.location,dateRange:s.dateRange,description:p||s.description||`Professional ${s.category.toLowerCase()} event in ${s.location}`,participants:s.participants.map(I=>({id:I.id,name:I.name,avatar:I.avatar}))};ae.useEffect(()=>{s.description&&!p&&j(s.description)},[s.description,p]);const g={name:"Event Headquarters",address:`${s.location}, Main Venue`},y=[],_=[{id:1,senderName:"Event Coordinator",content:`${s.category} schedule confirmed for all attendees`,timestamp:"2025-01-15T15:30:00Z"},{id:2,senderName:"Operations",content:`Welcome to ${s.title} - check your itinerary for updates`,timestamp:"2025-01-15T10:00:00Z"}],M=[{id:1,title:"Official Event Website",url:"https://event-official.com/info",category:"Information"},{id:2,title:"Venue Information",url:"https://venues.com/events",category:"Venue"},{id:3,title:"Networking Hub",url:"https://networking.events.com",category:"Networking"}],O={id:h,title:s.title,location:s.location,dateRange:s.dateRange,basecamp:g,calendar:s.itinerary,broadcasts:_,links:M,messages:y,collaborators:x.participants,itinerary:s.itinerary,budget:s.budget,isPro:!1,isEvent:!0,groupChatEnabled:s.groupChatEnabled,eventFeatures:{registration:!0,agenda:!0,networking:!0,speakers:!0,analytics:(s.userRole||"attendee")==="organizer"}};return e.jsx(re,{variant:"events",children:e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[e.jsx(xe,{tripContext:O,showInbox:a,onToggleInbox:()=>r(!a),onShowInvite:()=>w(!0),onShowTripSettings:()=>u(!0),onShowAuth:()=>c(!0)}),a&&l&&e.jsx("div",{className:"mb-8",children:e.jsx(ce,{})}),e.jsx(de,{trip:x,onDescriptionUpdate:j}),e.jsx(Ee,{activeTab:n,onTabChange:o,onShowTripsPlusModal:()=>t(!0),tripId:h,basecamp:g,eventData:s,tripContext:O})]}),e.jsx(me,{showSettings:m,onCloseSettings:()=>i(!1),showInvite:f,onCloseInvite:()=>w(!1),showAuth:k,onCloseAuth:()=>c(!1),showTripSettings:d,onCloseTripSettings:()=>u(!1),showTripsPlusModal:v,onCloseTripsPlusModal:()=>t(!1),tripName:s.title,tripId:h,userId:l==null?void 0:l.id})]})})};export{vs as default};
