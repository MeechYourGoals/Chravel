import{n as v,r as l,j as e}from"./index-CAsyng-G.js";import{D as f,a as N,b as y,c as S,L as g}from"./dialog-Cx8-WJ72.js";import{B as x}from"./button-_Pv0MPf0.js";import{I as w}from"./input-CkF3ltBX.js";import{M as I,a as C,b as M,c as D,d as E,e as h}from"./select-XMWUKs4c.js";import{u as L}from"./useOrganization-SBfay-F2.js";import{L as F}from"./loader-circle-CkOmKk2l.js";const k=({open:p,onClose:t,organizationId:u})=>{const{inviteMember:b}=L(),{toast:i}=v(),[r,m]=l.useState(!1),[s,o]=l.useState(""),[n,c]=l.useState("member"),j=async a=>{if(a.preventDefault(),!s){i({title:"Missing email",description:"Please enter an email address",variant:"destructive"});return}m(!0);const{error:d}=await b(u,s,n);d?i({title:"Error",description:d.message||"Failed to send invitation",variant:"destructive"}):(i({title:"Invitation sent",description:`Invitation sent to ${s}`}),t(),o(""),c("member")),m(!1)};return e.jsx(f,{open:p,onOpenChange:t,children:e.jsxs(N,{className:"sm:max-w-md bg-gray-900 border-white/10",children:[e.jsx(y,{children:e.jsxs(S,{className:"text-white flex items-center gap-2",children:[e.jsx(I,{size:20,className:"text-glass-orange"}),"Invite Team Member"]})}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),e.jsx(w,{id:"email",type:"email",value:s,onChange:a=>o(a.target.value),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"colleague@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"role",className:"text-gray-300",children:"Role"}),e.jsxs(C,{value:n,onValueChange:a=>c(a),children:[e.jsx(M,{className:"bg-gray-800/50 border-gray-600 text-white",children:e.jsx(D,{})}),e.jsxs(E,{className:"bg-gray-800 border-gray-600",children:[e.jsx(h,{value:"member",className:"text-white",children:"Member"}),e.jsx(h,{value:"admin",className:"text-white",children:"Admin"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n==="admin"?"Can manage members and organization settings":"Can view and participate in trips"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(x,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:r,children:"Cancel"}),e.jsx(x,{type:"submit",className:"flex-1 bg-glass-orange hover:bg-glass-orange/80",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Invitation"})]})]})]})})};export{k as I};
