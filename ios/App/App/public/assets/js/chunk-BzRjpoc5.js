import{c as e,a as o,j as r,A as t,u as n,P as a,b as s,d as i,W as d,aa as c,ab as u,ac as p,ad as l,D as f,C as v,e as h,m,g,h as x,f as P}from"./chunk-DE8J_P3a.js";import{r as C}from"./chunk-CHPtWMTz.js";import{f as O}from"../index-C69Cv9fm.js";var j="Popover",[b,w]=e(j,[o]),_=o(),[R,A]=b(j),y=e=>{const{__scopePopover:o,children:t,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,d=_(o),c=C.useRef(null),[u,p]=C.useState(!1),[l=!1,f]=g({prop:n,defaultProp:a,onChange:s});return r.jsx(x,{...d,children:r.jsx(R,{scope:o,contentId:P(),triggerRef:c,open:l,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>p(!0),[]),onCustomAnchorRemove:C.useCallback(()=>p(!1),[]),modal:i,children:t})})};y.displayName=j;var F="PopoverAnchor";C.forwardRef((e,o)=>{const{__scopePopover:n,...a}=e,s=A(F,n),i=_(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:c}=s;return C.useEffect(()=>(d(),()=>c()),[d,c]),r.jsx(t,{...i,...a,ref:o})}).displayName=F;var D="PopoverTrigger",k=C.forwardRef((e,o)=>{const{__scopePopover:i,...d}=e,c=A(D,i),u=_(i),p=n(o,c.triggerRef),l=r.jsx(a.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Z(c.open),...d,ref:p,onClick:s(e.onClick,c.onOpenToggle)});return c.hasCustomAnchor?l:r.jsx(t,{asChild:!0,...u,children:l})});k.displayName=D;var E="PopoverPortal",[N,I]=b(E,{forceMount:void 0}),M=e=>{const{__scopePopover:o,forceMount:t,children:n,container:a}=e,s=A(E,o);return r.jsx(N,{scope:o,forceMount:t,children:r.jsx(i,{present:t||s.open,children:r.jsx(m,{asChild:!0,container:a,children:n})})})};M.displayName=E;var z="PopoverContent",K=C.forwardRef((e,o)=>{const t=I(z,e.__scopePopover),{forceMount:n=t.forceMount,...a}=e,s=A(z,e.__scopePopover);return r.jsx(i,{present:n||s.open,children:s.modal?r.jsx(T,{...a,ref:o}):r.jsx(S,{...a,ref:o})})});K.displayName=z;var T=C.forwardRef((e,o)=>{const t=A(z,e.__scopePopover),a=C.useRef(null),i=n(o,a),p=C.useRef(!1);return C.useEffect(()=>{const e=a.current;if(e)return d(e)},[]),r.jsx(c,{as:u,allowPinchZoom:!0,children:r.jsx(U,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:s(e.onCloseAutoFocus,e=>{var o;e.preventDefault(),p.current||null==(o=t.triggerRef.current)||o.focus()}),onPointerDownOutside:s(e.onPointerDownOutside,e=>{const o=e.detail.originalEvent,r=0===o.button&&!0===o.ctrlKey,t=2===o.button||r;p.current=t},{checkForDefaultPrevented:!1}),onFocusOutside:s(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),S=C.forwardRef((e,o)=>{const t=A(z,e.__scopePopover),n=C.useRef(!1),a=C.useRef(!1);return r.jsx(U,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r,s;null==(r=e.onCloseAutoFocus)||r.call(e,o),o.defaultPrevented||(n.current||null==(s=t.triggerRef.current)||s.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var r,s;null==(r=e.onInteractOutside)||r.call(e,o),o.defaultPrevented||(n.current=!0,"pointerdown"===o.detail.originalEvent.type&&(a.current=!0));const i=o.target;(null==(s=t.triggerRef.current)?void 0:s.contains(i))&&o.preventDefault(),"focusin"===o.detail.originalEvent.type&&a.current&&o.preventDefault()}})}),U=C.forwardRef((e,o)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...m}=e,g=A(z,t),x=_(t);return p(),r.jsx(l,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:r.jsx(f,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:r.jsx(v,{"data-state":Z(g.open),role:"dialog",id:g.contentId,...x,...m,ref:o,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W="PopoverClose";C.forwardRef((e,o)=>{const{__scopePopover:t,...n}=e,i=A(W,t);return r.jsx(a.button,{type:"button",...n,ref:o,onClick:s(e.onClick,()=>i.onOpenChange(!1))})}).displayName=W;function Z(e){return e?"open":"closed"}C.forwardRef((e,o)=>{const{__scopePopover:t,...n}=e,a=_(t);return r.jsx(h,{...a,...n,ref:o})}).displayName="PopoverArrow";var q=M,B=K;const G=y,H=k,J=C.forwardRef(({className:e,align:o="center",sideOffset:t=4,...n},a)=>r.jsx(q,{children:r.jsx(B,{ref:a,align:o,sideOffset:t,className:O("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));J.displayName=B.displayName;export{G as P,H as a,J as b};
