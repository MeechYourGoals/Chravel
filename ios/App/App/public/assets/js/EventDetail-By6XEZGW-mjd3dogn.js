const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/exportPdfClient-BlEK9_X8-mjd3dogn.js","assets/js/pdf-G87Ow8VM-mjd3dogn.js","assets/js/supabase-DyX-XggK-mjd3dogn.js","assets/js/react-vendor-D1R0t5S0-mjd3dogn.js","assets/js/tripExportDataService-DiA2Alf2-mjd3dogn.js","assets/js/index-Ta7FH5xW-mjd3dogn.js","assets/js/ui-vendor-BO3EQrMK-mjd3dogn.js","assets/js/utils-DD44zzh--mjd3dogn.js","assets/index-Bc63Wok3.css","assets/js/eventsMockData-BWXZ-nj7-mjd3dogn.js","assets/js/tripsData-DKwZ96V_-mjd3dogn.js","assets/js/TripDetailModals-BpnQZ47b-mjd3dogn.js","assets/js/tripConverter-C1IUbOIF-mjd3dogn.js","assets/js/select-CMjqEsxb-mjd3dogn.js","assets/js/SettingsMenu-DFNATHGY-mjd3dogn.js","assets/js/SavedRecommendations-D-6cIfyL-mjd3dogn.js","assets/js/card-jeNxgMYk-mjd3dogn.js","assets/js/badge-DyE_ZUPM-mjd3dogn.js","assets/js/useSavedRecommendations-DTox9Xl2-mjd3dogn.js","assets/js/map-pin-BtCU-LeS-mjd3dogn.js","assets/js/plus-Dhwa7sZY-mjd3dogn.js","assets/js/pro-CZgaTEEg-mjd3dogn.js","assets/js/BillingSection-CjHrdMm3-mjd3dogn.js","assets/js/building-QMpp1aWF-mjd3dogn.js","assets/js/camera-AJLsIMdA-mjd3dogn.js","assets/js/user-DFuJ2ZP3-mjd3dogn.js","assets/js/shield-DGBvlKQi-mjd3dogn.js","assets/js/zap-LZcBFzwj-mjd3dogn.js","assets/js/trending-up-B0a-0y1l-mjd3dogn.js","assets/js/input-DsI2n-oJ-mjd3dogn.js","assets/js/label-D_iG0y88-mjd3dogn.js","assets/js/switch-GKuTbu---mjd3dogn.js","assets/js/loader-circle-C0Dqayt8-mjd3dogn.js","assets/js/mail-BdBVrsyz-mjd3dogn.js","assets/js/userPreferencesService-DregIO64-mjd3dogn.js","assets/js/calendar-C9K0fVga-mjd3dogn.js","assets/js/archive-zX2FvEif-mjd3dogn.js","assets/js/AuthModal-BKw70HSh-mjd3dogn.js","assets/js/arrow-left-Biq1qnK6-mjd3dogn.js","assets/js/eye-BNDPAvT6-mjd3dogn.js","assets/js/users-B07yK8Y7-mjd3dogn.js","assets/js/dropdown-menu-BXaKb4pk-mjd3dogn.js","assets/js/chevron-right-DKRZr0Ps-mjd3dogn.js","assets/js/dialog-BcLamxvL-mjd3dogn.js","assets/js/calendar-ylgcJK3b-mjd3dogn.js","assets/js/chevron-left-C1xtDQ_l-mjd3dogn.js","assets/js/progress-D31nnzej-mjd3dogn.js","assets/js/textarea-BudkfAn8-mjd3dogn.js","assets/js/googlePlacesNew-Dl7cAwDK-mjd3dogn.js","assets/js/external-link-CqAT5ABV-mjd3dogn.js","assets/js/circle-check-big-Bvor9_sf-mjd3dogn.js","assets/js/avatar-HCmfb6Ad-mjd3dogn.js","assets/js/circle-alert-CX60mGhN-mjd3dogn.js","assets/js/clock-CbBGjTQx-mjd3dogn.js","assets/js/chart-column-DOJCLy2J-mjd3dogn.js","assets/js/circle-check-CNnkiDfZ-mjd3dogn.js","assets/js/charts-CLK9EMgA-mjd3dogn.js","assets/js/share-2-DwO-SOoB-mjd3dogn.js","assets/TripDetailModals-D8Md-CES.css","assets/js/EventDetailContent-DR-5VbLW-mjd3dogn.js","assets/js/GroupCalendar-C7tHoqVY-mjd3dogn.js","assets/js/UnifiedMediaHub-CeKqWQUM-mjd3dogn.js","assets/js/tabs-Dxuz3Y6S-mjd3dogn.js","assets/js/AddLinkModal-BcpZ7zHk-mjd3dogn.js","assets/js/save-DwQheero-mjd3dogn.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./supabase-DyX-XggK-mjd3dogn.js";import{j as t}from"./ui-vendor-BO3EQrMK-mjd3dogn.js";import{u as n,i,r as a,R as s}from"./react-vendor-D1R0t5S0-mjd3dogn.js";import{u as r,a as o,h as d,M as l,b as c,c as m,d as p,e as u,T as g}from"./TripDetailModals-BpnQZ47b-mjd3dogn.js";import{T as j}from"./TripDetailHeader-DuOGWBm_-mjd3dogn.js";import{u as v,d as h,t as x,k as f,j as b,s as y,f as w,p as E,L as N}from"./index-Ta7FH5xW-mjd3dogn.js";import{u as S,k,o as T,e as D,T as I,I as C,c as _}from"./tripConverter-C1IUbOIF-mjd3dogn.js";import{e as P}from"./eventsMockData-BWXZ-nj7-mjd3dogn.js";import{P as M}from"./ProTripNotFound-cUoNZi2a-mjd3dogn.js";import{d as $}from"./SettingsMenu-DFNATHGY-mjd3dogn.js";import{A}from"./arrow-left-Biq1qnK6-mjd3dogn.js";import{E as R}from"./progress-D31nnzej-mjd3dogn.js";import"./tripsData-DKwZ96V_-mjd3dogn.js";import"./dropdown-menu-BXaKb4pk-mjd3dogn.js";import"./chevron-right-DKRZr0Ps-mjd3dogn.js";import"./select-CMjqEsxb-mjd3dogn.js";import"./input-DsI2n-oJ-mjd3dogn.js";import"./label-D_iG0y88-mjd3dogn.js";import"./card-jeNxgMYk-mjd3dogn.js";import"./badge-DyE_ZUPM-mjd3dogn.js";import"./dialog-BcLamxvL-mjd3dogn.js";import"./calendar-ylgcJK3b-mjd3dogn.js";import"./utils-DD44zzh--mjd3dogn.js";import"./chevron-left-C1xtDQ_l-mjd3dogn.js";import"./switch-GKuTbu---mjd3dogn.js";import"./users-B07yK8Y7-mjd3dogn.js";import"./calendar-C9K0fVga-mjd3dogn.js";import"./user-DFuJ2ZP3-mjd3dogn.js";import"./textarea-BudkfAn8-mjd3dogn.js";import"./plus-Dhwa7sZY-mjd3dogn.js";import"./camera-AJLsIMdA-mjd3dogn.js";import"./loader-circle-C0Dqayt8-mjd3dogn.js";import"./googlePlacesNew-Dl7cAwDK-mjd3dogn.js";import"./map-pin-BtCU-LeS-mjd3dogn.js";import"./external-link-CqAT5ABV-mjd3dogn.js";import"./circle-check-big-Bvor9_sf-mjd3dogn.js";import"./avatar-HCmfb6Ad-mjd3dogn.js";import"./circle-alert-CX60mGhN-mjd3dogn.js";import"./clock-CbBGjTQx-mjd3dogn.js";import"./chart-column-DOJCLy2J-mjd3dogn.js";import"./BillingSection-CjHrdMm3-mjd3dogn.js";import"./building-QMpp1aWF-mjd3dogn.js";import"./pro-CZgaTEEg-mjd3dogn.js";import"./circle-check-CNnkiDfZ-mjd3dogn.js";import"./charts-CLK9EMgA-mjd3dogn.js";import"./share-2-DwO-SOoB-mjd3dogn.js";import"./AuthModal-BKw70HSh-mjd3dogn.js";import"./mail-BdBVrsyz-mjd3dogn.js";import"./eye-BNDPAvT6-mjd3dogn.js";import"./zap-LZcBFzwj-mjd3dogn.js";import"./SavedRecommendations-D-6cIfyL-mjd3dogn.js";import"./useSavedRecommendations-DTox9Xl2-mjd3dogn.js";import"./shield-DGBvlKQi-mjd3dogn.js";import"./trending-up-B0a-0y1l-mjd3dogn.js";import"./userPreferencesService-DregIO64-mjd3dogn.js";import"./archive-zX2FvEif-mjd3dogn.js";const O=()=>{const{eventId:u}=n(),g=i(),{user:j}=v(),{isDemoMode:b,isLoading:y}=h(),{trips:w,loading:E}=S(),{tripMembers:N,loading:M}=r(u),[O,F]=a.useState(()=>{if("undefined"==typeof window)return"chat";return sessionStorage.getItem(`event_${u}_activeTab`)||"chat"}),[L,z]=a.useState(""),[V,G]=a.useState(!1),[U,q]=a.useState(!1),[B,H]=a.useState(!1),[Z,W]=a.useState(!1),[Y,J]=a.useState(!1),[Q,X]=a.useState(!1),K=s.useRef(null);s.useEffect(()=>{u&&sessionStorage.setItem(`event_${u}_activeTab`,O)},[O,u]),o({preventZoom:!0,adjustViewport:!0});const ee=a.useMemo(()=>{if(!u)return null;if(b)return P[u]||null;const e=null==w?void 0:w.find(e=>e.id===u&&"event"===e.trip_type);return e?k(e):null},[u,b,w]);s.useEffect(()=>{ee&&!L&&z(ee.description||"")},[ee,L]),s.useEffect(()=>{const e=()=>{var e;const t=(null==(e=K.current)?void 0:e.offsetHeight)||73;document.documentElement.style.setProperty("--mobile-header-h",`${t}px`)},t=((e,t=100)=>{let n;return()=>{clearTimeout(n),n=setTimeout(e,t)}})(e,100);return e(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]);const te=a.useCallback(async t=>{var n;const i=u||"1",a=!i.includes("-");x.info("Generating PDF",{description:`Creating summary for "${(null==ee?void 0:ee.title)||"Event"}"...`});try{let s;if(b||a){const a=f.getMockPayments(i),r=f.getMockPolls(i),o=f.getMockTasks(i),d=f.getMockPlaces(i),{generateClientPDF:l}=await e(async()=>{const{generateClientPDF:e}=await import("./exportPdfClient-BlEK9_X8-mjd3dogn.js");return{generateClientPDF:e}},__vite__mapDeps([0,1,2,3]));s=await l({tripId:i,tripTitle:(null==ee?void 0:ee.title)||"Event",destination:null==ee?void 0:ee.location,dateRange:null==ee?void 0:ee.dateRange,calendar:t.includes("calendar")?[]:void 0,payments:t.includes("payments")&&a.length>0?{items:a,total:a.reduce((e,t)=>e+t.amount,0),currency:(null==(n=a[0])?void 0:n.currency)||"USD"}:void 0,polls:t.includes("polls")?r:void 0,tasks:t.includes("tasks")?o.map(e=>({title:e.title,description:e.description,completed:e.completed})):void 0,places:t.includes("places")?d:void 0},t,{customization:{compress:!0,maxItemsPerSection:100}})}else{const{getExportData:n}=await e(async()=>{const{getExportData:e}=await import("./tripExportDataService-DiA2Alf2-mjd3dogn.js");return{getExportData:e}},__vite__mapDeps([4,5,6,3,2,7,8,9,10])),a=await n(i,t);if(!a)throw new Error("Could not fetch event data for export");const{generateClientPDF:r}=await e(async()=>{const{generateClientPDF:e}=await import("./exportPdfClient-BlEK9_X8-mjd3dogn.js");return{generateClientPDF:e}},__vite__mapDeps([0,1,2,3]));s=await r({tripId:i,tripTitle:a.trip.title,destination:a.trip.destination,dateRange:a.trip.dateRange,description:a.trip.description,calendar:a.calendar,payments:a.payments,polls:a.polls,tasks:a.tasks,places:a.places,roster:a.roster},t,{customization:{compress:!0,maxItemsPerSection:100}})}const r=`Event_${((null==ee?void 0:ee.title)||"Event").replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.pdf`;await T(s,r,{mimeType:"application/pdf"}),x.success("Export complete",{description:`PDF ready: ${r}`})}catch(s){throw x.error("Export failed",{description:s instanceof Error?s.message:"Failed to generate PDF. Please try again."}),s}},[u,ee,b]),ne=a.useCallback(async()=>{if(!ee)return;const e=`https://p.chravel.app/t/${encodeURIComponent(String(u))}`,t=`Check out ${ee.title} - an event in ${ee.location}! ${ee.participants.length} attendees are going.`;if(navigator.share)try{await navigator.share({title:ee.title,text:t,url:e}),x.success("Share sheet opened")}catch(n){if("AbortError"!==n.name)try{await navigator.clipboard.writeText(e),x.success("Share link copied to clipboard")}catch{x.error("Failed to share")}}else try{await navigator.clipboard.writeText(e),x.success("Share link copied to clipboard")}catch{x.error("Failed to copy share link")}},[u,ee]),ie=a.useCallback(async()=>{if((null==j?void 0:j.id)&&u){X(!0);try{await $(u,j.id),x.success("Event deleted",{description:`"${null==ee?void 0:ee.title}" has been removed from your account.`}),J(!1),g("/")}catch(e){"CREATOR_CANNOT_DELETE"===(e instanceof Error?e.message:"Unknown error")?x.error("Cannot delete event",{description:"As the event creator, you cannot delete this event for yourself. Consider archiving it instead."}):x.error("Failed to delete event",{description:"There was an error deleting your event. Please try again."})}finally{X(!1)}}else x.error("You must be logged in to delete an event")},[null==j?void 0:j.id,u,null==ee?void 0:ee.title,g]);if(y)return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Initializing..."})]})});if(!u)return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Not Found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"No event ID provided."}),t.jsx("button",{onClick:()=>{d.light(),g("/")},className:"bg-blue-600 text-white px-6 py-3 rounded-xl transition-colors active:scale-95",children:"Back to My Trips"})]})});if(E&&!b)return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading event..."})]})});if(!ee){const e=b?"This demo event doesn't exist.":"This event doesn't exist or you don't have access.";return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Event Not Found"}),t.jsx("p",{className:"text-gray-400 mb-2",children:e}),b&&t.jsxs("p",{className:"text-xs text-gray-500 mb-6",children:["Event ID: ",u]}),t.jsx("button",{onClick:()=>{d.light(),g("/")},className:"bg-blue-600 text-white px-6 py-3 rounded-xl transition-colors active:scale-95",children:"Back to My Trips"})]})})}const ae={id:parseInt(u.replace(/\D/g,"")||"1"),title:ee.title,location:ee.location,dateRange:ee.dateRange,description:L||ee.description||"",participants:b?ee.participants.map(e=>({id:e.id,name:e.name,avatar:e.avatar})):N.map(e=>({id:e.id,name:e.name,avatar:e.avatar||"",role:"member"}))},se={name:"Event Headquarters",address:`${ee.location}, Main Venue`};return t.jsx(l,{children:t.jsxs("div",{className:"flex flex-col min-h-screen bg-black",children:[t.jsx("div",{ref:K,className:"sticky top-0 z-50 bg-black/95 backdrop-blur-md border-b border-white/10 mobile-safe-header",children:t.jsx("div",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("button",{onClick:()=>{d.light(),g("/")},className:"flex-shrink-0 min-w-[44px] min-h-[44px] p-2 -ml-2 active:scale-95 transition-transform touch-manipulation flex items-center justify-center",style:{touchAction:"manipulation"},children:t.jsx(A,{size:22,className:"text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0 text-center",children:[t.jsx("h1",{className:"text-base font-semibold text-white leading-tight truncate",children:ee.title}),t.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-xs text-gray-400",children:[t.jsxs("span",{className:"truncate",children:[ee.location," â€¢ ",ee.participants.length," attendees"]}),t.jsxs("button",{onClick:()=>{d.light(),G(!0)},className:"flex-shrink-0 flex items-center gap-0.5 active:scale-95 transition-transform text-blue-400 hover:text-blue-300","aria-label":"View event details",children:[t.jsx(D,{size:14}),t.jsx("span",{className:"font-medium",children:"More"})]})]})]}),t.jsx("button",{onClick:()=>{d.light(),H(!0)},className:"flex-shrink-0 min-w-[44px] min-h-[44px] p-2 -mr-2 active:scale-95 transition-transform touch-manipulation flex items-center justify-center",style:{touchAction:"manipulation"},children:t.jsx(R,{size:22,className:"text-white"})})]})})}),t.jsx(c,{activeTab:O,onTabChange:e=>{d.light(),F(e)},tripId:u,basecamp:se,variant:"event",eventData:ee}),t.jsx(m,{trip:ae,isOpen:V,onClose:()=>{d.light(),G(!1)},onDescriptionUpdate:z,onShowExport:()=>{G(!1),setTimeout(()=>q(!0),200)},category:"category"in ee?ee.category:void 0}),t.jsx(p,{isOpen:B,onClose:()=>H(!1),tripTitle:null==ee?void 0:ee.title,onShare:ne,onExport:()=>q(!0),onInvite:()=>W(!0),onDelete:()=>J(!0)}),t.jsx(I,{isOpen:U,onClose:()=>q(!1),onExport:te,tripName:(null==ee?void 0:ee.title)||"Event",tripId:u||"1"}),t.jsx(C,{isOpen:Z,onClose:()=>W(!1),tripName:(null==ee?void 0:ee.title)||"Event",tripId:u}),t.jsx(_,{isOpen:Y,onClose:()=>J(!1),onConfirm:ie,tripTitle:(null==ee?void 0:ee.title)||"Event",isLoading:Q})]})})};const F=a.lazy(()=>e(()=>import("./TripDetailModals-BpnQZ47b-mjd3dogn.js").then(e=>e.U),__vite__mapDeps([11,6,3,5,2,7,8,12,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,9,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.TripHeader}))),L=a.lazy(()=>e(()=>import("./EventDetailContent-DR-5VbLW-mjd3dogn.js"),__vite__mapDeps([59,6,3,11,5,2,7,8,12,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,9,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,61,62,63,64])).then(e=>({default:e.EventDetailContent}))),z=()=>{const e=w(),{eventId:i}=n(),{generateInitialEmbeddings:o}=function(e){const[t,n]=a.useState({isGenerating:!1,error:null,lastGenerated:null}),{toast:i}=b(),{isDemoMode:s}=h(),r=a.useCallback(async(t="all",a=!1)=>{if(!e)return!1;if(s)return n({isGenerating:!1,error:null,lastGenerated:new Date}),!0;n(e=>({...e,isGenerating:!0,error:null}));try{const{data:s,error:r}=await y.functions.invoke("generate-embeddings",{body:{tripId:e,sourceType:t,forceRefresh:a,isDemoMode:!1}});if(r)throw r;if(!(null==s?void 0:s.success))throw new Error((null==s?void 0:s.error)||"Failed to generate embeddings");return n({isGenerating:!1,error:null,lastGenerated:new Date}),(a||0===s.totalProcessed)&&i({title:"AI Context Updated",description:`Generated ${s.totalProcessed} embeddings for better AI responses.`,duration:3e3}),!0}catch(r){const e=r instanceof Error?r.message:"Unknown error";return n({isGenerating:!1,error:e,lastGenerated:null}),a&&i({title:"Embedding Generation Failed",description:e,variant:"destructive",duration:5e3}),!1}},[e,i,s]),o=a.useCallback(async()=>{if(e&&!s)try{const{data:t,error:n}=await y.from("trip_embeddings").select("id").eq("trip_id",e).limit(1);if(n)return;t&&0!==t.length||await r("all",!1)}catch(t){}},[e,r,s]);return{...t,generateEmbeddings:r,generateInitialEmbeddings:o}}(i),{user:d}=v(),{isDemoMode:l,isLoading:c}=h(),{trips:m,loading:p}=S(),{tripMembers:x,loading:f}=r(i),[T,D]=a.useState("chat"),[I,C]=a.useState(!1),[_,$]=a.useState(!1),[A,R]=a.useState(!1),[z,V]=a.useState(!1),[G,U]=a.useState(!1),[q,B]=a.useState(!1),[H,Z]=a.useState(""),W=l&&i&&!(i in P),Y=s.useMemo(()=>{if(!i)return null;if(l)return W?null:P[i];const e=null==m?void 0:m.find(e=>e.id===i&&"event"===e.trip_type);return e?k(e):null},[i,l,W,m]);if(s.useEffect(()=>{(null==Y?void 0:Y.description)&&!H&&Z(Y.description)},[null==Y?void 0:Y.description,H]),s.useEffect(()=>{i&&d&&o()},[i,d,o]),s.useEffect(()=>{if(c||!i||W||!l||e)return;setTimeout(()=>{const e=document.querySelector("[data-chat-container]");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)},[c,i,W,l,e]),c||p&&!l)return t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading event..."})]})});if(!i)return t.jsx(M,{message:"No event ID provided."});if(l&&W)return t.jsx(M,{message:"The requested demo event could not be found.",details:`Event ID: ${i}`,availableIds:Object.keys(P)});if(!Y){const e=l?"This demo event doesn't exist.":"This event doesn't exist or you don't have access.";return t.jsx(M,{message:e,details:l?`Event ID: ${i}`:void 0,availableIds:l?Object.keys(P):void 0})}const J=null==m?void 0:m.find(e=>e.id===i),Q=l?"demo-user":(null==J?void 0:J.created_by)||(null==d?void 0:d.id)||"",X={id:i,title:Y.title,location:Y.location,dateRange:Y.dateRange,description:H||Y.description||`Professional ${Y.category.toLowerCase()} event in ${Y.location}`,created_by:Q,participants:l?Y.participants.map(e=>({id:e.id,name:e.name,avatar:e.avatar})):x.map(e=>({id:e.id,name:e.name,avatar:e.avatar||""}))},K={name:"Event Headquarters",address:`${Y.location}, Main Venue`},ee=[{id:1,senderName:"Event Coordinator",content:`${Y.category} schedule confirmed for all attendees`,timestamp:"2025-01-15T15:30:00Z"},{id:2,senderName:"Operations",content:`Welcome to ${Y.title} - check your itinerary for updates`,timestamp:"2025-01-15T10:00:00Z"}],te=[{id:"1",title:"Official Event Website",url:"https://event-official.com/info",category:"Information",votes:0,addedBy:"System",addedAt:(new Date).toISOString()},{id:"2",title:"Venue Information",url:"https://venues.com/events",category:"Venue",votes:0,addedBy:"System",addedAt:(new Date).toISOString()},{id:"3",title:"Networking Hub",url:"https://networking.events.com",category:"Networking",votes:0,addedBy:"System",addedAt:(new Date).toISOString()}];if(e)return t.jsx(O,{});const ne={tripId:i,title:Y.title,location:Y.location,dateRange:Y.dateRange,participants:X.participants.map(e=>({id:e.id.toString(),name:e.name,role:"attendee"})),itinerary:Y.itinerary.map((e,t)=>({id:t.toString(),title:`Day ${t+1}`,date:e.date,events:e.events})),accommodation:K.name,currentDate:(new Date).toISOString().split("T")[0],upcomingEvents:Y.itinerary.flatMap(e=>e.events.map(t=>({id:`${e.date}-${t.title}`,title:t.title,date:e.date,time:t.time,location:t.location}))).slice(0,5),recentUpdates:ee.map(e=>({id:e.id.toString(),type:"broadcast",message:e.content,timestamp:e.timestamp})),basecamp:K,isPro:!1,broadcasts:ee,links:te};return t.jsx(E,{variant:"events",children:t.jsxs("div",{className:"min-h-screen bg-black",children:[t.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[t.jsx(j,{tripContext:ne,showInbox:I,onToggleInbox:()=>C(!I),onShowInvite:()=>R(!0),onShowTripSettings:()=>U(!0),onShowAuth:()=>V(!0)}),I&&d&&t.jsx("div",{className:"mb-8",children:t.jsx(u,{})}),t.jsx(a.Suspense,{fallback:t.jsxs("div",{className:"mb-8 animate-pulse",children:[t.jsx("div",{className:"h-8 bg-white/5 rounded w-2/3 mb-4"}),t.jsx("div",{className:"h-4 bg-white/5 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-32 bg-white/5 rounded"})]}),children:t.jsx(F,{trip:{...X,created_by:Q},onDescriptionUpdate:Z})}),t.jsx(a.Suspense,{fallback:t.jsx(N,{className:"my-12"}),children:t.jsx(L,{activeTab:T,onTabChange:D,onShowTripsPlusModal:()=>B(!0),tripId:i,basecamp:K,eventData:Y,tripContext:ne})})]}),t.jsx(g,{showSettings:_,onCloseSettings:()=>$(!1),showInvite:A,onCloseInvite:()=>R(!1),showAuth:z,onCloseAuth:()=>V(!1),showTripSettings:G,onCloseTripSettings:()=>U(!1),showTripsPlusModal:q,onCloseTripsPlusModal:()=>B(!1),tripName:Y.title,tripId:i,userId:null==d?void 0:d.id})]})})};export{z as default};
