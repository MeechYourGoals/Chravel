import{n as h,r as c,j as e}from"./index-CAsyng-G.js";import{D as b,a as y,b as j,c as f,L as n}from"./dialog-Cx8-WJ72.js";import{B as d}from"./button-_Pv0MPf0.js";import{I as o}from"./input-CkF3ltBX.js";import{u as v}from"./useOrganization-SBfay-F2.js";import{L as N}from"./loader-circle-CkOmKk2l.js";const F=({open:g,onClose:t})=>{const{createOrganization:u}=v(),{toast:r}=h(),[l,m]=c.useState(!1),[a,s]=c.useState({name:"",display_name:"",billing_email:""}),p=async i=>{if(i.preventDefault(),!a.name||!a.billing_email){r({title:"Missing fields",description:"Please fill in all required fields",variant:"destructive"});return}m(!0);const{error:x}=await u({...a,display_name:a.display_name||a.name});x?r({title:"Error",description:"Failed to create organization",variant:"destructive"}):(r({title:"Success",description:"Organization created successfully"}),t(),s({name:"",display_name:"",billing_email:""})),m(!1)};return e.jsx(b,{open:g,onOpenChange:t,children:e.jsxs(y,{className:"sm:max-w-md bg-gray-900 border-white/10",children:[e.jsx(j,{children:e.jsx(f,{className:"text-white",children:"Create Organization"})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"text-gray-300",children:"Organization Name *"}),e.jsx(o,{id:"name",value:a.name,onChange:i=>s({...a,name:i.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"Acme Tours",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"display_name",className:"text-gray-300",children:"Display Name"}),e.jsx(o,{id:"display_name",value:a.display_name,onChange:i=>s({...a,display_name:i.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"Acme Tours & Events"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"billing_email",className:"text-gray-300",children:"Billing Email *"}),e.jsx(o,{id:"billing_email",type:"email",value:a.billing_email,onChange:i=>s({...a,billing_email:i.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"billing@acmetours.com",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:l,children:"Cancel"}),e.jsx(d,{type:"submit",className:"flex-1 bg-glass-orange hover:bg-glass-orange/80",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Organization"})]})]})]})})};export{F as C};
