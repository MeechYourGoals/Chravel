import{a as e,u as t,b as r,j as s,P as a,f as n,d as o,J as d,K as c}from"./ui-vendor-BO3EQrMK-mjd3dogn.js";import{r as i}from"./react-vendor-D1R0t5S0-mjd3dogn.js";import{a as l}from"./index-Ta7FH5xW-mjd3dogn.js";import{a as u}from"./select-CMjqEsxb-mjd3dogn.js";var f="Checkbox",[p,m]=e(f),[b,h]=p(f),k=i.forwardRef((e,o)=>{const{__scopeCheckbox:d,name:c,checked:l,defaultChecked:u,required:f,disabled:p,value:m="on",onCheckedChange:h,form:k,...v}=e,[x,C]=i.useState(null),w=t(o,e=>C(e)),E=i.useRef(!1),N=!x||(k||!!x.closest("form")),[R=!1,P]=r({prop:l,defaultProp:u,onChange:h}),D=i.useRef(R);return i.useEffect(()=>{const e=null==x?void 0:x.form;if(e){const t=()=>P(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[x,P]),s.jsxs(b,{scope:d,state:R,disabled:p,children:[s.jsx(a.button,{type:"button",role:"checkbox","aria-checked":j(R)?"mixed":R,"aria-required":f,"data-state":g(R),"data-disabled":p?"":void 0,disabled:p,value:m,...v,ref:w,onKeyDown:n(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:n(e.onClick,e=>{P(e=>!!j(e)||!e),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),N&&s.jsx(y,{control:x,bubbles:!E.current,name:c,value:m,checked:R,required:f,disabled:p,form:k,style:{transform:"translateX(-100%)"},defaultChecked:!j(u)&&u})]})});k.displayName=f;var v="CheckboxIndicator",x=i.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...d}=e,c=h(v,r);return s.jsx(o,{present:n||j(c.state)||!0===c.state,children:s.jsx(a.span,{"data-state":g(c.state),"data-disabled":c.disabled?"":void 0,...d,ref:t,style:{pointerEvents:"none",...e.style}})})});x.displayName=v;var y=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...o}=e,l=i.useRef(null),u=d(r),f=c(t);i.useEffect(()=>{const e=l.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==r&&s){const t=new Event("click",{bubbles:a});e.indeterminate=j(r),s.call(e,!j(r)&&r),e.dispatchEvent(t)}},[u,r,a]);const p=i.useRef(!j(r)&&r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??p.current,...o,tabIndex:-1,ref:l,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function g(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var C=k,w=x;const E=i.forwardRef(({className:e,...t},r)=>s.jsx(C,{ref:r,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(w,{className:l("flex items-center justify-center text-current"),children:s.jsx(u,{className:"h-4 w-4"})})}));E.displayName=C.displayName;export{E as C};
