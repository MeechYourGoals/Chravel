import{c as a,j as e,P as r,k as s,n as o}from"./chunk-DE8J_P3a.js";import{r as t}from"./chunk-CHPtWMTz.js";import{f as l}from"../index-C69Cv9fm.js";var n="Avatar",[d,i]=a(n),[f,c]=d(n),u=t.forwardRef((a,s)=>{const{__scopeAvatar:o,...l}=a,[n,d]=t.useState("idle");return e.jsx(f,{scope:o,imageLoadingStatus:n,onImageLoadingStatusChange:d,children:e.jsx(r.span,{...l,ref:s})})});u.displayName=n;var m="AvatarImage",p=t.forwardRef((a,l)=>{const{__scopeAvatar:n,src:d,onLoadingStatusChange:i=()=>{},...f}=a,u=c(m,n),p=function(a,e){const[r,s]=t.useState("idle");return o(()=>{if(!a)return void s("error");let r=!0;const o=new window.Image,t=a=>()=>{r&&s(a)};return s("loading"),o.onload=t("loaded"),o.onerror=t("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{r=!1}},[a,e]),r}(d,f.referrerPolicy),g=s(a=>{i(a),u.onImageLoadingStatusChange(a)});return o(()=>{"idle"!==p&&g(p)},[p,g]),"loaded"===p?e.jsx(r.img,{...f,ref:l,src:d}):null});p.displayName=m;var g="AvatarFallback",w=t.forwardRef((a,s)=>{const{__scopeAvatar:o,delayMs:l,...n}=a,d=c(g,o),[i,f]=t.useState(void 0===l);return t.useEffect(()=>{if(void 0!==l){const a=window.setTimeout(()=>f(!0),l);return()=>window.clearTimeout(a)}},[l]),i&&"loaded"!==d.imageLoadingStatus?e.jsx(r.span,{...n,ref:s}):null});w.displayName=g;var v=u,N=p,y=w;const j=t.forwardRef(({className:a,...r},s)=>e.jsx(v,{ref:s,className:l("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r}));j.displayName=v.displayName;const h=t.forwardRef(({className:a,...r},s)=>e.jsx(N,{ref:s,className:l("aspect-square h-full w-full",a),...r}));h.displayName=N.displayName;const x=t.forwardRef(({className:a,...r},s)=>e.jsx(y,{ref:s,className:l("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r}));x.displayName=y.displayName;export{j as A,h as a,x as b};
