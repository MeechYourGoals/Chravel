import{c as e,g as s,j as t,f as a,P as r,b as i,d as n,u as l,n as o,z as c,E as d}from"./chunk-DE8J_P3a.js";import{B as m}from"./chunk--pMnkzaH.js";import{C as h}from"./chunk-C0eak1NN.js";import{U as x,S as p,C as g,T as u}from"./chunk-BxvRdxTs.js";import{r as b}from"./chunk-CHPtWMTz.js";import{S as f}from"./chunk-DyZQNKrs.js";import{C as j}from"./chunk-D_Qk7JHd.js";import{B as v}from"./chunk-CKgI9q5n.js";import{I as N}from"./chunk-D3Z6_DOi.js";import{L as y}from"./chunk-YjRoWQ3-.js";import{S as w,a as k,b as C,c as S,d as M}from"./chunk-LoZVIojA.js";import{c as T,f as z,X as A,s as R,t as D,j as I}from"../index-C69Cv9fm.js";import{M as E}from"./chunk-DgElOEdu.js";import{C as P}from"./chunk-CD10_Lnj.js";import{B as O}from"./chunk-Bc1XvzR8.js";import{U as L}from"./chunk-D5WpN7K-.js";import{C as F}from"./chunk-DJZXZyJn.js";import{u as U}from"./chunk-A2g_dVj8.js";import{C as _,b as $,c as B,a as q}from"./chunk-30ZbY-F3.js";import{L as V}from"./chunk-BIY1ublO.js";import{C as H}from"./chunk-DeuaeHUI.js";import{C as J}from"./chunk-D53qnCh4.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=T("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),G=T("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),K=T("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Y=T("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),W=T("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),X=T("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q="Collapsible",[ee,se]=e(Q),[te,ae]=ee(Q),re=b.forwardRef((e,i)=>{const{__scopeCollapsible:n,open:l,defaultOpen:o,disabled:c,onOpenChange:d,...m}=e,[h=!1,x]=s({prop:l,defaultProp:o,onChange:d});return t.jsx(te,{scope:n,disabled:c,contentId:a(),open:h,onOpenToggle:b.useCallback(()=>x(e=>!e),[x]),children:t.jsx(r.div,{"data-state":de(h),"data-disabled":c?"":void 0,...m,ref:i})})});re.displayName=Q;var ie="CollapsibleTrigger",ne=b.forwardRef((e,s)=>{const{__scopeCollapsible:a,...n}=e,l=ae(ie,a);return t.jsx(r.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":de(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...n,ref:s,onClick:i(e.onClick,l.onOpenToggle)})});ne.displayName=ie;var le="CollapsibleContent",oe=b.forwardRef((e,s)=>{const{forceMount:a,...r}=e,i=ae(le,e.__scopeCollapsible);return t.jsx(n,{present:a||i.open,children:({present:e})=>t.jsx(ce,{...r,ref:s,present:e})})});oe.displayName=le;var ce=b.forwardRef((e,s)=>{const{__scopeCollapsible:a,present:i,children:n,...c}=e,d=ae(le,a),[m,h]=b.useState(i),x=b.useRef(null),p=l(s,x),g=b.useRef(0),u=g.current,f=b.useRef(0),j=f.current,v=d.open||m,N=b.useRef(v),y=b.useRef();return b.useEffect(()=>{const e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),o(()=>{const e=x.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const s=e.getBoundingClientRect();g.current=s.height,f.current=s.width,N.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),h(i)}},[d.open,i]),t.jsx(r.div,{"data-state":de(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!v,...c,ref:p,style:{"--radix-collapsible-content-height":u?`${u}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&n})});function de(e){return e?"open":"closed"}const me=re,he=ne,xe=oe;var pe="Checkbox",[ge,ue]=e(pe),[be,fe]=ge(pe),je=b.forwardRef((e,a)=>{const{__scopeCheckbox:n,name:o,checked:c,defaultChecked:d,required:m,disabled:h,value:x="on",onCheckedChange:p,form:g,...u}=e,[f,j]=b.useState(null),v=l(a,e=>j(e)),N=b.useRef(!1),y=!f||(g||!!f.closest("form")),[w=!1,k]=s({prop:c,defaultProp:d,onChange:p}),C=b.useRef(w);return b.useEffect(()=>{const e=null==f?void 0:f.form;if(e){const s=()=>k(C.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[f,k]),t.jsxs(be,{scope:n,state:w,disabled:h,children:[t.jsx(r.button,{type:"button",role:"checkbox","aria-checked":we(w)?"mixed":w,"aria-required":m,"data-state":ke(w),"data-disabled":h?"":void 0,disabled:h,value:x,...u,ref:v,onKeyDown:i(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:i(e.onClick,e=>{k(e=>!!we(e)||!e),y&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),y&&t.jsx(ye,{control:f,bubbles:!N.current,name:o,value:x,checked:w,required:m,disabled:h,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!we(d)&&d})]})});je.displayName=pe;var ve="CheckboxIndicator",Ne=b.forwardRef((e,s)=>{const{__scopeCheckbox:a,forceMount:i,...l}=e,o=fe(ve,a);return t.jsx(n,{present:i||we(o.state)||!0===o.state,children:t.jsx(r.span,{"data-state":ke(o.state),"data-disabled":o.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...e.style}})})});Ne.displayName=ve;var ye=e=>{const{control:s,checked:a,bubbles:r=!0,defaultChecked:i,...n}=e,l=b.useRef(null),o=c(a),m=d(s);b.useEffect(()=>{const e=l.current,s=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(s,"checked").set;if(o!==a&&t){const s=new Event("click",{bubbles:r});e.indeterminate=we(a),t.call(e,!we(a)&&a),e.dispatchEvent(s)}},[o,a,r]);const h=b.useRef(!we(a)&&a);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...n,tabIndex:-1,ref:l,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function we(e){return"indeterminate"===e}function ke(e){return we(e)?"indeterminate":e?"checked":"unchecked"}var Ce=je,Se=Ne;const Me=b.forwardRef(({className:e,...s},a)=>t.jsx(Ce,{ref:a,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(Se,{className:z("flex items-center justify-center text-current"),children:t.jsx(P,{className:"h-4 w-4"})})}));Me.displayName=Ce.displayName;const Te=({organization:e})=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-glass-orange to-glass-yellow rounded-xl flex items-center justify-center",children:t.jsx(m,{size:24,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:"Organization Settings"}),t.jsx("p",{className:"text-gray-400",children:"Manage your organization profile and details"})]})]}),t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Organization Logo"}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-glass-orange to-glass-yellow rounded-xl flex items-center justify-center",children:t.jsx(m,{size:32,className:"text-white"})}),t.jsx("button",{className:"absolute -bottom-2 -right-2 bg-glass-orange hover:bg-glass-orange/80 text-white p-2 rounded-full transition-colors",children:t.jsx(h,{size:16})})]}),t.jsxs("div",{children:[t.jsxs("button",{className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(x,{size:16}),"Upload Logo"]}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"PNG, SVG or JPG. Max size 2MB."})]})]})]}),t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Organization Details"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Organization Name"}),t.jsx("input",{type:"text",defaultValue:e.name,className:"w-full bg-gray-800/50 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-glass-orange/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Display Name"}),t.jsx("input",{type:"text",defaultValue:e.displayName,className:"w-full bg-gray-800/50 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-glass-orange/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Billing Email"}),t.jsx("input",{type:"email",defaultValue:e.billingEmail,className:"w-full bg-gray-800/50 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-glass-orange/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Organization ID"}),t.jsx("input",{type:"text",value:e.id,disabled:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-gray-400 rounded-lg px-4 py-3"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Organization Description"}),t.jsx("textarea",{placeholder:"Describe your organization's mission and focus...",className:"w-full bg-gray-800/50 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-glass-orange/50 resize-none",rows:3})]}),t.jsx("button",{className:"mt-6 bg-glass-orange hover:bg-glass-orange/80 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Save Changes"})]})]}),ze=({organization:e})=>{const[s,a]=b.useState("growing");return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:"Billing & Subscription"}),t.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(j,{size:24,className:"text-green-400"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xl font-bold text-white",children:f[e.subscriptionTier].name}),t.jsx("p",{className:"text-green-400",children:"Active Subscription"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",f[e.subscriptionTier].price,"/month"]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Renews ",e.subscriptionEndsAt]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white mb-3",children:"Current Plan Features"}),t.jsx("ul",{className:"space-y-2 text-sm text-gray-300",children:f[e.subscriptionTier].features.map((e,s)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mt-2 flex-shrink-0"}),e]},s))})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white mb-3",children:"Usage Statistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-400",children:"Seats Used"}),t.jsxs("span",{className:"text-white",children:[e.seatsUsed,"/",e.seatLimit]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:e.seatsUsed/e.seatLimit*100+"%"}})})]}),t.jsxs("div",{className:"text-sm text-gray-400",children:[e.seatLimit-e.seatsUsed," seats available"]})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{className:"bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Manage Billing"}),t.jsx("button",{className:"bg-glass-orange hover:bg-glass-orange/80 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Upgrade Plan"})]})]}),t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Available Plans"}),t.jsx("div",{className:"space-y-4",children:Object.entries(f).map(([r,i])=>t.jsxs(me,{open:s===r,onOpenChange:()=>a(s===r?null:r),children:[t.jsx(he,{className:"w-full",children:t.jsx("div",{className:"border rounded-lg p-4 transition-colors hover:bg-white/5 "+(r===e.subscriptionTier?"border-green-500/50 bg-green-500/10":"border-white/10 bg-white/5"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-left",children:[t.jsx("h5",{className:"font-semibold text-white",children:i.name}),t.jsxs("div",{className:"text-xl font-bold text-white",children:["$",i.price,"/month"]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Up to ",i.seatLimit," seats"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r===e.subscriptionTier&&t.jsx("div",{className:"text-sm text-green-400 font-medium",children:"Current Plan"}),t.jsx("div",{className:"text-gray-400",children:s===r?"−":"+"})]})]})})}),t.jsx(xe,{className:"mt-2",children:t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 ml-4",children:[t.jsx("h6",{className:"font-medium text-white mb-3",children:"Features Included:"}),t.jsx("ul",{className:"space-y-2 text-sm text-gray-300",children:i.features.map((e,s)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-glass-orange rounded-full mt-2 flex-shrink-0"}),e]},s))}),r!==e.subscriptionTier&&t.jsxs("button",{className:"mt-4 bg-glass-orange hover:bg-glass-orange/80 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:["Upgrade to ",i.name]})]})})]},r))})]})]})},Ae=({isOpen:e,onClose:s,onAddMember:a,tripCategory:r})=>{const[i,n]=b.useState({name:"",role:"",email:"",phone:"",contactMethod:"email",sendInvite:!0}),[l,o]=b.useState(!0),[c,d]=b.useState(!1),m={"Sports – Pro, Collegiate, Youth":["Player","Coach","Assistant Coach","Trainer","Team Manager","Student-Athlete","Athletic Director"],"Tour – Music, Comedy, etc.":["Artist","Tour Manager","Sound Engineer","Lighting Tech","Crew","Security","Photographer","Comedian","Performer"],"Business Travel":["Executive","Manager","Employee","Consultant","Client","Admin","Participant","Organizer"],"School Trip":["Student","Teacher","Chaperone","Guide","Bus Driver","Admin"],Content:["Director","Producer","Actor","Crew","Camera Operator","Sound Engineer"],Other:["Participant","Staff","Admin","Coordinator","Assistant"]}[r]||["Team Member","Staff","Admin"];return e?t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-3xl p-8 max-w-md w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Add Team Member"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx(A,{size:24})})]}),t.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!i.name.trim()||!i.role)return;let t="email";l&&c?t="both":c&&(t="phone");const r={name:i.name.trim(),role:i.role,email:l?i.email:void 0,phone:c?i.phone:void 0,contactMethod:t,invitedAt:i.sendInvite?(new Date).toISOString():void 0};a(r),n({name:"",role:"",email:"",phone:"",contactMethod:"email",sendInvite:!0}),o(!0),d(!1),s()},className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(y,{htmlFor:"name",className:"text-white",children:"Name *"}),t.jsx(N,{id:"name",value:i.name,onChange:e=>n(s=>({...s,name:e.target.value})),placeholder:"Enter full name",className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(y,{className:"text-white",children:"Role *"}),t.jsxs(w,{value:i.role,onValueChange:e=>n(s=>({...s,role:e})),children:[t.jsx(k,{className:"bg-white/10 border-white/20 text-white",children:t.jsx(C,{placeholder:"Select a role"})}),t.jsx(S,{children:m.map(e=>t.jsx(M,{value:e,children:e},e))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(y,{className:"text-white",children:"Contact Information"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(E,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-white",children:"Email"})]}),t.jsx(p,{checked:l,onCheckedChange:o})]}),l&&t.jsx(N,{type:"email",value:i.email,onChange:e=>n(s=>({...s,email:e.target.value})),placeholder:"Enter email address",className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-white",children:"Phone"})]}),t.jsx(p,{checked:c,onCheckedChange:d})]}),c&&t.jsx(N,{type:"tel",value:i.phone,onChange:e=>n(s=>({...s,phone:e.target.value})),placeholder:"Enter phone number",className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(P,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-white",children:"Send invitation immediately"})]}),t.jsx(p,{checked:i.sendInvite,onCheckedChange:e=>n(s=>({...s,sendInvite:e}))})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(v,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),t.jsx(v,{type:"submit",className:"flex-1 bg-primary hover:bg-primary/80",disabled:!i.name.trim()||!i.role||!l&&!c,children:"Add Member"})]})]})]})}):null},Re=({isOpen:e,onClose:s,onBulkAdd:a,tripCategory:r})=>{const[i,n]=b.useState(!1),[l,o]=b.useState([]),[c,d]=b.useState([]),[m,h]=b.useState(!1),p=b.useCallback(e=>{h(!0),d([]);const s=new FileReader;s.onload=e=>{var s;try{const t=(e=>{const s=e.split("\n").filter(e=>e.trim()),t=s[0].split(",").map(e=>e.trim().toLowerCase());return s.slice(1).map(e=>{const s=e.split(",").map(e=>e.trim()),a={};return t.forEach((e,t)=>{a[e]=s[t]||""}),{name:a.name||"",role:a.role||"",email:a.email||void 0,phone:a.phone||void 0,contactMethod:a.contactmethod||"email"}})})(null==(s=e.target)?void 0:s.result),a=(e=>{const s=[];return e.forEach((e,t)=>{var a,r;(null==(a=e.name)?void 0:a.trim())||s.push(`Row ${t+1}: Name is required`),(null==(r=e.role)?void 0:r.trim())||s.push(`Row ${t+1}: Role is required`),e.email||e.phone||s.push(`Row ${t+1}: Either email or phone is required`),e.email&&!/\S+@\S+\.\S+/.test(e.email)&&s.push(`Row ${t+1}: Invalid email format`)}),s})(t);a.length>0?d(a):o(t)}catch(t){d(["Failed to parse file. Please check the format."])}finally{h(!1)}},s.readAsText(e)},[]),u=b.useCallback(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?n(!0):"dragleave"===e.type&&n(!1)},[]),f=b.useCallback(e=>{e.preventDefault(),e.stopPropagation(),n(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&p(e.dataTransfer.files[0])},[p]);return e?t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-3xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Bulk Upload Members"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx(A,{size:24})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx(y,{className:"text-white mb-2 block",children:"Step 1: Download Template"}),t.jsxs(v,{onClick:()=>{const e=[["name","role","email","phone","contactMethod"].join(","),"John Doe,Player,john@example.com,555-0123,email","Jane Smith,Coach,jane@example.com,555-0124,both"].join("\n"),s=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`${r}-roster-template.csv`,a.click(),window.URL.revokeObjectURL(t)},variant:"outline",className:"w-full flex items-center gap-2",children:[t.jsx(Z,{size:16}),"Download CSV Template"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx(y,{className:"text-white mb-2 block",children:"Step 2: Upload Completed CSV"}),t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors "+(i?"border-primary bg-primary/10":"border-white/20 hover:border-white/40"),onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:f,children:[t.jsx(x,{size:48,className:"mx-auto text-gray-400 mb-4"}),t.jsx("p",{className:"text-white mb-2",children:"Drag and drop your CSV file here, or"}),t.jsx(v,{variant:"outline",className:"mb-2",children:t.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:"Choose File"})}),t.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])},className:"hidden"}),t.jsx("p",{className:"text-sm text-gray-400",children:"CSV files only"})]})]}),c.length>0&&t.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(g,{size:16,className:"text-red-400"}),t.jsx("span",{className:"text-red-400 font-medium",children:"Validation Errors"})]}),t.jsx("ul",{className:"text-sm text-red-300 space-y-1",children:c.map((e,s)=>t.jsxs("li",{children:["• ",e]},s))})]}),l.length>0&&0===c.length&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(P,{size:16,className:"text-green-400"}),t.jsxs("span",{className:"text-green-400 font-medium",children:[l.length," members ready to import"]})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 max-h-60 overflow-y-auto",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-300 mb-2",children:[t.jsx("div",{children:"Name"}),t.jsx("div",{children:"Role"}),t.jsx("div",{children:"Email"}),t.jsx("div",{children:"Phone"})]}),l.slice(0,10).map((e,s)=>t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-white py-2 border-t border-white/10",children:[t.jsx("div",{children:e.name}),t.jsx("div",{children:e.role}),t.jsx("div",{children:e.email||"-"}),t.jsx("div",{children:e.phone||"-"})]},s)),l.length>10&&t.jsxs("div",{className:"text-sm text-gray-400 pt-2",children:["...and ",l.length-10," more"]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(v,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),t.jsx(v,{onClick:()=>{if(0===l.length)return;const e=l.map(e=>({name:e.name,role:e.role,email:e.email,phone:e.phone,contactMethod:e.contactMethod,invitedAt:(new Date).toISOString()}));a(e),s()},className:"flex-1 bg-primary hover:bg-primary/80",disabled:0===l.length||c.length>0||m,children:m?"Processing...":`Import ${l.length} Members`})]})]})}):null},De=b.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:z("w-full caption-bottom text-sm",e),...s})}));De.displayName="Table";const Ie=b.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:z("[&_tr]:border-b",e),...s}));Ie.displayName="TableHeader";const Ee=b.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:z("[&_tr:last-child]:border-0",e),...s}));Ee.displayName="TableBody";b.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const Pe=b.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Pe.displayName="TableRow";const Oe=b.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));Oe.displayName="TableHead";const Le=b.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));Le.displayName="TableCell";b.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:z("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";const Fe=({members:e,selectedMembers:s,onMemberSelect:a,onSelectAll:r,onEditMember:i,onDeleteMember:n,onResendInvite:l})=>t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"rounded-md border border-white/20 bg-white/5",children:t.jsxs(De,{children:[t.jsx(Ie,{children:t.jsxs(Pe,{className:"border-white/20 hover:bg-white/5",children:[t.jsx(Oe,{className:"w-12",children:t.jsx(Me,{className:"border-white/30"})}),t.jsx(Oe,{className:"text-gray-300",children:"Name"}),t.jsx(Oe,{className:"text-gray-300",children:"Role"}),t.jsx(Oe,{className:"text-gray-300",children:"Status"})]})}),t.jsx(Ee,{children:e.map(e=>t.jsxs(Pe,{className:"border-white/20 hover:bg-white/5",children:[t.jsx(Le,{children:t.jsx(Me,{className:"border-white/30"})}),t.jsx(Le,{className:"text-white font-medium",children:e.name}),t.jsx(Le,{className:"text-gray-300",children:e.role}),t.jsx(Le,{children:t.jsx(O,{className:"bg-green-500/20 text-green-300",children:"Active"})})]},e.id))})]})})}),Ue=({selectedMembers:e,members:s,onSendBatchInvitations:a,onClearSelection:r})=>{const[i,n]=b.useState(""),[l,o]=b.useState(!1),[c,d]=b.useState(!1),m=s.filter(s=>e.includes(s.id)),h=m.filter(e=>"invited"===e.status||"declined"===e.status||!e.invitationSent),x=()=>`invite_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return 0===e.length?t.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx(L,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select team members to send batch invitations"})]})}):t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:"Batch Invitations"}),t.jsxs(O,{className:"bg-primary/20 text-primary",children:[e.length," selected"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx(y,{className:"text-white mb-2 block",children:"Selected Members"}),t.jsx("div",{className:"bg-white/5 rounded-lg p-4 max-h-32 overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.map(e=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-white",children:e.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:e.role}),"active"===e.status?t.jsx(P,{size:12,className:"text-green-400"}):e.invitationSent?t.jsx(F,{size:12,className:"text-yellow-400"}):t.jsx(g,{size:12,className:"text-red-400"})]})]},e.id))})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white/5 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-green-400",children:h.length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Can Invite"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-yellow-400",children:m.filter(e=>e.invitationSent&&"active"!==e.status).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Pending"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-blue-400",children:m.filter(e=>"active"===e.status).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Active"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx(y,{htmlFor:"message",className:"text-white mb-2 block",children:"Custom Message (Optional)"}),t.jsx(u,{id:"message",value:i,onChange:e=>n(e.target.value),placeholder:"Add a personal message to the invitation...",className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 min-h-20",maxLength:500}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[i.length,"/500 characters"]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Urgent Priority"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Mark as urgent for immediate attention"})]}),t.jsx(p,{checked:l,onCheckedChange:o})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(v,{variant:"outline",onClick:r,className:"flex-1",disabled:c,children:"Clear Selection"}),t.jsx(v,{onClick:async()=>{d(!0);const e={members:h.map(e=>e.id),message:i.trim()||void 0,priority:l?"urgent":"normal"};try{for(const s of h){const{error:t}=await R.functions.invoke("send-organization-invite",{body:{email:s.email,phone:s.phone,organization_name:"Chravel Organization",organization_id:"default-org",role:s.role,invite_token:x(),custom_message:e.message,priority:e.priority}});t?D.error(`Failed to send invite to ${s.name}`):D.success(`Invite sent to ${s.name}`)}await a(e),n(""),o(!1),r(),D.success(`Successfully sent ${h.length} invitations`)}catch(s){D.error("Failed to send some invitations")}finally{d(!1)}},className:"flex-1 bg-primary hover:bg-primary/80",disabled:0===h.length||c,children:c?"Sending...":t.jsxs(t.Fragment,{children:[t.jsx(W,{size:16,className:"mr-2"}),"Send ",h.length," Invitations"]})})]}),h.length!==e.length&&t.jsx("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[t.jsx(g,{size:16}),e.length-h.length," members are already active and don't need invitations"]})})]})},_e=({targetCollection:e,parseConfig:s,onDataImported:a,className:r})=>{const[i,n]=b.useState(!1),[l,o]=b.useState(""),[c,d]=b.useState(null),{toast:m}=I(),h=(()=>{switch(s.targetType){case"roster":return L;case"schedule":case"events":return J;default:return G}})(),p=b.useCallback(async t=>{const r=t[0];if(r){n(!0),d(null);try{const t=new FormData;t.append("file",r),t.append("extractionType",s.targetType),t.append("targetCollection",e);const i=await fetch("/api/supabase/functions/file-ai-parser",{method:"POST",body:t});if(!i.ok)throw new Error("Failed to process file");const n=await i.json(),l=$e(n.extracted_data,s.targetType);if(!(l&&l.length>0))throw new Error("No valid data could be extracted from the file");a(l),d({success:!0,count:l.length}),m({title:"Import Successful",description:`Successfully imported ${l.length} ${s.targetType} records`})}catch(i){d({success:!1,count:0}),m({title:"Import Failed",description:i instanceof Error?i.message:"Failed to import data",variant:"destructive"})}finally{n(!1)}}},[s,e,a,m]),u=b.useCallback(async()=>{if(l.trim()){n(!0),d(null);try{const t=await fetch("/api/supabase/functions/file-ai-parser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:l,extractionType:s.targetType,targetCollection:e})});if(!t.ok)throw new Error("Failed to process URL");const r=await t.json(),i=$e(r.extracted_data,s.targetType);if(!(i&&i.length>0))throw new Error("No valid data could be extracted from the URL");a(i),d({success:!0,count:i.length}),m({title:"Import Successful",description:`Successfully imported ${i.length} ${s.targetType} records from URL`})}catch(t){d({success:!1,count:0}),m({title:"Import Failed",description:t instanceof Error?t.message:"Failed to import data from URL",variant:"destructive"})}finally{n(!1),o("")}}},[l,s,e,a,m]),{getRootProps:f,getInputProps:j,isDragActive:y}=U({onDrop:p,accept:{"application/pdf":[".pdf"],"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"image/*":[".png",".jpg",".jpeg"]},maxFiles:1,disabled:i});return t.jsxs(_,{className:`bg-white/5 border-white/10 ${r}`,children:[t.jsxs($,{children:[t.jsxs(B,{className:"flex items-center gap-2 text-white",children:[t.jsx(h,{size:20}),"AI Smart Import - ",s.targetType.charAt(0).toUpperCase()+s.targetType.slice(1)]}),t.jsx("p",{className:"text-sm text-gray-400",children:s.description})]}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{...f(),className:`\n            border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors\n            ${y?"border-primary bg-primary/10":"border-gray-600 hover:border-gray-500"}\n            ${i?"opacity-50 cursor-not-allowed":""}\n          `,children:[t.jsx("input",{...j()}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i?t.jsx(V,{className:"w-8 h-8 text-primary animate-spin"}):t.jsx(x,{className:"w-8 h-8 text-gray-400"}),t.jsx("div",{className:"text-white",children:i?"Processing your file...":y?"Drop your file here...":"Drop PDF, CSV, Excel or image files here, or click to select"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Supports: PDF documents, CSV/Excel spreadsheets, team roster images"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Or import from URL"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(N,{placeholder:"Paste URL to team roster, schedule, or document...",value:l,onChange:e=>o(e.target.value),disabled:i,className:"bg-gray-800/50 border-gray-600 text-white placeholder:text-gray-500"}),t.jsx(v,{onClick:u,disabled:i||!l.trim(),variant:"outline",className:"border-gray-600 text-white hover:bg-white/10",children:i?t.jsx(V,{size:16,className:"animate-spin"}):"Import"})]})]}),c&&t.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg "+(c.success?"bg-green-500/10 border border-green-500/20":"bg-red-500/10 border border-red-500/20"),children:[c.success?t.jsx(H,{size:16,className:"text-green-400"}):t.jsx(g,{size:16,className:"text-red-400"}),t.jsx("span",{className:"text-sm "+(c.success?"text-green-400":"text-red-400"),children:c.success?`Successfully imported ${c.count} records`:"Import failed - please check your file format"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Expected Data Fields:"}),t.jsx("div",{className:"grid grid-cols-2 gap-1 text-xs text-gray-400",children:s.expectedFields.map(e=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]},e))})]})]})]})};function $e(e,s){if(!e)return[];switch(s){case"roster":if(e.roster_members)return e.roster_members;if(e.players)return e.players;if(e.members)return e.members;if(Array.isArray(e))return e;break;case"schedule":if(e.games)return e.games;if(e.events)return e.events;if(e.schedule)return e.schedule;if(Array.isArray(e))return e;break;case"events":if(e.sessions)return e.sessions;if(e.events)return e.events;if(e.schedule)return e.schedule;if(Array.isArray(e))return e}return[]}const Be=({organization:e,tripCategory:s="Business Travel"})=>{const[a,r]=b.useState(!1),[i,n]=b.useState(!1),[l,o]=b.useState(!1),[c,d]=b.useState([{id:"1",name:"Sarah Johnson",email:"sarah@acme.com",role:"Admin",status:"active",invitationSent:!0,contactMethod:"email",joinedAt:"2024-01-15T00:00:00Z",invitedAt:"2024-01-10T00:00:00Z"},{id:"2",name:"Mike Chen",email:"mike@acme.com",phone:"+1-555-0123",role:"Member",status:"active",invitationSent:!0,contactMethod:"both",joinedAt:"2024-02-01T00:00:00Z",invitedAt:"2024-01-28T00:00:00Z"},{id:"3",name:"Lisa Rodriguez",email:"lisa@acme.com",role:"Member",status:"pending",invitationSent:!0,contactMethod:"email",invitedAt:"2024-02-15T00:00:00Z"}]),[m,h]=b.useState([]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:"Roster & Roles"}),t.jsx("div",{className:"flex items-center gap-2",children:m.length>0&&t.jsxs(v,{onClick:()=>o(!0),size:"sm",className:"bg-primary/20 hover:bg-primary/30 text-primary border border-primary/30",children:[t.jsx(W,{size:16,className:"mr-2"}),"Manage Invites (",m.length,")"]})})]}),t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:"Team Members"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(v,{onClick:()=>r(!0),size:"sm",className:"bg-primary hover:bg-primary/80",children:[t.jsx(X,{size:16,className:"mr-2"}),"Add Member"]}),t.jsxs(v,{onClick:()=>n(!0),size:"sm",variant:"outline",children:[t.jsx(x,{size:16,className:"mr-2"}),"Bulk Upload"]})]})]}),t.jsx(_e,{targetCollection:"roster_members",parseConfig:{targetType:"roster",expectedFields:["firstName","lastName","position","role","email","phone"],description:"Import team roster from PDFs, CSV files, or team websites. AI will automatically extract member information and assign appropriate roles."},onDataImported:e=>{const s=e.map((e,s)=>{var t,a;const r=e.first_name||e.firstName||(null==(t=e.name)?void 0:t.split(" ")[0])||"Unknown",i=e.last_name||e.lastName||(null==(a=e.name)?void 0:a.split(" ").slice(1).join(" "))||"Member";return{id:`imported-${Date.now()}-${s}`,name:`${r} ${i}`,email:e.email||e.contact_email||"",phone:e.phone||e.contact_phone||"",role:e.role||e.position||"Member",status:"active",invitationSent:!1,contactMethod:e.email&&e.phone?"both":e.email?"email":"phone",joinedAt:(new Date).toISOString()}});d(e=>[...e,...s])},className:"mb-6"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:c.length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Total Members"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:e.seatLimit-c.length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Available Seats"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.seatLimit}),t.jsx("div",{className:"text-sm text-gray-400",children:"Seat Limit"})]})]}),t.jsx(Fe,{members:c,selectedMembers:m,onMemberSelect:(e,s)=>{h(t=>s?[...t,e]:t.filter(s=>s!==e))},onSelectAll:e=>{h(e?c.map(e=>e.id):[])},onEditMember:e=>{},onDeleteMember:e=>{d(s=>s.filter(s=>s.id!==e)),h(s=>s.filter(s=>s!==e))},onResendInvite:e=>{d(s=>s.map(s=>s.id===e?{...s,invitedAt:(new Date).toISOString(),invitationSent:!0}:s))}})]}),l&&t.jsx(Ue,{selectedMembers:m,members:c,onSendBatchInvitations:async e=>{d(s=>s.map(s=>e.members.includes(s.id)?{...s,status:"invited",invitationSent:!0,invitedAt:(new Date).toISOString()}:s))},onClearSelection:()=>{h([])}}),t.jsx(Ae,{isOpen:a,onClose:()=>r(!1),onAddMember:e=>{const s={...e,id:Date.now().toString(),status:e.invitedAt?"invited":"pending",invitationSent:!!e.invitedAt};d(e=>[...e,s])},tripCategory:s}),t.jsx(Re,{isOpen:i,onClose:()=>n(!1),onBulkAdd:e=>{const s=e.map((e,s)=>({...e,id:(Date.now()+s).toString(),status:"invited",invitationSent:!0}));d(e=>[...e,...s])},tripCategory:s})]})};export{ze as B,me as C,Z as D,G as F,K as L,Te as O,Y as P,W as S,X as U,he as a,xe as b,Me as c,_e as d,Be as e};
