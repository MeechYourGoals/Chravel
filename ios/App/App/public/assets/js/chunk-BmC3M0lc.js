import{j as e}from"./chunk-DE8J_P3a.js";import{r as a}from"./chunk-CHPtWMTz.js";import{D as i,a as s,b as r,c as l,L as n}from"./chunk-YjRoWQ3-.js";import{B as t}from"./chunk-CKgI9q5n.js";import{I as m}from"./chunk-D3Z6_DOi.js";import{u as o}from"./chunk-5eV_qmzt.js";import{j as c}from"../index-C69Cv9fm.js";import{L as d}from"./chunk-BIY1ublO.js";const g=({open:g,onClose:h})=>{const{createOrganization:p}=o(),{toast:u}=c(),[x,j]=a.useState(!1),[y,b]=a.useState({name:"",display_name:"",billing_email:""});return e.jsx(i,{open:g,onOpenChange:h,children:e.jsxs(s,{className:"sm:max-w-md bg-gray-900 border-white/10",children:[e.jsx(r,{children:e.jsx(l,{className:"text-white",children:"Create Organization"})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!y.name||!y.billing_email)return void u({title:"Missing fields",description:"Please fill in all required fields",variant:"destructive"});j(!0);const{error:a}=await p({...y,display_name:y.display_name||y.name});a?u({title:"Error",description:"Failed to create organization",variant:"destructive"}):(u({title:"Success",description:"Organization created successfully"}),h(),b({name:"",display_name:"",billing_email:""})),j(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"text-gray-300",children:"Organization Name *"}),e.jsx(m,{id:"name",value:y.name,onChange:e=>b({...y,name:e.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"Acme Tours",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"display_name",className:"text-gray-300",children:"Display Name"}),e.jsx(m,{id:"display_name",value:y.display_name,onChange:e=>b({...y,display_name:e.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"Acme Tours & Events"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"billing_email",className:"text-gray-300",children:"Billing Email *"}),e.jsx(m,{id:"billing_email",type:"email",value:y.billing_email,onChange:e=>b({...y,billing_email:e.target.value}),className:"bg-gray-800/50 border-gray-600 text-white",placeholder:"billing@acmetours.com",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(t,{type:"button",variant:"outline",onClick:h,className:"flex-1",disabled:x,children:"Cancel"}),e.jsx(t,{type:"submit",className:"flex-1 bg-glass-orange hover:bg-glass-orange/80",disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Organization"})]})]})]})})};export{g as C};
