import{j as e}from"./ui-vendor-BO3EQrMK-mjd3dogn.js";import{r as t}from"./react-vendor-D1R0t5S0-mjd3dogn.js";import{c as s,u as a,X as r}from"./index-Ta7FH5xW-mjd3dogn.js";import{A as n}from"./arrow-left-Biq1qnK6-mjd3dogn.js";import{M as l}from"./mail-BdBVrsyz-mjd3dogn.js";import{E as o}from"./eye-BNDPAvT6-mjd3dogn.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=s("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),d=({isOpen:s,onClose:d,initialMode:c})=>{const{signIn:m,signUp:x,resetPassword:u,isLoading:p}=a(),[g,h]=t.useState(c??"signin"),[b,f]=t.useState(""),[y,j]=t.useState(""),[w,v]=t.useState(""),[N,k]=t.useState(""),[C,S]=t.useState(!1),[M,z]=t.useState(""),[A,q]=t.useState(""),[E,F]=t.useState(!1);if(!s)return null;const I=async e=>{e.preventDefault(),z(""),q("");try{let e;if(e="signup"===g?await x(b,y,w,N):await m(b,y),e.error)return void z(e.error);if(e.success)return void q(e.success);d()}catch(t){z("An unexpected error occurred")}},H=async e=>{e.preventDefault(),z("");try{const e=await u(b);if(e.error)return void z(e.error);F(!0)}catch(t){z("An unexpected error occurred")}};return e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-end tablet:items-center landscape:items-center justify-center p-0 tablet:p-4 landscape:p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-t-3xl tablet:rounded-3xl landscape:rounded-3xl p-6 tablet:p-8 max-w-md w-full safe-bottom animate-slide-in-bottom tablet:animate-scale-in max-h-[90dvh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"forgot"===g?"Reset Password":"signup"===g?"Create Account":"Welcome Back"}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white",children:e.jsx(r,{size:24})})]}),A&&e.jsxs("div",{"data-auth-message":!0,className:"mb-4 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-200 text-sm animate-fade-in",children:[e.jsxs("p",{className:"font-medium mb-1",children:["✓ ",A]}),e.jsx("p",{className:"text-xs text-green-300/80 mt-1",children:"You can close this and sign in once confirmed."})]}),M&&e.jsxs("div",{"data-auth-message":!0,className:"mb-4 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm animate-fade-in",children:[e.jsx("p",{className:"font-medium mb-1",children:M}),M.includes("email")&&e.jsx("p",{className:"text-xs text-red-300/80 mt-1",children:"Check your email for a confirmation link"})]}),"forgot"!==g&&e.jsxs("div",{className:"flex rounded-lg bg-white/5 p-1 mb-6",children:[e.jsx("button",{onClick:()=>{h("signin"),z("")},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all "+("signin"===g?"bg-primary text-primary-foreground":"text-gray-400 hover:text-white"),children:"Sign In"}),e.jsx("button",{onClick:()=>{h("signup"),z("")},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all "+("signup"===g?"bg-primary text-primary-foreground":"text-gray-400 hover:text-white"),children:"Sign Up"})]}),"forgot"===g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{h("signin"),F(!1),z("")},className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-4",children:[e.jsx(n,{size:16}),e.jsx("span",{className:"text-sm",children:"Back to Sign In"})]}),E?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-200",children:"Check your email for a password reset link"}),e.jsx("button",{onClick:()=>{h("signin"),F(!1)},className:"text-glass-orange hover:text-glass-yellow transition-colors",children:"Return to Sign In"})]}):e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:b,onChange:e=>f(e.target.value),placeholder:"your@email.com",required:!0,autoFocus:!0,autoComplete:"email",className:"w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-base text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"})]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-glass-orange to-glass-yellow text-white font-medium py-3 rounded-xl hover:scale-105 active:scale-95 transition-transform disabled:opacity-50 min-h-[44px]",children:p?"Sending...":"Send Reset Link"})]})]}):e.jsxs("form",{onSubmit:I,className:"space-y-4 pb-2",children:["signup"===g&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:w,onChange:e=>v(e.target.value),placeholder:"John",required:!0,autoComplete:"given-name",inputMode:"text",enterKeyHint:"next",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-base text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange min-h-[48px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:N,onChange:e=>k(e.target.value),placeholder:"Doe",required:!0,autoComplete:"family-name",inputMode:"text",enterKeyHint:"next",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-base text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange min-h-[48px]"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:b,onChange:e=>f(e.target.value),placeholder:"your@email.com",required:!0,autoFocus:"signin"===g,autoComplete:"email",inputMode:"email",enterKeyHint:"next",className:"w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-base text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange min-h-[48px]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:C?"text":"password",value:y,onChange:e=>j(e.target.value),placeholder:"••••••••",required:!0,autoComplete:"signup"===g?"new-password":"current-password",enterKeyHint:"signup"===g?"done":"go",className:"w-full bg-white/10 border border-white/20 rounded-xl pl-4 pr-10 py-3 text-base text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange min-h-[48px]"}),e.jsx("button",{type:"button",onClick:()=>S(!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white min-h-[44px] min-w-[44px] flex items-center justify-center",children:C?e.jsx(i,{size:20}):e.jsx(o,{size:20})})]}),"signin"===g&&e.jsx("div",{className:"flex justify-end mt-1",children:e.jsx("button",{type:"button",onClick:()=>{h("forgot"),z("")},className:"text-xs text-glass-orange hover:text-glass-yellow transition-colors",children:"Forgot password?"})})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-glass-orange to-glass-yellow text-white font-medium py-3 rounded-xl hover:scale-105 active:scale-95 transition-transform disabled:opacity-50 min-h-[44px]",children:p?"Loading...":"signup"===g?"Create Account":"Sign In"})]})]})})};export{d as A,i as E};
