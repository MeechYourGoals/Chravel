import{c as e,e as t,X as a,f as r,g as s}from"../index-C69Cv9fm.js";import{j as n}from"./chunk-DE8J_P3a.js";import{r as i}from"./chunk-CHPtWMTz.js";import{M as o}from"./chunk-DgElOEdu.js";import{E as l}from"./chunk-DcTAIqBw.js";import{P as c}from"./chunk-D_Hxdxtf.js";import{u as d,I as h,q as u,r as p}from"./chunk-B6KUG25W.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),x=e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),g=e("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),b=e("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=({isOpen:e,onClose:r})=>{const{signIn:s,signInWithPhone:d,signInWithGoogle:h,signInWithApple:u,signUp:p,isLoading:x}=t(),[g,b]=i.useState("signin"),[f,v]=i.useState(""),[y,w]=i.useState(""),[j,N]=i.useState(""),[k,C]=i.useState(""),[S,A]=i.useState(""),[I,L]=i.useState(!1),[z,E]=i.useState("");if(!e)return null;const q=async e=>{e.preventDefault(),E("");try{let e;if(e="signup"===g?await p(f,j,k,S):await s(f,j),e.error)return void E(e.error);r()}catch(t){E("An unexpected error occurred")}},D=async e=>{e.preventDefault(),E("");try{const e=await d(y);if(e.error)return void E(e.error);E("Verification code sent to your phone!")}catch(t){E("An unexpected error occurred")}},M=async()=>{E("");try{const e=await h();e.error&&E(e.error)}catch(e){E("An unexpected error occurred")}},R=async()=>{E("");try{const e=await u();e.error&&E(e.error)}catch(e){E("An unexpected error occurred")}};return n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-end tablet:items-center justify-center p-0 tablet:p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-t-3xl tablet:rounded-3xl p-6 tablet:p-8 max-w-md w-full safe-bottom animate-slide-in-bottom tablet:animate-scale-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"phone"===g?"Sign in with Phone":"signup"===g?"Create Account":"Welcome Back"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:n.jsx(a,{size:24})})]}),n.jsxs("div",{className:"flex gap-2 mb-6",children:[n.jsx("button",{onClick:()=>b("signin"),className:"flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-colors "+("signin"===g||"signup"===g?"bg-glass-orange text-white":"bg-white/10 text-gray-300"),children:"Email"}),n.jsx("button",{onClick:()=>b("phone"),className:"flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-colors "+("phone"===g?"bg-glass-orange text-white":"bg-white/10 text-gray-300"),children:"Phone"})]}),"phone"===g?n.jsxs("form",{onSubmit:D,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(c,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"tel",value:y,onChange:e=>w(e.target.value),placeholder:"+1 (555) 123-4567",required:!0,className:"w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"})]})]}),n.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-glass-orange to-glass-yellow text-white font-medium py-3 rounded-xl hover:scale-105 active:scale-95 transition-transform disabled:opacity-50 min-h-[44px]",children:x?"Sending...":"Send OTP"})]}):n.jsxs("form",{onSubmit:q,className:"space-y-4",children:["signup"===g&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"First Name"}),n.jsx("input",{type:"text",value:k,onChange:e=>C(e.target.value),placeholder:"John",required:!0,className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Last Name"}),n.jsx("input",{type:"text",value:S,onChange:e=>A(e.target.value),placeholder:"Doe",required:!0,className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(o,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"email",value:f,onChange:e=>v(e.target.value),placeholder:"your@email.com",required:!0,className:"w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:I?"text":"password",value:j,onChange:e=>N(e.target.value),placeholder:"••••••••",required:!0,className:"w-full bg-white/10 border border-white/20 rounded-xl pl-4 pr-10 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-glass-orange"}),n.jsx("button",{type:"button",onClick:()=>L(!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:I?n.jsx(m,{size:20}):n.jsx(l,{size:20})})]})]}),n.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-glass-orange to-glass-yellow text-white font-medium py-3 rounded-xl hover:scale-105 active:scale-95 transition-transform disabled:opacity-50 min-h-[44px]",children:x?"Loading...":"signup"===g?"Create Account":"Sign In"}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx("button",{type:"button",onClick:M,className:"flex-1 bg-white/10 hover:bg-white/20 border border-white/20 text-white font-medium py-3 rounded-xl transition-colors active:scale-95 min-h-[44px]",children:"Google"}),n.jsx("button",{type:"button",onClick:R,className:"flex-1 bg-white/10 hover:bg-white/20 border border-white/20 text-white font-medium py-3 rounded-xl transition-colors active:scale-95 min-h-[44px]",children:"Apple"})]})]}),"phone"!==g&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>b("signin"===g?"signup":"signin"),className:"text-glass-orange hover:text-glass-yellow transition-colors",children:"signin"===g?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},v=({tripName:e,onClose:t})=>n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 hover:bg-white/20 text-white w-10 h-10 rounded-full flex items-center justify-center transition-colors",title:"Close",children:n.jsx(a,{size:20})}),n.jsxs("div",{className:"mb-6 pr-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Invite to Trip"}),n.jsx("p",{className:"text-gray-400 text-sm",children:e})]})]}),y=({requireApproval:e,expireIn7Days:t,onRequireApprovalChange:a,onExpireIn7DaysChange:r})=>n.jsxs("div",{className:"mb-6 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-gray-300 text-sm",children:"Require approval to join"}),n.jsx("input",{type:"checkbox",checked:e,onChange:e=>a(e.target.checked),className:"rounded"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-gray-300 text-sm",children:"Link expires in 7 days"}),n.jsx("input",{type:"checkbox",checked:t,onChange:e=>r(e.target.checked),className:"rounded"})]})]}),w=({isOpen:e,onClose:t,tripName:a,tripId:r})=>{const[s,o]=i.useState(!1),[l,c]=i.useState(!1),{copied:m,inviteLink:x,loading:g,regenerateInviteToken:b,handleCopyLink:f,handleShare:w,handleEmailInvite:j,handleSMSInvite:N}=d({isOpen:e,tripName:a,requireApproval:s,expireIn7Days:l});return e?n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-3xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto animate-scale-in relative",children:[n.jsx(v,{tripName:a,onClose:t}),n.jsx(h,{inviteLink:x,loading:g,copied:m,onCopyLink:f,onRegenerate:b}),n.jsx(y,{requireApproval:s,expireIn7Days:l,onRequireApprovalChange:o,onExpireIn7DaysChange:c}),n.jsx(u,{loading:g,inviteLink:x,onShare:w,onEmailInvite:j,onSMSInvite:N}),n.jsx(p,{})]})}):null},j=e=>["1","2","3","4","5","6","7","8","9","10","11","12"].includes(e)?"consumer":"pro",N=e=>"consumer"===j(e),k=e=>{if(!e||"string"!=typeof e)return"U";const t=e.trim().split(" ").filter(Boolean);return 0===t.length?"U":1===t.length?t[0][0].toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},C=e=>{if(!e)return!1;try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}},S=s("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),A=i.forwardRef(({className:e,variant:t,...a},s)=>n.jsx("div",{ref:s,role:"alert",className:r(S({variant:t}),e),...a}));
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */A.displayName="Alert";i.forwardRef(({className:e,...t},a)=>n.jsx("h5",{ref:a,className:r("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";const I=i.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:r("text-sm [&_p]:leading-relaxed",e),...t}));function L(){const[e,t]=i.useState(!1);return i.useEffect(()=>{const e=()=>{const e=window.innerWidth,a=e<=768,r=window.innerHeight>e,s=navigator.userAgent||navigator.vendor||window.opera,n=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(s.toLowerCase());t(a&&r&&n)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),e}I.displayName="AlertDescription";export{f as A,m as E,x as H,w as I,g as M,b as S,A as a,I as b,C as c,j as d,k as g,N as i,L as u};
