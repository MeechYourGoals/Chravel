import{R as C,j as e,h as T,u as k,T as P,a as z,b as B,d as E,k as R,r as y}from"./index-CAsyng-G.js";import{B as x}from"./button-_Pv0MPf0.js";import{A as D,a as I,b as L}from"./avatar-BV3tYu8d.js";import{B as f}from"./badge-J4HoHOpX.js";import{P as M,S as V}from"./loading-skeleton-Mn72muhO.js";import{u as _,B as p,E as F,S as U}from"./useSavedRecommendations-POBY9hWZ.js";import{S as m}from"./skeleton-34-YVFjV.js";import{M as G}from"./map-pin-BpJQ3jXK.js";import{C as H}from"./camera-CpfyDuxc.js";import{A as J}from"./archive-D_5MXjjN.js";import{S as O}from"./share-2-bKBjjyB8.js";const h=C.forwardRef(({className:a,loading:l=!1,success:n=!1,microAnimation:c="scale",children:t,disabled:i,...o},r)=>{const s=()=>{switch(c){case"scale":return"transition-all duration-200 hover:scale-105 active:scale-95";case"pulse":return"transition-all duration-200 hover:scale-102 active:scale-98";default:return""}};return e.jsx(x,{ref:r,className:T(s(),n&&"bg-green-500 hover:bg-green-600",l&&"opacity-70 cursor-not-allowed",a),disabled:i||l,...o,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),t]}):n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t]}):t})});h.displayName="InteractiveButton";const W=()=>{const{items:a,loading:l,toggleSave:n,refresh:c}=_(),t=k(),i=()=>{t("/?openSettings=saved-recs")},o=()=>{t("/search")},r=async s=>{s!=null&&s.data&&(await n(s.data),await c())};return e.jsxs("section",{"aria-labelledby":"saved-places-heading",className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{id:"saved-places-heading",className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-primary","aria-hidden":"true"}),"Saved Places"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{children:e.jsxs(z,{children:[e.jsx(B,{asChild:!0,children:e.jsx("button",{onClick:i,className:"md:hidden p-2 rounded-md hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"View all saved places",title:"View all",children:e.jsx(F,{className:"w-4 h-4"})})}),e.jsx(E,{children:"View All"})]})}),e.jsx("button",{onClick:i,className:"hidden md:inline-flex text-sm text-primary hover:underline",children:"View All"})]})]}),l?e.jsx("div",{role:"list","aria-busy":"true",className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4",children:Array.from({length:3}).map((s,d)=>e.jsx("div",{className:"min-w-[260px] max-w-[260px] flex-shrink-0 snap-start",children:e.jsxs("div",{className:"bg-card border border-border rounded-enterprise overflow-hidden shadow-enterprise",children:[e.jsx(m,{className:"h-36 w-full"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx(m,{className:"h-4 w-3/4"}),e.jsx(m,{className:"h-3 w-1/2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"h-8 w-20"}),e.jsx(m,{className:"h-8 w-20"})]})]})]})},d))}):a.length===0?e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(p,{className:"w-6 h-6 text-primary"})}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No saved places yet. Explore trips and tap Save to collect your favorites."}),e.jsx(x,{onClick:o,className:"mx-auto",children:"Discover Places"})]}):e.jsx("div",{role:"list","aria-label":"Saved places list",className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4",children:a.map(s=>{var N,b,w;const d=s.title,j=s.image_url,A=s.rec_type,u=s.location||s.city||"",v=(N=s.data)==null?void 0:N.rating,g=(b=s.data)==null?void 0:b.distance,S=s.external_link||((w=s.data)==null?void 0:w.externalLink)||"#";return e.jsx("article",{role:"listitem",tabIndex:0,className:"min-w-[260px] max-w-[260px] flex-shrink-0 snap-start focus:outline-none","aria-label":d,children:e.jsxs("div",{className:"bg-card border border-border rounded-enterprise overflow-hidden shadow-enterprise hover:shadow-enterprise-md transition-shadow",children:[e.jsx("div",{className:"relative h-36 w-full",children:j?e.jsx("img",{src:j,alt:d,loading:"lazy",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-muted flex items-center justify-center text-muted-foreground",children:"No image"})}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground truncate",title:d,children:d}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsx(f,{variant:"outline",className:"capitalize text-xs",children:A}),u&&e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[120px]",title:u,children:u})]})]})]}),typeof v=="number"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-foreground/90",children:[e.jsx(U,{className:"w-3.5 h-3.5 text-primary"})," ",v.toFixed(1)]})]}),g&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[g," away"]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>r(s),"aria-pressed":!0,className:"flex-1",children:[e.jsx(p,{className:"w-4 h-4 mr-1"})," Saved"]}),e.jsx(x,{size:"sm",onClick:()=>window.open(S,"_blank","noopener"),className:"flex-1",children:"Open"})]})]})]})},s.id)})})]})},te=()=>{var i,o;const{user:a}=R(),l=k(),[n,c]=y.useState(!0);y.useEffect(()=>{const r=setTimeout(()=>{c(!1)},1e3);return()=>clearTimeout(r)},[]);const t=[{label:"Total Trips",value:"12",icon:"✈️"},{label:"Countries Visited",value:"8",icon:"🌍"},{label:"Photos Shared",value:"247",icon:"📸"},{label:"Friends Connected",value:"28",icon:"👥"}];return n?e.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-6",children:[e.jsx(M,{}),e.jsx(V,{}),e.jsx("div",{className:"space-y-3 mb-8",children:Array.from({length:3}).map((r,s)=>e.jsx("div",{className:"h-12 bg-muted/20 rounded-enterprise animate-pulse"},s))})]}):e.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-6",children:[e.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[e.jsxs(D,{className:"w-24 h-24 mx-auto mb-4 transition-all duration-200 hover:scale-105",children:[e.jsx(I,{src:"/placeholder.svg"}),e.jsx(L,{className:"bg-muted text-foreground text-2xl",children:((i=a==null?void 0:a.email)==null?void 0:i.charAt(0).toUpperCase())||"U"})]}),e.jsx("h1",{className:"text-2xl font-bold mb-1",children:((o=a==null?void 0:a.email)==null?void 0:o.split("@")[0])||"User"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Travel Enthusiast"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(f,{className:"bg-primary/20 text-primary animate-fade-in",style:{animationDelay:"0.1s"},children:"Pro Member"}),e.jsx(f,{className:"bg-accent/20 text-accent animate-fade-in",style:{animationDelay:"0.2s"},children:"Early Adopter"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:t.map((r,s)=>e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-4 text-center animate-fade-in transition-all duration-200 hover:scale-105 hover:shadow-enterprise-md",style:{animationDelay:`${.1*(s+1)}s`},children:[e.jsx("div",{className:"text-2xl mb-2",children:r.icon}),e.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:r.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.label})]},s))}),e.jsx(W,{}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs(h,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>alert("Feature coming soon!"),microAnimation:"scale",children:[e.jsx(H,{className:"mr-3",size:18}),"Manage Photos & Memories"]}),e.jsxs(h,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>l("/archive"),microAnimation:"scale",children:[e.jsx(J,{className:"mr-3",size:18}),"Archived Trips"]}),e.jsxs(h,{variant:"outline",className:"w-full justify-start h-12",size:"lg",onClick:()=>alert("Feature coming soon!"),microAnimation:"scale",children:[e.jsx(O,{className:"mr-3",size:18}),"Shared Trip Links"]})]}),e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.4s"},children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Added 12 photos to Tokyo Adventure"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Created new trip: Paris Weekend"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-enterprise p-3 transition-all duration-200 hover:shadow-enterprise",children:[e.jsx("p",{className:"text-foreground",children:"Joined Bali Group Trip"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})]})};export{te as default};
