# Privacy Nutrition Label Mapping

**App Name:** Chravel
**Bundle ID:** com.chravel.app
**Last Updated:** December 2025

This document maps Chravel's data collection practices to Apple's App Privacy requirements for the App Store "nutrition label."

---

## Data Types Collected

### 1. Contact Info

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Email Address** | Yes | Yes | No | App Functionality, Account Management |
| **Phone Number** | Yes (Optional) | Yes | No | App Functionality (Auth) |
| **Name** | Yes | Yes | No | App Functionality, Personalization |

**Justification:**
- Email is required for account creation and communication
- Phone is optional, used only for phone OTP authentication
- Name is used for display in trips and personalization

---

### 2. User Content

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Photos or Videos** | Yes | Yes | No | App Functionality |
| **Audio Data** | Yes | Yes | No | App Functionality (voice notes) |
| **Other User Content** | Yes | Yes | No | App Functionality |

**Justification:**
- Users upload photos/videos to share in trips
- Voice notes are optional chat feature
- Other content includes chat messages, trip descriptions, tasks

**Data Handling:**
- Stored in Supabase Storage with user ownership
- Deleted when user deletes trip or account
- Not shared with third parties for advertising

---

### 3. Identifiers

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **User ID** | Yes | Yes | No | App Functionality |
| **Device ID** | Yes | Yes | No | App Functionality, Analytics |

**Justification:**
- User ID is essential for account management
- Device ID used for push notification targeting and crash reporting

**Data Handling:**
- User IDs are UUIDs generated by Supabase Auth
- Device IDs are used only for push notifications
- Not shared with ad networks

---

### 4. Usage Data

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Product Interaction** | Yes | Yes | No | Analytics, App Functionality |

**Justification:**
- Track feature usage to improve app
- Understand user journeys for optimization

**Data Handling:**
- Collected via Firebase Analytics
- Anonymized after 2 years
- Used only for product improvement

---

### 5. Diagnostics

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Crash Data** | Yes | Yes | No | App Functionality |
| **Performance Data** | Yes | No | No | App Functionality |

**Justification:**
- Crash reports help identify and fix bugs
- Performance data helps optimize app speed

**Data Handling:**
- Collected via Sentry/Crashlytics
- Crash data linked to user for debugging
- Performance data is anonymized

---

### 6. Location

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Precise Location** | Yes | Yes | No | App Functionality |

**Justification:**
- Required for map features (viewing nearby places, directions)
- Used to show trip locations on map

**Data Handling:**
- Collected only when app is in foreground and user uses map features
- Not collected in background
- Not shared with third parties
- User can disable in device settings

**Info.plist Usage String:**
```
NSLocationWhenInUseUsageDescription: Chravel uses your location to show nearby places, provide directions, and display your position on trip maps.
```

---

### 7. Purchases

| Data Type | Collected | Linked to User | Used for Tracking | Purpose |
|-----------|-----------|----------------|-------------------|---------|
| **Purchase History** | Yes | Yes | No | App Functionality |

**Justification:**
- Track subscription status (Plus/Pro)
- Manage feature access based on tier

**Data Handling:**
- Subscription status stored in user profile
- Managed via App Store / StoreKit
- Receipt validation for subscription verification

---

## Data NOT Collected

The following data types are **NOT** collected by Chravel:

| Category | Data Type | Status |
|----------|-----------|--------|
| **Health & Fitness** | Health, Fitness | Not Collected |
| **Financial Info** | Payment Info, Credit Info | Not Collected* |
| **Sensitive Info** | Racial/Ethnic Data, Political Opinions, Religious Beliefs, Sexual Orientation, Biometric Data, Genetic Data | Not Collected |
| **Contacts** | Address Book | Not Collected |
| **Browsing History** | Web Browsing | Not Collected |
| **Search History** | In-app Search | Not Collected** |
| **Advertising Data** | IDFA | Not Collected |

*Payment processing handled entirely by App Store (StoreKit)
**Search queries are not logged or stored

---

## Third-Party SDKs and Data Sharing

### Supabase (Backend)
- **Data Shared:** Account info, trip data, chat messages, media
- **Purpose:** Core app functionality, database, authentication
- **Privacy Policy:** https://supabase.com/privacy

### Firebase/Google
- **Data Shared:** Device tokens, analytics events, crash reports
- **Purpose:** Push notifications, analytics, crash reporting
- **Privacy Policy:** https://firebase.google.com/support/privacy

### Google Maps Platform
- **Data Shared:** Location queries (not user-identifiable)
- **Purpose:** Map display, place search, directions
- **Privacy Policy:** https://policies.google.com/privacy

### Sentry (if used)
- **Data Shared:** Crash reports, error logs
- **Purpose:** Error tracking and debugging
- **Privacy Policy:** https://sentry.io/privacy/

### Stripe (via backend)
- **Data Shared:** Email, subscription status
- **Purpose:** Subscription payment processing
- **Privacy Policy:** https://stripe.com/privacy
- **Note:** Credit card data never touches Chravel servers

---

## Data Retention Periods

| Data Type | Retention Period | Deletion Trigger |
|-----------|------------------|------------------|
| Account Data | Until account deletion | User request + 30 days |
| Trip Data | Until trip deletion | Trip deleted by creator |
| Chat Messages | While trip exists | Trip deletion |
| Media Files | While trip exists | Trip deletion or user removal |
| Analytics Data | 2 years (anonymized) | Automatic |
| Crash Reports | 90 days | Automatic |
| Push Tokens | Until invalid | Token invalidation |

---

## User Data Rights

### Access
Users can export their data via Settings > Privacy > Download My Data

### Correction
Users can edit their profile and trip data directly in the app

### Deletion
Users can:
1. Delete individual trips (as creator)
2. Leave trips (removes their data from trip)
3. Delete account (removes all user data within 30 days)

### Opt-Out
Users can:
1. Disable push notifications (device settings or app settings)
2. Disable location access (device settings)
3. Request analytics opt-out via privacy@chravel.app

---

## App Store Privacy Label Summary

Based on the above analysis, Chravel's App Store Privacy Label should indicate:

### Data Used to Track You
- **None** (No advertising tracking, no IDFA, no cross-app tracking)

### Data Linked to You
- Contact Info (Email, Phone, Name)
- User Content (Photos, Videos, Messages)
- Identifiers (User ID, Device ID)
- Usage Data (Product Interaction)
- Diagnostics (Crash Data)
- Location (Precise Location)
- Purchases (Purchase History)

### Data Not Linked to You
- Performance Data (aggregated)

---

## iOS Permissions Required

| Permission | Info.plist Key | Usage Description | Required? |
|------------|---------------|-------------------|-----------|
| Camera | NSCameraUsageDescription | "Chravel needs camera access to take photos for your trips." | For photo capture |
| Photo Library | NSPhotoLibraryUsageDescription | "Chravel needs photo library access to share photos in your trips." | For media selection |
| Photo Library Add | NSPhotoLibraryAddUsageDescription | "Chravel needs permission to save photos to your library." | For saving media |
| Location When In Use | NSLocationWhenInUseUsageDescription | "Chravel uses your location to show nearby places and display your position on trip maps." | For map features |
| Push Notifications | (Requested at runtime) | "Chravel sends notifications for trip updates, messages, and reminders." | For notifications |
| Microphone | NSMicrophoneUsageDescription | "Chravel needs microphone access to record voice notes." | For voice notes |

### Permissions NOT Required
- Background Location (NSLocationAlwaysUsageDescription) - NOT USED
- Contacts (NSContactsUsageDescription) - NOT USED
- Calendars (NSCalendarsUsageDescription) - NOT USED (we sync differently)
- Bluetooth - NOT USED
- Health - NOT USED
- HomeKit - NOT USED
- Motion - NOT USED
- Face ID (unless added for auth)

---

## Compliance Verification Checklist

- [ ] Privacy Policy URL accessible and matches app behavior
- [ ] All Info.plist usage descriptions accurate and user-friendly
- [ ] No data collection beyond what's declared
- [ ] All third-party SDKs accounted for in privacy label
- [ ] User deletion requests honored within 30 days
- [ ] No IDFA or cross-app tracking
- [ ] Data minimization principle followed
- [ ] Children's data not knowingly collected (13+ age gate)

---

## Code Audit Points

To ensure privacy label accuracy, verify these code locations:

1. **Authentication:** `src/contexts/AuthContext.tsx` - Email, phone, name collection
2. **Media Upload:** `src/services/mediaService.ts` - Photo/video handling
3. **Location:** `src/hooks/useMapSearch.ts` - Location access
4. **Analytics:** `src/services/analytics.ts` - Event tracking
5. **Push Tokens:** `src/services/notificationService.ts` - Token registration
6. **Crash Reporting:** App initialization - Sentry/Crashlytics setup

---

**Document Owner:** Privacy Team
**Review Cycle:** Quarterly or on feature changes
**Contact:** privacy@chravel.app
