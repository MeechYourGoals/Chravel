import{j as e}from"./chunk-DE8J_P3a.js";import{r as s,j as t,c as a}from"./chunk-CHPtWMTz.js";import{k as i,T as r,A as n,f as l,U as o,G as c,h as d,g as m,i as h}from"./chunk-hQfd_hHm.js";import{T as p}from"./chunk-DomSceYV.js";import{B as x}from"./chunk-CKgI9q5n.js";import{I as u}from"./chunk-D3Z6_DOi.js";import{L as j}from"./chunk-YjRoWQ3-.js";import{U as g,a as b,T as v}from"./chunk-BxvRdxTs.js";import{C as f,a as y,b as N,c as w}from"./chunk-30ZbY-F3.js";import{j as k,i as S,k as C,e as T,v as I}from"../index-C69Cv9fm.js";import{C as z}from"./chunk-D53qnCh4.js";import{P as D}from"./chunk-DoIo-fWL.js";import{F as A,D as P}from"./chunk-D_Hxdxtf.js";import{C as U}from"./chunk-DJZXZyJn.js";import{M as E}from"./chunk-ByyMTJWo.js";import{U as F}from"./chunk-D5WpN7K-.js";import{S as R}from"./chunk-88HG7dU1.js";import{M as O,S as L}from"./chunk-B6KUG25W.js";import{C as M}from"./chunk-C0eak1NN.js";import{C as $}from"./chunk-C-NDN0ZE.js";import{e as B}from"./chunk--XGoeuWx.js";import{P as V}from"./chunk-av49YmwH.js";import"./chunk-BpSVmO2m.js";import"./chunk-DgElOEdu.js";import"./chunk-DcTAIqBw.js";import"./tripService.ts-CUb9l8sj.js";import"./chunk-DGLf2uCM.js";import"./chunk-wPum6LLk.js";import"./chunk-CD10_Lnj.js";import"./chunk-LoZVIojA.js";import"./chunk-DN5ISW2H.js";import"./chunk-Bbmjf7eQ.js";import"./chunk-DV21tWlK.js";import"./chunk-DuSQr7KO.js";import"./chunk-BzRjpoc5.js";import"./chunk-A2g_dVj8.js";import"./chunk-BIY1ublO.js";import"./chunk-CkE6zG_x.js";import"./chunk-Ccyq873b.js";import"./chunk-DtLDND_v.js";import"./chunk-bP8xJp5e.js";import"./chunk-y0HRaaXz.js";import"./chunk-DV9vF-NS.js";import"./chunk-Bc1XvzR8.js";import"./chunk-4koW6KZp.js";import"./chunk-ObNbiZMt.js";import"./chunk-D_Qk7JHd.js";import"./chunk-DeuaeHUI.js";import"./chunk-D393L8yP.js";import"./chunk-0Vn9svHl.js";import"./chunk-CbEMFF6w.js";import"./chunk--pMnkzaH.js";import"./chunk-DyZQNKrs.js";import"./chunk-DILfnUIk.js";import"./chunk-Bx2M---t.js";import"./chunk-Ck98qql-.js";import"./chunk-DkxHCs8B.js";import"./chunk-BOGV63ZI.js";const H=({eventId:t,userRole:a,pdfScheduleUrl:r})=>{const[n,l]=s.useState(r),[o,c]=s.useState(!1),[d,m]=s.useState([]),[h,p]=s.useState(!1),{toast:N}=k(),[w,S]=s.useState({title:"",time:"",endTime:"",location:"",description:""}),C=async e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t){c(!0);try{const e=URL.createObjectURL(t);l(e),N({title:"PDF uploaded successfully",description:"Attendees can now download the schedule"})}catch(a){N({title:"Upload failed",variant:"destructive"})}finally{c(!1)}}},T="organizer"===a;return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{size:24,className:"text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Event Agenda"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"View the full event schedule"})]})]}),T&&!h&&e.jsxs("div",{className:"flex gap-2",children:[!n&&e.jsxs("label",{children:[e.jsx("input",{type:"file",accept:".pdf",onChange:C,className:"hidden",disabled:o}),e.jsxs(x,{variant:"outline",className:"border-gray-600 cursor-pointer",disabled:o,type:"button",children:[e.jsx(g,{size:16,className:"mr-2"}),o?"Uploading...":"Upload PDF"]})]}),e.jsxs(x,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(D,{size:16,className:"mr-2"}),"Add Session"]})]})]}),n&&e.jsx(f,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{size:40,className:"text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:"Full Event Schedule (PDF)"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Complete agenda with all details"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:n,download:"Event_Schedule.pdf",target:"_blank",rel:"noopener noreferrer",children:e.jsxs(x,{variant:"outline",className:"border-gray-600",children:[e.jsx(P,{size:16,className:"mr-2"}),"Download"]})}),T&&e.jsx(x,{onClick:()=>{confirm("Remove uploaded PDF schedule?")&&l(void 0)},variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600/10",children:e.jsx(b,{size:16})})]})]})})}),n&&d.length>0&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Or view by session"})})]}),h&&T&&e.jsx(f,{className:"bg-gray-800/50 border-gray-700",children:e.jsxs(y,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-white",children:"Add Session to Agenda"}),e.jsx(x,{onClick:()=>{p(!1),S({title:"",time:"",endTime:"",location:"",description:""})},variant:"ghost",size:"sm",children:"Cancel"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"session-title",children:"Session Title *"}),e.jsx(u,{id:"session-title",value:w.title,onChange:e=>S(s=>({...s,title:e.target.value})),placeholder:"e.g., Keynote: The Future of AI",className:"bg-gray-900 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"session-location",children:"Location *"}),e.jsx(u,{id:"session-location",value:w.location,onChange:e=>S(s=>({...s,location:e.target.value})),placeholder:"e.g., Main Hall, Room 301",className:"bg-gray-900 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"session-time",children:"Start Time *"}),e.jsx(u,{id:"session-time",type:"time",value:w.time,onChange:e=>S(s=>({...s,time:e.target.value})),className:"bg-gray-900 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"session-endtime",children:"End Time"}),e.jsx(u,{id:"session-endtime",type:"time",value:w.endTime,onChange:e=>S(s=>({...s,endTime:e.target.value})),className:"bg-gray-900 border-gray-700 text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"session-description",children:"Description (Optional)"}),e.jsx(v,{id:"session-description",value:w.description,onChange:e=>S(s=>({...s,description:e.target.value})),placeholder:"Brief description of the session...",className:"bg-gray-900 border-gray-700 text-white",rows:3})]}),e.jsxs(x,{onClick:()=>{if(!w.title||!w.time||!w.location)return void N({title:"Missing required fields",description:"Please fill in title, time, and location",variant:"destructive"});const e={id:Date.now().toString(),title:w.title,time:w.time,endTime:w.endTime,location:w.location,description:w.description};m(s=>[...s,e].sort((e,s)=>e.time.localeCompare(s.time))),S({title:"",time:"",endTime:"",location:"",description:""}),p(!1),N({title:"Session added",description:"The session will auto-sync with the Calendar tab"})},className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!w.title||!w.time||!w.location,children:[e.jsx(i,{size:16,className:"mr-2"}),"Add Session"]})]})}),d.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Schedule"}),d.map(s=>e.jsx(f,{className:"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70 transition-colors",children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:s.title}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(U,{size:14}),e.jsxs("span",{children:[s.time,s.endTime&&` - ${s.endTime}`]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(E,{size:14}),e.jsx("span",{children:s.location})]}),s.description&&e.jsx("p",{className:"text-gray-500 mt-2",children:s.description})]})]}),T&&e.jsx(x,{onClick:()=>{return e=s.id,m(s=>s.filter(s=>s.id!==e)),void N({title:"Session removed"});var e},variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-600/10",children:e.jsx(b,{size:16})})]})})},s.id))]}),!n&&0===d.length&&e.jsx(f,{className:"bg-gray-800/50 border-gray-700",children:e.jsxs(y,{className:"p-12 text-center",children:[e.jsx(z,{size:64,className:"text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Agenda Yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:T?"Upload a PDF schedule or add sessions manually to build your event agenda":"The event organizer hasn't added an agenda yet"}),T&&e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs("label",{children:[e.jsx("input",{type:"file",accept:".pdf",onChange:C,className:"hidden"}),e.jsxs(x,{variant:"outline",className:"border-gray-600 cursor-pointer",type:"button",children:[e.jsx(g,{size:16,className:"mr-2"}),"Upload PDF Schedule"]})]}),e.jsxs(x,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(D,{size:16,className:"mr-2"}),"Add First Session"]})]})]})})]})},q=({speakers:t,userRole:a})=>{const[i,r]=s.useState(""),[n,l]=s.useState(null),o=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.company.toLowerCase().includes(i.toLowerCase())||e.title.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(F,{size:24,className:"text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Performers"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Speakers, artists, and performers at this event"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(u,{type:"text",placeholder:"Search by name, role, or company...",value:i,onChange:e=>r(e.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>e.jsx(f,{className:"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70 transition-colors",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-20 h-20 rounded-full mb-4"}),e.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:s.name}),s.performerType&&e.jsx("span",{className:"inline-block bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded mb-2",children:s.performerType.charAt(0).toUpperCase()+s.performerType.slice(1)}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:s.title}),s.company&&e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:s.company}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 mb-3",children:[e.jsx(R,{size:16,fill:"currentColor"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.sessions.length," session",1!==s.sessions.length?"s":""]})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:s.bio}),e.jsx(x,{onClick:()=>l(s),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"View Profile"})]})})},s.id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(f,{className:"bg-gray-800 border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx(N,{className:"border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:n.avatar,alt:n.name,className:"w-16 h-16 rounded-full"}),e.jsxs("div",{children:[e.jsx(w,{className:"text-white text-xl",children:n.name}),e.jsxs("p",{className:"text-gray-400",children:[n.title," at ",n.company]})]})]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>l(null),className:"border-gray-600 text-gray-300",children:"Close"})]})}),e.jsxs(y,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Biography"}),e.jsx("p",{className:"text-gray-300",children:n.bio})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-3",children:"Speaking Sessions"}),e.jsx("div",{className:"space-y-2",children:n.sessions.map((s,t)=>e.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-white font-medium",children:["Session ",s]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Details would be populated from session data"})]},t))})]})]})]})})]})},G=({activeTab:s,onTabChange:t,onShowTripsPlusModal:a,tripId:i,basecamp:d,eventData:m,tripContext:h})=>{const{accentColors:p}=C(),x=[{id:"agenda",label:"Agenda",icon:z,enabled:!0,eventOnly:!0},{id:"calendar",label:"Calendar",icon:z,enabled:!0},{id:"chat",label:"Chat",icon:O,enabled:!1!==m.chatEnabled},{id:"ai-chat",label:"Concierge",icon:L,enabled:!0===m.conciergeEnabled},{id:"media",label:"Media",icon:M,enabled:!1!==m.mediaUploadEnabled},{id:"performers",label:"Performers",icon:F,enabled:!0,eventOnly:!0},{id:"polls",label:"Polls",icon:$,enabled:!1!==m.pollsEnabled}].filter(e=>e.enabled);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex overflow-x-auto whitespace-nowrap scroll-smooth gap-2 mb-8 pb-2 -mx-2 px-2 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 justify-center",children:x.map(a=>{const i=a.icon;return e.jsxs("button",{onClick:()=>t(a.id),className:"flex-shrink-0 min-w-max px-4 py-3 rounded-lg font-medium transition-all duration-200 text-sm flex items-center gap-2 "+(s===a.id?`bg-gradient-to-r ${p.gradient} text-white shadow-md`:"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"),children:[i&&e.jsx(i,{size:16}),a.label,a.eventOnly&&e.jsx(L,{size:14,className:`text-${p.primary}`})]},a.id)})}),e.jsx("div",{className:"h-[calc(100vh-320px)] max-h-[1000px] min-h-[500px] overflow-hidden flex flex-col",children:(()=>{switch(s){case"chat":default:return e.jsx(r,{enableGroupChat:!0,showBroadcasts:!0,isEvent:!0,tripId:i});case"calendar":return e.jsx(c,{tripId:i});case"media":return e.jsx(o,{tripId:i});case"performers":return e.jsx(q,{speakers:m.speakers||[],userRole:m.userRole||"attendee"});case"polls":return e.jsx(l,{tripId:i});case"agenda":return e.jsx(H,{eventId:i,userRole:"speaker"===m.userRole?"attendee":m.userRole,pdfScheduleUrl:m.pdfScheduleUrl});case"ai-chat":return e.jsx(n,{tripId:i,basecamp:d,isEvent:!0})}})()})]})},W=()=>{const{eventId:i}=t(),{user:r}=T(),[n,l]=s.useState("chat"),[o,c]=s.useState(!1),[x,u]=s.useState(!1),[j,g]=s.useState(!1),[b,v]=s.useState(!1),[f,y]=s.useState(!1),[N,w]=s.useState(!1),[k,S]=s.useState("");if(!i)return e.jsx(V,{message:"No event ID provided."});if(!(i in B))return e.jsx(V,{message:"The requested event could not be found.",details:`Event ID: ${i}`,availableIds:Object.keys(B)});const C=B[i],z={id:parseInt(i.replace(/\D/g,"")||"1"),title:C.title,location:C.location,dateRange:C.dateRange,description:k||C.description||`Professional ${C.category.toLowerCase()} event in ${C.location}`,participants:C.participants.map(e=>({id:e.id,name:e.name,avatar:e.avatar}))};a.useEffect(()=>{C.description&&!k&&S(C.description)},[C.description,k]);const D={name:"Event Headquarters",address:`${C.location}, Main Venue`},A=[{id:1,senderName:"Event Coordinator",content:`${C.category} schedule confirmed for all attendees`,timestamp:"2025-01-15T15:30:00Z"},{id:2,senderName:"Operations",content:`Welcome to ${C.title} - check your itinerary for updates`,timestamp:"2025-01-15T10:00:00Z"}],P=[{id:"1",title:"Official Event Website",url:"https://event-official.com/info",category:"Information",votes:0,addedBy:"System",addedAt:(new Date).toISOString()},{id:"2",title:"Venue Information",url:"https://venues.com/events",category:"Venue",votes:0,addedBy:"System",addedAt:(new Date).toISOString()},{id:"3",title:"Networking Hub",url:"https://networking.events.com",category:"Networking",votes:0,addedBy:"System",addedAt:(new Date).toISOString()}],U={tripId:i,title:C.title,location:C.location,dateRange:C.dateRange,participants:z.participants.map(e=>({id:e.id.toString(),name:e.name,role:"attendee"})),itinerary:C.itinerary.map((e,s)=>({id:s.toString(),title:`Day ${s+1}`,date:e.date,events:e.events})),accommodation:D.name,currentDate:(new Date).toISOString().split("T")[0],upcomingEvents:C.itinerary.flatMap(e=>e.events.map(s=>({id:`${e.date}-${s.title}`,title:s.title,date:e.date,time:s.time,location:s.location}))).slice(0,5),recentUpdates:A.map(e=>({id:e.id.toString(),type:"broadcast",message:e.content,timestamp:e.timestamp})),basecamp:D,isPro:!1,broadcasts:A,links:P};return e.jsx(I,{variant:"events",children:e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[e.jsx(p,{tripContext:U,showInbox:o,onToggleInbox:()=>c(!o),onShowInvite:()=>g(!0),onShowTripSettings:()=>y(!0),onShowAuth:()=>v(!0)}),o&&r&&e.jsx("div",{className:"mb-8",children:e.jsx(d,{})}),e.jsx(m,{trip:z,onDescriptionUpdate:S}),e.jsx(G,{activeTab:n,onTabChange:l,onShowTripsPlusModal:()=>w(!0),tripId:i,basecamp:D,eventData:C,tripContext:U})]}),e.jsx(h,{showSettings:x,onCloseSettings:()=>u(!1),showInvite:j,onCloseInvite:()=>g(!1),showAuth:b,onCloseAuth:()=>v(!1),showTripSettings:f,onCloseTripSettings:()=>y(!1),showTripsPlusModal:N,onCloseTripsPlusModal:()=>w(!1),tripName:C.title,tripId:i,userId:null==r?void 0:r.id})]})})};export{W as default};
