import{j as e}from"./ui-vendor-BO3EQrMK-mjd3dogn.js";import{r as t}from"./react-vendor-D1R0t5S0-mjd3dogn.js";import{s as a}from"./index-Ta7FH5xW-mjd3dogn.js";import"./supabase-DyX-XggK-mjd3dogn.js";import"./utils-DD44zzh--mjd3dogn.js";const s={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function o(){const[o,n]=t.useState({envPresent:!1,isPreview:!1,localStorageAvailable:!1,supabaseSession:null,supabaseDBReachable:!1,cspViolations:0});t.useEffect(()=>{const e=()=>{try{const e="__health_probe__";return localStorage.setItem(e,"1"),localStorage.removeItem(e),!0}catch{return!1}};(async()=>{const t=s??{},o="undefined"!=typeof window&&window.location.hostname.endsWith("lovableproject.com");let r=null,i=!1;try{const{data:e}=await a.auth.getSession();r=e.session?"active":"none"}catch{r="error"}try{const{error:e}=await a.from("profiles").select("*",{count:"exact",head:!0});i=!e}catch{i=!1}n({envPresent:!(!t.VITE_SUPABASE_URL||!t.VITE_SUPABASE_ANON_KEY),isPreview:o,localStorageAvailable:e(),supabaseSession:r,supabaseDBReachable:i,cspViolations:0})})()},[]);const r={buildId:"dev",mode:"production",timestamp:(new Date).toISOString(),features:{placesLinksV2:!0,mediaLinks:!1,serviceWorkerCleared:!0,nominatimFallback:!0,tripSpecificMockData:!0},runtime:o,status:"ok"};return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Health Check"}),e.jsx("pre",{className:"bg-gray-800 p-6 rounded-lg overflow-auto text-sm",children:JSON.stringify(r,null,2)})]})})}export{o as default};
