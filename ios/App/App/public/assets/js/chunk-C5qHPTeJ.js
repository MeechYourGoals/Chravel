import{c as e,s as t}from"../index-C69Cv9fm.js";import{r as a}from"./chunk-CHPtWMTz.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=e("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),r=e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),o=e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),n=["chat","calendar","concierge","media","payments","places","polls","tasks"],l=e=>a.useMemo(()=>{if("consumer"===e.trip_type)return{showChat:!0,showCalendar:!0,showConcierge:!0,showMedia:!0,showPayments:!0,showPlaces:!0,showPolls:!0,showTasks:!0,isFeatureEnabled:()=>!0};const t=e.enabled_features||n;return{showChat:t.includes("chat"),showCalendar:t.includes("calendar"),showConcierge:t.includes("concierge"),showMedia:t.includes("media"),showPayments:t.includes("payments"),showPlaces:t.includes("places"),showPolls:t.includes("polls"),showTasks:t.includes("tasks"),isFeatureEnabled:e=>t.includes(e)}},[e.enabled_features,e.trip_type]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */class c{static async callProxy(e,a){const{data:s,error:r}=await t.functions.invoke("google-maps-proxy",{body:{endpoint:e,...a},headers:{"Content-Type":"application/json"}});if(r)throw new Error(`Google Maps API error: ${r.message}`);if(!s)throw new Error("No response from Google Maps service");return s}static async getEmbedUrl(e){return(await this.callProxy("embed-url",{query:e})).embedUrl}static async getDistanceMatrix(e,t,a="DRIVING"){return await this.callProxy("distance-matrix",{origins:e,destinations:t,mode:a})}static async geocodeAddress(e){var t;try{const a=await this.callProxy("geocode",{address:e});if(a.results&&a.results.length>0){const e=null==(t=a.results[0].geometry)?void 0:t.location;if(e&&e.lat&&e.lng)return{lat:e.lat,lng:e.lng}}return null}catch(a){return null}}static async getPlaceAutocomplete(e,t=["establishment","geocode"]){try{return await this.callProxy("autocomplete",{input:e,types:t.join("|")})}catch(a){return{predictions:[]}}}static async getPlaceDetailsById(e){try{return await this.callProxy("place-details",{placeId:e})}catch(t){return null}}static async searchPlacesNearBasecamp(e,t,a=5e3){return await this.callProxy("places-search",{query:e,location:`${t.lat},${t.lng}`,radius:a})}static async getPlaceDetails(e){return await this.callProxy("place-details",{placeId:e})}static buildEmbeddableUrl(e,t,a){if(a&&e){return`https://www.google.com/maps?output=embed&saddr=${encodeURIComponent(e)}&daddr=${encodeURIComponent(a)}`}if(e){return`https://www.google.com/maps?output=embed&q=${encodeURIComponent(e)}`}return t?`https://www.google.com/maps?output=embed&ll=${t.lat},${t.lng}&z=12`:"https://www.google.com/maps?output=embed&ll=40.7580,-73.9855&z=12"}static async fallbackGeocodeNominatim(e){try{const t=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(e)}`,a=await fetch(t,{headers:{Accept:"application/json","User-Agent":"Chravel/1.0"}});if(!a.ok)return null;const s=await a.json();return Array.isArray(s)&&s.length>0&&s[0].lat&&s[0].lon?{lat:parseFloat(s[0].lat),lng:parseFloat(s[0].lon),displayName:s[0].display_name}:null}catch(t){return null}}static async fallbackSuggestNominatim(e,t=8){try{const a=`https://nominatim.openstreetmap.org/search?format=json&limit=${t}&q=${encodeURIComponent(e)}`,s=await fetch(a,{headers:{Accept:"application/json","User-Agent":"Chravel/1.0"}});if(!s.ok)return[];const r=await s.json();return Array.isArray(r)?r.map(e=>({source:"osm",place_id:`osm:${e.place_id}`,description:e.display_name,osm_lat:parseFloat(e.lat),osm_lng:parseFloat(e.lon),types:["geocode"],structured_formatting:{main_text:e.display_name.split(",")[0],secondary_text:e.display_name.split(",").slice(1).join(",").trim()}})):[]}catch(a){return[]}}static async searchPlacesByText(e,t){try{return await this.callProxy("text-search",{query:e,...t&&{location:t}})}catch(a){return{results:[],status:"ZERO_RESULTS"}}}static detectQueryType(e){return/\d+\s+\w+\s+(st|street|ave|avenue|blvd|road|rd|drive|dr|lane|ln|way|court|ct)/i.test(e)?"address":/(city|town|village|region|state|country|province)/i.test(e)?"region":(!/\d/.test(e)||/(restaurant|hotel|bar|cafe|club|lounge|stadium|arena|theater|museum|scandallo|scandalo)/i.test(e),"venue")}}export{n as D,c as G,s as H,r as I,o as L,l as u};
