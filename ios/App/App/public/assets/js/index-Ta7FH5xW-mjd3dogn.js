const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/web-BoAebNw4-mjd3dogn.js","assets/js/ui-vendor-BO3EQrMK-mjd3dogn.js","assets/js/react-vendor-D1R0t5S0-mjd3dogn.js","assets/js/supabase-DyX-XggK-mjd3dogn.js","assets/js/utils-DD44zzh--mjd3dogn.js","assets/js/userPreferencesService-DregIO64-mjd3dogn.js","assets/js/Index-BbrvFCbE-mjd3dogn.js","assets/js/BillingSection-CjHrdMm3-mjd3dogn.js","assets/js/building-QMpp1aWF-mjd3dogn.js","assets/js/camera-AJLsIMdA-mjd3dogn.js","assets/js/user-DFuJ2ZP3-mjd3dogn.js","assets/js/pro-CZgaTEEg-mjd3dogn.js","assets/js/switch-GKuTbu---mjd3dogn.js","assets/js/checkbox-DB2Rf35T-mjd3dogn.js","assets/js/select-CMjqEsxb-mjd3dogn.js","assets/js/tripConverter-C1IUbOIF-mjd3dogn.js","assets/js/tripsData-DKwZ96V_-mjd3dogn.js","assets/js/SettingsMenu-DFNATHGY-mjd3dogn.js","assets/js/SavedRecommendations-D-6cIfyL-mjd3dogn.js","assets/js/card-jeNxgMYk-mjd3dogn.js","assets/js/badge-DyE_ZUPM-mjd3dogn.js","assets/js/useSavedRecommendations-DTox9Xl2-mjd3dogn.js","assets/js/map-pin-BtCU-LeS-mjd3dogn.js","assets/js/plus-Dhwa7sZY-mjd3dogn.js","assets/js/shield-DGBvlKQi-mjd3dogn.js","assets/js/zap-LZcBFzwj-mjd3dogn.js","assets/js/trending-up-B0a-0y1l-mjd3dogn.js","assets/js/input-DsI2n-oJ-mjd3dogn.js","assets/js/label-D_iG0y88-mjd3dogn.js","assets/js/loader-circle-C0Dqayt8-mjd3dogn.js","assets/js/mail-BdBVrsyz-mjd3dogn.js","assets/js/calendar-C9K0fVga-mjd3dogn.js","assets/js/archive-zX2FvEif-mjd3dogn.js","assets/js/AuthModal-BKw70HSh-mjd3dogn.js","assets/js/arrow-left-Biq1qnK6-mjd3dogn.js","assets/js/eye-BNDPAvT6-mjd3dogn.js","assets/js/users-B07yK8Y7-mjd3dogn.js","assets/js/useOrganization-BjbSTYDJ-mjd3dogn.js","assets/js/chart-column-DOJCLy2J-mjd3dogn.js","assets/js/user-check-D5SE8eAf-mjd3dogn.js","assets/js/clock-CbBGjTQx-mjd3dogn.js","assets/js/dropdown-menu-BXaKb4pk-mjd3dogn.js","assets/js/chevron-right-DKRZr0Ps-mjd3dogn.js","assets/js/avatar-HCmfb6Ad-mjd3dogn.js","assets/js/dialog-BcLamxvL-mjd3dogn.js","assets/js/eventsMockData-BWXZ-nj7-mjd3dogn.js","assets/js/textarea-BudkfAn8-mjd3dogn.js","assets/js/circle-alert-CX60mGhN-mjd3dogn.js","assets/js/index-BtqJPC9L-mjd3dogn.js","assets/js/chevron-left-C1xtDQ_l-mjd3dogn.js","assets/js/loading-skeleton-CBCOeIbu-mjd3dogn.js","assets/js/briefcase-WtVaig-p-mjd3dogn.js","assets/js/sheet-L6YEzMS_-mjd3dogn.js","assets/js/separator-R_tKikBH-mjd3dogn.js","assets/js/usePerformanceMonitor-Ded4avWC-mjd3dogn.js","assets/js/TripDetail-azCLDlRR-mjd3dogn.js","assets/js/TripDetailModals-BpnQZ47b-mjd3dogn.js","assets/js/calendar-ylgcJK3b-mjd3dogn.js","assets/js/progress-D31nnzej-mjd3dogn.js","assets/js/googlePlacesNew-Dl7cAwDK-mjd3dogn.js","assets/js/external-link-CqAT5ABV-mjd3dogn.js","assets/js/circle-check-big-Bvor9_sf-mjd3dogn.js","assets/js/circle-check-CNnkiDfZ-mjd3dogn.js","assets/js/charts-CLK9EMgA-mjd3dogn.js","assets/js/share-2-DwO-SOoB-mjd3dogn.js","assets/TripDetailModals-D8Md-CES.css","assets/js/TripDetailHeader-DuOGWBm_-mjd3dogn.js","assets/js/DemoTripGate-HFR7GJoc-mjd3dogn.js","assets/js/ProTripDetail-uyrh3ams-mjd3dogn.js","assets/js/ProTripNotFound-cUoNZi2a-mjd3dogn.js","assets/js/useSuperAdmin-CWSn9Z4T-mjd3dogn.js","assets/js/EventDetail-By6XEZGW-mjd3dogn.js","assets/js/NotFound-xK2NOl8s-mjd3dogn.js","assets/js/JoinTrip-BH28nD38-mjd3dogn.js","assets/js/ProfilePage-1kqUYEIN-mjd3dogn.js","assets/js/SettingsPage-C0ak6znS-mjd3dogn.js","assets/js/ArchivePage-C7xNGoN_-mjd3dogn.js","assets/js/AdminDashboard-DBKzPxop-mjd3dogn.js","assets/js/OrganizationDashboard-f53zVrBp-mjd3dogn.js","assets/js/tabs-Dxuz3Y6S-mjd3dogn.js","assets/js/OrganizationsHub-BLdXzKrz-mjd3dogn.js","assets/js/AcceptOrganizationInvite-B6Ryhyl6-mjd3dogn.js","assets/js/ChravelRecsPage-DhGXFptz-mjd3dogn.js","assets/js/ForTeams-C2zbHP71-mjd3dogn.js","assets/js/AdvertiserDashboard-A2R6YX2l-mjd3dogn.js","assets/js/trending-down-MCtSAEQe-mjd3dogn.js","assets/js/save-DwQheero-mjd3dogn.js","assets/js/Healthz-BiTHbTbp-mjd3dogn.js","assets/js/PrivacyPolicy-Co6SKUCE-mjd3dogn.js","assets/js/TermsOfService-CUozJLBL-mjd3dogn.js","assets/js/TripPreview-CEgtgZE3-mjd3dogn.js","assets/js/AuthPage-BwH5G0ru-mjd3dogn.js"])))=>i.map(i=>d[i]);
var e,t,r,s,a,o,i,n,u,c,l,d,p,m,h,g,v,f,y,w,_,b,S,x,k,D,C,I,O,E,P,T,j,M,A,R,N,L,q,B,z,F=Object.defineProperty,W=e=>{throw TypeError(e)},$=(e,t,r)=>((e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),U=(e,t,r)=>t.has(e)||W("Cannot "+r),V=(e,t,r)=>(U(e,t,"read from private field"),r?r.call(e):t.get(e)),H=(e,t,r)=>t.has(e)?W("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,s)=>(U(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Q=(e,t,r)=>(U(e,t,"access private method"),r),G=(e,t,r,s)=>({set _(s){K(e,t,s,r)},get _(){return V(e,t,s)}});import{j as Y,c as J,a as X,u as Z,B as ee,P as te,V as re,b as se,d as ae,e as oe,f as ie,R as ne,g as ue,h as ce,i as le,k as de,A as pe,D as me,C as he,S as ge,l as ve,m as fe,n as ye,o as we,p as _e}from"./ui-vendor-BO3EQrMK-mjd3dogn.js";import{a as be,r as Se,R as xe,b as ke,f as De,h as Ce,u as Ie,N as Oe,B as Ee}from"./react-vendor-D1R0t5S0-mjd3dogn.js";import{_ as Pe,c as Te}from"./supabase-DyX-XggK-mjd3dogn.js";import{c as je,t as Me}from"./utils-DD44zzh--mjd3dogn.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ae=be;z=Ae.createRoot,Ae.hydrateRoot;const Re=Se.createContext({variant:"consumer",accentColors:{primary:"glass-orange",secondary:"glass-yellow",gradient:"from-glass-orange to-glass-yellow",badge:"from-glass-orange to-glass-yellow"}}),Ne=()=>Se.useContext(Re),Le=({variant:e,children:t})=>{const r="pro"===e?{primary:"glass-crimson",secondary:"glass-crimson-light",gradient:"from-glass-crimson to-glass-crimson-light",badge:"from-glass-crimson to-glass-crimson-light"}:"events"===e?{primary:"glass-blue",secondary:"glass-blue-light",gradient:"from-glass-blue to-glass-blue-light",badge:"from-glass-blue to-glass-blue-light"}:{primary:"glass-orange",secondary:"glass-yellow",gradient:"from-glass-orange to-glass-yellow",badge:"from-glass-orange to-glass-yellow"};return Y.jsx(Re.Provider,{value:{variant:e,accentColors:r},children:t})};
/*! Capacitor: https://capacitorjs.com/ - MIT License */
var qe,Be;(Be=qe||(qe={})).Unimplemented="UNIMPLEMENTED",Be.Unavailable="UNAVAILABLE";class ze extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const Fe=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},s=r.Plugins=r.Plugins||{},a=()=>null!==t?t.name:(e=>{var t,r;return(null==e?void 0:e.androidBridge)?"android":(null===(r=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===r?void 0:r.bridge)?"ios":"web"})(e),o=e=>{var t;return null===(t=r.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},i=new Map;return r.convertFileSrc||(r.convertFileSrc=e=>e),r.getPlatform=a,r.handleError=t=>e.console.error(t),r.isNativePlatform=()=>"web"!==a(),r.isPluginAvailable=e=>{const t=i.get(e);return!!(null==t?void 0:t.platforms.has(a()))||!!o(e)},r.registerPlugin=(e,n={})=>{const u=i.get(e);if(u)return u.proxy;const c=a(),l=o(e);let d;const p=s=>{let a;const o=(...o)=>{const i=(async()=>(!d&&c in n?d=d="function"==typeof n[c]?await n[c]():n[c]:null!==t&&!d&&"web"in n&&(d=d="function"==typeof n.web?await n.web():n.web),d))().then(t=>{const i=((t,s)=>{var a,o;if(!l){if(t)return null===(o=t[s])||void 0===o?void 0:o.bind(t);throw new ze(`"${e}" plugin is not implemented on ${c}`,qe.Unimplemented)}{const o=null==l?void 0:l.methods.find(e=>s===e.name);if(o)return"promise"===o.rtype?t=>r.nativePromise(e,s.toString(),t):(t,a)=>r.nativeCallback(e,s.toString(),t,a);if(t)return null===(a=t[s])||void 0===a?void 0:a.bind(t)}})(t,s);if(i){const e=i(...o);return a=null==e?void 0:e.remove,e}throw new ze(`"${e}.${s}()" is not implemented on ${c}`,qe.Unimplemented)});return"addListener"===s&&(i.remove=async()=>a()),i};return o.toString=()=>`${s.toString()}() { [capacitor code] }`,Object.defineProperty(o,"name",{value:s,writable:!1,configurable:!1}),o},m=p("addListener"),h=p("removeListener"),g=(e,t)=>{const r=m({eventName:e},t),s=async()=>{const s=await r;h({eventName:e,callbackId:s},t)},a=new Promise(e=>r.then(()=>e({remove:s})));return a.remove=async()=>{await s()},a},v=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return l?g:m;case"removeListener":return h;default:return p(t)}}});return s[e]=v,i.set(e,{name:e,proxy:v,platforms:new Set([...Object.keys(n),...l?[c]:[]])}),v},r.Exception=ze,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},We=(e=>e.Capacitor=Fe(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),$e=We.registerPlugin;class Ue{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const s=this.listeners[e];if(s)s.forEach(e=>e(t));else if(r){let r=this.retainedEventArguments[e];r||(r=[]),r.push(t),this.retainedEventArguments[e]=r}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new We.Exception(e,qe.Unimplemented)}unavailable(e="not available"){return new We.Exception(e,qe.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const s=r.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const Ve=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),He=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ke extends Ue{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[r,s]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=He(r).trim(),s=He(s).trim(),t[r]=s}),t}async setCookie(e){try{const t=Ve(e.key),r=Ve(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${s}; path=${a}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}$e("CapacitorCookies",{web:()=>new Ke});const Qe=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((r,s,a)=>(r[s]=e[t[a]],r),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[r,s]of Object.entries(e.data||{}))t.set(r,s);r.body=t.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,r)=>{t.append(r,e)});else for(const r of Object.keys(e.data))t.append(r,e.data[r]);r.body=t;const s=new Headers(r.headers);s.delete("content-type"),r.headers=s}else(s.includes("application/json")||"object"==typeof e.data)&&(r.body=JSON.stringify(e.data));return r};class Ge extends Ue{async request(e){const t=Qe(e,e.webFetchExtra),r=((e,t=!0)=>e?Object.entries(e).reduce((e,r)=>{const[s,a]=r;let o,i;return Array.isArray(a)?(i="",a.forEach(e=>{o=t?encodeURIComponent(e):e,i+=`${s}=${o}&`}),i.slice(0,-1)):(o=t?encodeURIComponent(a):a,i=`${s}=${o}`),`${e}&${i}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,a=await fetch(s,t),o=a.headers.get("content-type")||"";let i,n,{responseType:u="text"}=a.ok?e:{};switch(o.includes("application/json")&&(u="json"),u){case"arraybuffer":case"blob":n=await a.blob(),i=await(async e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{const e=s.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},s.onerror=e=>r(e),s.readAsDataURL(e)}))(n);break;case"json":i=await a.json();break;default:i=await a.text()}const c={};return a.headers.forEach((e,t)=>{c[t]=e}),{data:i,headers:c,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}$e("CapacitorHttp",{web:()=>new Ge});const Ye=$e("Preferences",{web:()=>Pe(()=>import("./web-BoAebNw4-mjd3dogn.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>new e.PreferencesWeb)});const Je=We.isNativePlatform()?new class{async getItem(e){try{const{value:t}=await Ye.get({key:e});return t}catch(t){return null}}async setItem(e,t){try{await Ye.set({key:e,value:t})}catch(r){}}async removeItem(e){try{await Ye.remove({key:e})}catch(t){}}async clear(){try{await Ye.clear()}catch(e){}}}:new class{async getItem(e){try{return localStorage.getItem(e)}catch(t){return null}}async setItem(e,t){try{localStorage.setItem(e,t)}catch(r){}}async removeItem(e){try{localStorage.removeItem(e)}catch(t){}}async clear(){try{localStorage.clear()}catch(e){}}};async function Xe(e,t){const r=await Je.getItem(e);if(null===r)return t??null;try{return JSON.parse(r)}catch{return r}}async function Ze(e,t){const r="string"==typeof t?t:JSON.stringify(t);await Je.setItem(e,r)}async function et(e){await Je.removeItem(e)}const tt=Se.createContext(void 0),rt="trip-basecamp",st=({children:e})=>{const[t,r]=Se.useState(null),[s,a]=Se.useState(!0);Se.useEffect(()=>{(async()=>{try{const e=new Promise(e=>setTimeout(()=>e(null),2e3)),t=await Promise.race([Xe(rt),e]);t&&r(t)}catch(e){}finally{a(!1)}})()},[]);const o=async e=>{r(e);try{e?await Ze(rt,e):await et(rt)}catch(t){}},i=!!t;return Y.jsx(tt.Provider,{value:{basecamp:t,setBasecamp:o,isBasecampSet:i,clearBasecamp:()=>{o(null)},isLoading:s},children:e})},at=()=>{const e=Se.useContext(tt);if(void 0===e)throw new Error("useBasecamp must be used within a BasecampProvider");return e};const ot=async()=>{if(function(){if("undefined"==typeof window)return!1;const e=window.location.hostname;return e.endsWith("lovable.app")||e.endsWith("lovableproject.com")||"lovable.app"===e||"lovableproject.com"===e}()){const e="lovable_sw_cleanup_v2";if(!localStorage.getItem(e)){if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}localStorage.setItem(e,"true")}return}if("serviceWorker"in navigator)try{const e=`/sw.js?v=${"static"}`,t="prod_sw_migration_v1";if(!localStorage.getItem(t)){const e=await navigator.serviceWorker.getRegistrations();if(await Promise.all(e.map(e=>e.unregister())),"caches"in window){const e=(await caches.keys()).filter(e=>e.startsWith("chravel-"));await Promise.all(e.map(e=>caches.delete(e)))}localStorage.setItem(t,"true")}const r=await navigator.serviceWorker.register(e,{updateViaCache:"none"});r.addEventListener("updatefound",()=>{const e=r.installing;e&&e.addEventListener("statechange",()=>{})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{}),setInterval(()=>{r.update().catch(e=>{0})},3e5)}catch(e){const t="prod_sw_migration_v1";if(localStorage.getItem(t)){if(localStorage.removeItem(t),"serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}if("caches"in window){const e=(await caches.keys()).filter(e=>e.startsWith("chravel-"));await Promise.all(e.map(e=>caches.delete(e)))}}}};let it=0;const nt=new Map,ut=e=>{if(nt.has(e))return;const t=setTimeout(()=>{nt.delete(e),pt({type:"REMOVE_TOAST",toastId:e})},1e6);nt.set(e,t)},ct=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ut(r):e.toasts.forEach(e=>{ut(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},lt=[];let dt={toasts:[]};function pt(e){dt=ct(dt,e),lt.forEach(e=>{e(dt)})}function mt({...e}){const t=(it=(it+1)%Number.MAX_SAFE_INTEGER,it.toString()),r=()=>pt({type:"DISMISS_TOAST",toastId:t});return pt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>pt({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function ht(){const[e,t]=Se.useState(dt);return Se.useEffect(()=>(lt.push(t),()=>{const e=lt.indexOf(t);e>-1&&lt.splice(e,1)}),[e]),{...e,toast:mt,dismiss:e=>pt({type:"DISMISS_TOAST",toastId:e})}}var gt="ToastProvider",[vt,ft,yt]=J("Toast"),[wt,_t]=X("Toast",[yt]),[bt,St]=wt(gt),xt=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[n,u]=Se.useState(null),[c,l]=Se.useState(0),d=Se.useRef(!1),p=Se.useRef(!1);return r.trim(),Y.jsx(vt.Provider,{scope:t,children:Y.jsx(bt,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:n,onViewportChange:u,onToastAdd:Se.useCallback(()=>l(e=>e+1),[]),onToastRemove:Se.useCallback(()=>l(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:i})})};xt.displayName=gt;var kt="ToastViewport",Dt=["F8"],Ct="toast.viewportPause",It="toast.viewportResume",Ot=Se.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Dt,label:a="Notifications ({hotkey})",...o}=e,i=St(kt,r),n=ft(r),u=Se.useRef(null),c=Se.useRef(null),l=Se.useRef(null),d=Se.useRef(null),p=Z(t,d,i.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=i.toastCount>0;Se.useEffect(()=>{const e=e=>{var t;0!==s.length&&s.every(t=>e[t]||e.code===t)&&(null==(t=d.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),Se.useEffect(()=>{const e=u.current,t=d.current;if(h&&e&&t){const r=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(Ct);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},s=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(It);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&s()},o=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",s)}}},[h,i.isClosePausedRef]);const g=Se.useCallback(({tabbingDirection:e})=>{const t=n().map(t=>{const r=t.ref.current,s=[r,...Ht(r)];return"forwards"===e?s:s.reverse()});return("forwards"===e?t.reverse():t).flat()},[n]);return Se.useEffect(()=>{const e=d.current;if(e){const t=t=>{var r,s,a;const o=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!o){const o=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(r=c.current)||r.focus());const n=g({tabbingDirection:i?"backwards":"forwards"}),u=n.findIndex(e=>e===o);Kt(n.slice(u+1))?t.preventDefault():i?null==(s=c.current)||s.focus():null==(a=l.current)||a.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[n,g]),Y.jsxs(ee,{ref:u,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&Y.jsx(Pt,{ref:c,onFocusFromOutsideViewport:()=>{Kt(g({tabbingDirection:"forwards"}))}}),Y.jsx(vt.Slot,{scope:r,children:Y.jsx(te.ol,{tabIndex:-1,...o,ref:p})}),h&&Y.jsx(Pt,{ref:l,onFocusFromOutsideViewport:()=>{Kt(g({tabbingDirection:"backwards"}))}})]})});Ot.displayName=kt;var Et="ToastFocusProxy",Pt=Se.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,o=St(Et,r);return Y.jsx(re,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=o.viewport)?void 0:t.contains(r))&&s()}})});Pt.displayName=Et;var Tt="Toast",jt=Se.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:o,...i}=e,[n=!0,u]=se({prop:s,defaultProp:a,onChange:o});return Y.jsx(ae,{present:r||n,children:Y.jsx(Rt,{open:n,...i,ref:t,onClose:()=>u(!1),onPause:oe(e.onPause),onResume:oe(e.onResume),onSwipeStart:ie(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:ie(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),u(!1)})})})});jt.displayName=Tt;var[Mt,At]=wt(Tt,{onClose(){}}),Rt=Se.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:n,onPause:u,onResume:c,onSwipeStart:l,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:m,...h}=e,g=St(Tt,r),[v,f]=Se.useState(null),y=Z(t,e=>f(e)),w=Se.useRef(null),_=Se.useRef(null),b=a||g.duration,S=Se.useRef(0),x=Se.useRef(b),k=Se.useRef(0),{onToastAdd:D,onToastRemove:C}=g,I=oe(()=>{var e;(null==v?void 0:v.contains(document.activeElement))&&(null==(e=g.viewport)||e.focus()),i()}),O=Se.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(k.current),S.current=(new Date).getTime(),k.current=window.setTimeout(I,e))},[I]);Se.useEffect(()=>{const e=g.viewport;if(e){const t=()=>{O(x.current),null==c||c()},r=()=>{const e=(new Date).getTime()-S.current;x.current=x.current-e,window.clearTimeout(k.current),null==u||u()};return e.addEventListener(Ct,r),e.addEventListener(It,t),()=>{e.removeEventListener(Ct,r),e.removeEventListener(It,t)}}},[g.viewport,b,u,c,O]),Se.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(b)},[o,b,g.isClosePausedRef,O]),Se.useEffect(()=>(D(),()=>C()),[D,C]);const E=Se.useMemo(()=>v?$t(v):null,[v]);return g.viewport?Y.jsxs(Y.Fragment,{children:[E&&Y.jsx(Nt,{__scopeToast:r,role:"status","aria-live":"foreground"===s?"assertive":"polite","aria-atomic":!0,children:E}),Y.jsx(Mt,{scope:r,onClose:I,children:be.createPortal(Y.jsx(vt.ItemSlot,{scope:r,children:Y.jsx(ne,{asChild:!0,onEscapeKeyDown:ie(n,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:Y.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...h,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,e=>{"Escape"===e.key&&(null==n||n(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ie(e.onPointerDown,e=>{0===e.button&&(w.current={x:e.clientX,y:e.clientY})}),onPointerMove:ie(e.onPointerMove,e=>{if(!w.current)return;const t=e.clientX-w.current.x,r=e.clientY-w.current.y,s=Boolean(_.current),a=["left","right"].includes(g.swipeDirection),o=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,i=a?o(0,t):0,n=a?0:o(0,r),u="touch"===e.pointerType?10:2,c={x:i,y:n},p={originalEvent:e,delta:c};s?(_.current=c,Ut("toast.swipeMove",d,p,{discrete:!1})):Vt(c,g.swipeDirection,u)?(_.current=c,Ut("toast.swipeStart",l,p,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>u||Math.abs(r)>u)&&(w.current=null)}),onPointerUp:ie(e.onPointerUp,e=>{const t=_.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),_.current=null,w.current=null,t){const r=e.currentTarget,s={originalEvent:e,delta:t};Vt(t,g.swipeDirection,g.swipeThreshold)?Ut("toast.swipeEnd",m,s,{discrete:!0}):Ut("toast.swipeCancel",p,s,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Nt=e=>{const{__scopeToast:t,children:r,...s}=e,a=St(Tt,t),[o,i]=Se.useState(!1),[n,u]=Se.useState(!1);return function(e=()=>{}){const t=oe(e);ce(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>i(!0)),Se.useEffect(()=>{const e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),n?null:Y.jsx(ue,{asChild:!0,children:Y.jsx(re,{...s,children:o&&Y.jsxs(Y.Fragment,{children:[a.label," ",r]})})})},Lt=Se.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return Y.jsx(te.div,{...s,ref:t})});Lt.displayName="ToastTitle";var qt=Se.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return Y.jsx(te.div,{...s,ref:t})});qt.displayName="ToastDescription";var Bt=Se.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?Y.jsx(Wt,{altText:r,asChild:!0,children:Y.jsx(Ft,{...s,ref:t})}):null});Bt.displayName="ToastAction";var zt="ToastClose",Ft=Se.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=At(zt,r);return Y.jsx(Wt,{asChild:!0,children:Y.jsx(te.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,a.onClose)})})});Ft.displayName=zt;var Wt=Se.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return Y.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function $t(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,s=""===e.dataset.radixToastAnnounceExclude;if(!r)if(s){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...$t(e))}}),t}function Ut(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?le(a,o):a.dispatchEvent(o)}var Vt=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),o=s>a;return"left"===t||"right"===t?o&&s>r:!o&&a>r};function Ht(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Kt(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Qt=xt,Gt=Ot,Yt=jt,Jt=Lt,Xt=qt,Zt=Bt,er=Ft;const tr=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,rr=je,sr=(e,t)=>r=>{var s;if(null==(null==t?void 0:t.variants))return rr(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(e=>{const t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;const i=tr(t)||tr(s);return a[e][i]}),n=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{}),u=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...n}[t]):{...o,...n}[t]===r})?[...e,r,s]:e},[]);return rr(e,i,u,null==r?void 0:r.class,null==r?void 0:r.className)},ar=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var or={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Se.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:i,...n},u)=>Se.createElement("svg",{ref:u,...or,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:ar("lucide",a),...n},[...i.map(([e,t])=>Se.createElement(e,t)),...Array.isArray(o)?o:[o]])),nr=(e,t)=>{const r=Se.forwardRef(({className:r,...s},a)=>{return Se.createElement(ir,{ref:a,iconNode:t,className:ar(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...s});var o});return r.displayName=`${e}`,r},ur=nr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cr=nr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lr=nr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),dr=nr("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),pr=nr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function mr(...e){return Me(je(e))}const hr=Qt,gr=Se.forwardRef(({className:e,...t},r)=>Y.jsx(Gt,{ref:r,className:mr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gr.displayName=Gt.displayName;const vr=sr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fr=Se.forwardRef(({className:e,variant:t,...r},s)=>Y.jsx(Yt,{ref:s,className:mr(vr({variant:t}),e),...r}));fr.displayName=Yt.displayName;Se.forwardRef(({className:e,...t},r)=>Y.jsx(Zt,{ref:r,className:mr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=Zt.displayName;const yr=Se.forwardRef(({className:e,...t},r)=>Y.jsx(er,{ref:r,className:mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:Y.jsx(pr,{className:"h-4 w-4"})}));yr.displayName=er.displayName;const wr=Se.forwardRef(({className:e,...t},r)=>Y.jsx(Jt,{ref:r,className:mr("text-sm font-semibold",e),...t}));wr.displayName=Jt.displayName;const _r=Se.forwardRef(({className:e,...t},r)=>Y.jsx(Xt,{ref:r,className:mr("text-sm opacity-90",e),...t}));function br(){const{toasts:e}=ht();return Y.jsxs(hr,{children:[e.map(function({id:e,title:t,description:r,action:s,...a}){return Y.jsxs(fr,{...a,children:[Y.jsxs("div",{className:"grid gap-1",children:[t&&Y.jsx(wr,{children:t}),r&&Y.jsx(_r,{children:r})]}),s,Y.jsx(yr,{})]},e)}),Y.jsx(gr,{})]})}_r.displayName=Xt.displayName;var Sr=["light","dark"],xr=Se.createContext(void 0),kr={setTheme:e=>{},themes:[]};Se.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:i,attrs:n,nonce:u})=>{let c="system"===o,l="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${n.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?Sr.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(e,t=!1,s=!0)=>{let o=i?i[e]:e,n=t?e+"|| ''":`'${o}'`,u="";return a&&s&&!t&&Sr.includes(e)&&(u+=`d.style.colorScheme = '${e}';`),"class"===r?u+=t||o?`c.add(${n})`:"null":o&&(u+=`d[s](n,${n})`),u},m=e?`!function(){${l}${p(e)}}()`:s?`!function(){try{${l}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${l}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${d}}catch(t){}}();`;return Se.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:m}})});const Dr=Array(12).fill(0),Cr=({visible:e,className:t})=>xe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},xe.createElement("div",{className:"sonner-spinner"},Dr.map((e,t)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Ir=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Or=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Er=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Pr=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tr=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let jr=1;const Mr=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:jr++,o=this.toasts.find(e=>e.id===a),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:r}),{...t,...e,id:a,dismissible:i,title:r}):t):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a,o=void 0!==r;const i=s.then(async e=>{a=["resolve",e];if(xe.isValidElement(e))o=!1,this.create({id:r,type:"default",message:e});else if(Ar(e)&&!e.ok){o=!1;const s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof s&&!xe.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(e instanceof Error){o=!1;const s="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!xe.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(void 0!==t.success){o=!1;const s="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!xe.isValidElement(s)?s:{message:s};this.create({id:r,type:"success",description:a,...i})}}).catch(async e=>{if(a=["reject",e],void 0!==t.error){o=!1;const s="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!xe.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),null==t.finally||t.finally.call(t)}),n=()=>new Promise((e,t)=>i.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:n}:Object.assign(r,{unwrap:n})},this.custom=(e,t)=>{const r=(null==t?void 0:t.id)||jr++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ar=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Rr=(e,t)=>{const r=(null==t?void 0:t.id)||jr++;return Mr.addToast({title:e,...t,id:r}),r},Nr=Object.assign(Rr,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:()=>Mr.toasts,getToasts:()=>Mr.getActiveToasts()});function Lr(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const qr=3,Br=14;function zr(...e){return e.filter(Boolean).join(" ")}const Fr=e=>{var t,r,s,a,o,i,n,u,c;const{invert:l,toast:d,unstyled:p,interacting:m,setHeights:h,visibleToasts:g,heights:v,index:f,toasts:y,expanded:w,removeToast:_,defaultRichColors:b,closeButton:S,style:x,cancelButtonStyle:k,actionButtonStyle:D,className:C="",descriptionClassName:I="",duration:O,position:E,gap:P,expandByDefault:T,classNames:j,icons:M,closeButtonAriaLabel:A="Close toast"}=e,[R,N]=xe.useState(null),[L,q]=xe.useState(null),[B,z]=xe.useState(!1),[F,W]=xe.useState(!1),[$,U]=xe.useState(!1),[V,H]=xe.useState(!1),[K,Q]=xe.useState(!1),[G,Y]=xe.useState(0),[J,X]=xe.useState(0),Z=xe.useRef(d.duration||O||4e3),ee=xe.useRef(null),te=xe.useRef(null),re=0===f,se=f+1<=g,ae=d.type,oe=!1!==d.dismissible,ie=d.className||"",ne=d.descriptionClassName||"",ue=xe.useMemo(()=>v.findIndex(e=>e.toastId===d.id)||0,[v,d.id]),ce=xe.useMemo(()=>{var e;return null!=(e=d.closeButton)?e:S},[d.closeButton,S]),le=xe.useMemo(()=>d.duration||O||4e3,[d.duration,O]),de=xe.useRef(0),pe=xe.useRef(0),me=xe.useRef(0),he=xe.useRef(null),[ge,ve]=E.split("-"),fe=xe.useMemo(()=>v.reduce((e,t,r)=>r>=ue?e:e+t.height,0),[v,ue]),ye=(()=>{const[e,t]=xe.useState(document.hidden);return xe.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),we=d.invert||l,_e="loading"===ae;pe.current=xe.useMemo(()=>ue*P+fe,[ue,fe]),xe.useEffect(()=>{Z.current=le},[le]),xe.useEffect(()=>{z(!0)},[]),xe.useEffect(()=>{const e=te.current;if(e){const t=e.getBoundingClientRect().height;return X(t),h(e=>[{toastId:d.id,height:t,position:d.position},...e]),()=>h(e=>e.filter(e=>e.toastId!==d.id))}},[h,d.id]),xe.useLayoutEffect(()=>{if(!B)return;const e=te.current,t=e.style.height;e.style.height="auto";const r=e.getBoundingClientRect().height;e.style.height=t,X(r),h(e=>e.find(e=>e.toastId===d.id)?e.map(e=>e.toastId===d.id?{...e,height:r}:e):[{toastId:d.id,height:r,position:d.position},...e])},[B,d.title,d.description,h,d.id,d.jsx,d.action,d.cancel]);const be=xe.useCallback(()=>{W(!0),Y(pe.current),h(e=>e.filter(e=>e.toastId!==d.id)),setTimeout(()=>{_(d)},200)},[d,_,h,pe]);xe.useEffect(()=>{if(d.promise&&"loading"===ae||d.duration===1/0||"loading"===d.type)return;let e;return w||m||ye?(()=>{if(me.current<de.current){const e=(new Date).getTime()-de.current;Z.current=Z.current-e}me.current=(new Date).getTime()})():Z.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout(()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),be()},Z.current)),()=>clearTimeout(e)},[w,m,d,ae,ye,be]),xe.useEffect(()=>{d.delete&&(be(),null==d.onDismiss||d.onDismiss.call(d,d))},[be,d.delete]);const Se=d.icon||(null==M?void 0:M[ae])||(e=>{switch(e){case"success":return Ir;case"info":return Er;case"warning":return Or;case"error":return Pr;default:return null}})(ae);var ke,De,Ce,Ie;return xe.createElement("li",{tabIndex:0,ref:te,className:zr(C,ie,null==j?void 0:j.toast,null==d||null==(t=d.classNames)?void 0:t.toast,null==j?void 0:j.default,null==j?void 0:j[ae],null==d||null==(r=d.classNames)?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":null!=(ke=d.richColors)?ke:b,"data-styled":!Boolean(d.jsx||d.unstyled||p),"data-mounted":B,"data-promise":Boolean(d.promise),"data-swiped":K,"data-removed":F,"data-visible":se,"data-y-position":ge,"data-x-position":ve,"data-index":f,"data-front":re,"data-swiping":$,"data-dismissible":oe,"data-type":ae,"data-invert":we,"data-swipe-out":V,"data-swipe-direction":L,"data-expanded":Boolean(w||T&&B),style:{"--index":f,"--toasts-before":f,"--z-index":y.length-f,"--offset":`${F?G:pe.current}px`,"--initial-height":T?"auto":`${J}px`,...x,...d.style},onDragEnd:()=>{U(!1),N(null),he.current=null},onPointerDown:e=>{2!==e.button&&!_e&&oe&&(ee.current=new Date,Y(pe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(U(!0),he.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r;if(V||!oe)return;he.current=null;const s=Number((null==(e=te.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=te.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=(new Date).getTime()-(null==(r=ee.current)?void 0:r.getTime()),i="x"===R?s:a,n=Math.abs(i)/o;if(Math.abs(i)>=45||n>.11)return Y(pe.current),null==d.onDismiss||d.onDismiss.call(d,d),q("x"===R?s>0?"right":"left":a>0?"down":"up"),be(),void H(!0);var u,c;null==(u=te.current)||u.style.setProperty("--swipe-amount-x","0px"),null==(c=te.current)||c.style.setProperty("--swipe-amount-y","0px"),Q(!1),U(!1),N(null)},onPointerMove:t=>{var r,s,a;if(!he.current||!oe)return;if((null==(r=window.getSelection())?void 0:r.toString().length)>0)return;const o=t.clientY-he.current.y,i=t.clientX-he.current.x;var n;const u=null!=(n=e.swipeDirections)?n:function(e){const[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}(E);!R&&(Math.abs(i)>1||Math.abs(o)>1)&&N(Math.abs(i)>Math.abs(o)?"x":"y");let c={x:0,y:0};const l=e=>1/(1.5+Math.abs(e)/20);if("y"===R){if(u.includes("top")||u.includes("bottom"))if(u.includes("top")&&o<0||u.includes("bottom")&&o>0)c.y=o;else{const e=o*l(o);c.y=Math.abs(e)<Math.abs(o)?e:o}}else if("x"===R&&(u.includes("left")||u.includes("right")))if(u.includes("left")&&i<0||u.includes("right")&&i>0)c.x=i;else{const e=i*l(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(s=te.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=te.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ce&&!d.jsx&&"loading"!==ae?xe.createElement("button",{"aria-label":A,"data-disabled":_e,"data-close-button":!0,onClick:_e||!oe?()=>{}:()=>{be(),null==d.onDismiss||d.onDismiss.call(d,d)},className:zr(null==j?void 0:j.closeButton,null==d||null==(s=d.classNames)?void 0:s.closeButton)},null!=(De=null==M?void 0:M.close)?De:Tr):null,(ae||d.icon||d.promise)&&null!==d.icon&&(null!==(null==M?void 0:M[ae])||d.icon)?xe.createElement("div",{"data-icon":"",className:zr(null==j?void 0:j.icon,null==d||null==(a=d.classNames)?void 0:a.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||((null==M?void 0:M.loading)?xe.createElement("div",{className:zr(null==j?void 0:j.loader,null==d||null==(Ie=d.classNames)?void 0:Ie.loader,"sonner-loader"),"data-visible":"loading"===ae},M.loading):xe.createElement(Cr,{className:zr(null==j?void 0:j.loader,null==d||null==(Ce=d.classNames)?void 0:Ce.loader),visible:"loading"===ae})):null,"loading"!==d.type?Se:null):null,xe.createElement("div",{"data-content":"",className:zr(null==j?void 0:j.content,null==d||null==(o=d.classNames)?void 0:o.content)},xe.createElement("div",{"data-title":"",className:zr(null==j?void 0:j.title,null==d||null==(i=d.classNames)?void 0:i.title)},d.jsx?d.jsx:"function"==typeof d.title?d.title():d.title),d.description?xe.createElement("div",{"data-description":"",className:zr(I,ne,null==j?void 0:j.description,null==d||null==(n=d.classNames)?void 0:n.description)},"function"==typeof d.description?d.description():d.description):null),xe.isValidElement(d.cancel)?d.cancel:d.cancel&&Lr(d.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:e=>{Lr(d.cancel)&&oe&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,e),be())},className:zr(null==j?void 0:j.cancelButton,null==d||null==(u=d.classNames)?void 0:u.cancelButton)},d.cancel.label):null,xe.isValidElement(d.action)?d.action:d.action&&Lr(d.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||D,onClick:e=>{Lr(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,e),e.defaultPrevented||be())},className:zr(null==j?void 0:j.actionButton,null==d||null==(c=d.classNames)?void 0:c.actionButton)},d.action.label):null)};function Wr(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function $r(e,t){const r={};return[e,t].forEach((e,t)=>{const s=1===t,a=s?"--mobile-offset":"--offset",o=s?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{r[`${a}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${a}-${t}`]=o:r[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(o)}),r}const Ur=xe.forwardRef(function(e,t){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:n,offset:u,mobileOffset:c,theme:l="light",richColors:d,duration:p,style:m,visibleToasts:h=qr,toastOptions:g,dir:v=Wr(),gap:f=Br,icons:y,containerAriaLabel:w="Notifications"}=e,[_,b]=xe.useState([]),S=xe.useMemo(()=>Array.from(new Set([s].concat(_.filter(e=>e.position).map(e=>e.position)))),[_,s]),[x,k]=xe.useState([]),[D,C]=xe.useState(!1),[I,O]=xe.useState(!1),[E,P]=xe.useState("system"!==l?l:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=xe.useRef(null),j=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=xe.useRef(null),A=xe.useRef(!1),R=xe.useCallback(e=>{b(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||Mr.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return xe.useEffect(()=>Mr.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{b(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{ke.flushSync(()=>{b(t=>{const r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[_]),xe.useEffect(()=>{if("system"!==l)return void P(l);if("system"===l&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{P(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{P(e?"dark":"light")}catch(t){}})}},[l]),xe.useEffect(()=>{_.length<=1&&C(!1)},[_]),xe.useEffect(()=>{const e=e=>{var t;var r;a.every(t=>e[t]||e.code===t)&&(C(!0),null==(r=T.current)||r.focus());"Escape"!==e.code||document.activeElement!==T.current&&!(null==(t=T.current)?void 0:t.contains(document.activeElement))||C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),xe.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,A.current=!1)}},[T.current]),xe.createElement("section",{ref:t,"aria-label":`${w} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,s)=>{var a;const[l,w]=t.split("-");return _.length?xe.createElement("ol",{key:t,dir:"auto"===v?Wr():v,tabIndex:-1,ref:T,className:n,"data-sonner-toaster":!0,"data-sonner-theme":E,"data-y-position":l,"data-x-position":w,style:{"--front-toast-height":`${(null==(a=x[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${f}px`,...m,...$r(u,c)},onBlur:e=>{A.current&&!e.currentTarget.contains(e.relatedTarget)&&(A.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||A.current||(A.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{I||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O(!0)},onPointerUp:()=>O(!1)},_.filter(e=>!e.position&&0===s||e.position===t).map((s,a)=>{var n,u;return xe.createElement(Fr,{key:s.id,icons:y,index:a,toast:s,defaultRichColors:d,duration:null!=(n=null==g?void 0:g.duration)?n:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:r,visibleToasts:h,closeButton:null!=(u=null==g?void 0:g.closeButton)?u:i,interacting:I,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:R,toasts:_.filter(e=>e.position==s.position),heights:x.filter(e=>e.position==s.position),setHeights:k,expandByDefault:o,gap:f,expanded:D,swipeDirections:e.swipeDirections})})):null}))}),Vr=Object.freeze(Object.defineProperty({__proto__:null,Toaster:Ur,toast:Nr},Symbol.toStringTag,{value:"Module"})),Hr=({...e})=>{const{theme:t="system"}=null!=(r=Se.useContext(xr))?r:kr;var r;return Y.jsx(Ur,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[Kr,Qr]=X("Tooltip",[de]),Gr=de(),Yr="TooltipProvider",Jr=700,Xr="tooltip.open",[Zr,es]=Kr(Yr),ts=e=>{const{__scopeTooltip:t,delayDuration:r=Jr,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,[i,n]=Se.useState(!0),u=Se.useRef(!1),c=Se.useRef(0);return Se.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),Y.jsx(Zr,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:Se.useCallback(()=>{window.clearTimeout(c.current),n(!1)},[]),onClose:Se.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n(!0),s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:Se.useCallback(e=>{u.current=e},[]),disableHoverableContent:a,children:o})};ts.displayName=Yr;var rs="Tooltip",[ss,as]=Kr(rs),os=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:n}=e,u=es(rs,e.__scopeTooltip),c=Gr(t),[l,d]=Se.useState(null),p=ye(),m=Se.useRef(0),h=i??u.disableHoverableContent,g=n??u.delayDuration,v=Se.useRef(!1),[f=!1,y]=se({prop:s,defaultProp:a,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(Xr))):u.onClose(),null==o||o(e)}}),w=Se.useMemo(()=>f?v.current?"delayed-open":"instant-open":"closed",[f]),_=Se.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,y(!0)},[y]),b=Se.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),S=Se.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,y(!0),m.current=0},g)},[g,y]);return Se.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),Y.jsx(we,{...c,children:Y.jsx(ss,{scope:t,contentId:p,open:f,stateAttribute:w,trigger:l,onTriggerChange:d,onTriggerEnter:Se.useCallback(()=>{u.isOpenDelayed?S():_()},[u.isOpenDelayed,S,_]),onTriggerLeave:Se.useCallback(()=>{h?b():(window.clearTimeout(m.current),m.current=0)},[b,h]),onOpen:_,onClose:b,disableHoverableContent:h,children:r})})};os.displayName=rs;var is="TooltipTrigger",ns=Se.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=as(is,r),o=es(is,r),i=Gr(r),n=Se.useRef(null),u=Z(t,n,a.onTriggerChange),c=Se.useRef(!1),l=Se.useRef(!1),d=Se.useCallback(()=>c.current=!1,[]);return Se.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),Y.jsx(pe,{asChild:!0,...i,children:Y.jsx(te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:u,onPointerMove:ie(e.onPointerMove,e=>{"touch"!==e.pointerType&&(l.current||o.isPointerInTransitRef.current||(a.onTriggerEnter(),l.current=!0))}),onPointerLeave:ie(e.onPointerLeave,()=>{a.onTriggerLeave(),l.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ie(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:ie(e.onBlur,a.onClose),onClick:ie(e.onClick,a.onClose)})})});ns.displayName=is;var[us,cs]=Kr("TooltipPortal",{forceMount:void 0}),ls="TooltipContent",ds=Se.forwardRef((e,t)=>{const r=cs(ls,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...o}=e,i=as(ls,e.__scopeTooltip);return Y.jsx(ae,{present:s||i.open,children:i.disableHoverableContent?Y.jsx(gs,{side:a,...o,ref:t}):Y.jsx(ps,{side:a,...o,ref:t})})}),ps=Se.forwardRef((e,t)=>{const r=as(ls,e.__scopeTooltip),s=es(ls,e.__scopeTooltip),a=Se.useRef(null),o=Z(t,a),[i,n]=Se.useState(null),{trigger:u,onClose:c}=r,l=a.current,{onPointerInTransitChange:d}=s,p=Se.useCallback(()=>{n(null),d(!1)},[d]),m=Se.useCallback((e,t)=>{const r=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(s,function(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,s,a,o)){case o:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,r.getBoundingClientRect())),o=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const e=t[t.length-1],s=t[t.length-2];if(!((e.x-s.x)*(r.y-s.y)>=(e.y-s.y)*(r.x-s.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const t=e[s];for(;r.length>=2;){const e=r[r.length-1],s=r[r.length-2];if(!((e.x-s.x)*(t.y-s.y)>=(e.y-s.y)*(t.x-s.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...a,...function(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}(t.getBoundingClientRect())]);n(o),d(!0)},[d]);return Se.useEffect(()=>()=>p(),[p]),Se.useEffect(()=>{if(u&&l){const e=e=>m(e,l),t=e=>m(e,u);return u.addEventListener("pointerleave",e),l.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),l.removeEventListener("pointerleave",t)}}},[u,l,m,p]),Se.useEffect(()=>{if(i){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},s=(null==u?void 0:u.contains(t))||(null==l?void 0:l.contains(t)),a=!function(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const e=t[o].x,n=t[o].y,u=t[i].x,c=t[i].y;n>s!=c>s&&r<(u-e)*(s-n)/(c-n)+e&&(a=!a)}return a}(r,i);s?p():a&&(p(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,l,i,c,p]),Y.jsx(gs,{...e,ref:o})}),[ms,hs]=Kr(rs,{isInside:!1}),gs=Se.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...n}=e,u=as(ls,r),c=Gr(r),{onClose:l}=u;return Se.useEffect(()=>(document.addEventListener(Xr,l),()=>document.removeEventListener(Xr,l)),[l]),Se.useEffect(()=>{if(u.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(u.trigger))&&l()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,l]),Y.jsx(me,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:l,children:Y.jsxs(he,{"data-state":u.stateAttribute,...c,...n,ref:t,style:{...n.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Y.jsx(ge,{children:s}),Y.jsx(ms,{scope:r,isInside:!0,children:Y.jsx(ve,{id:u.contentId,role:"tooltip",children:a||s})})]})})});ds.displayName=ls;var vs="TooltipArrow";Se.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Gr(r);return hs(vs,r).isInside?null:Y.jsx(fe,{...a,...s,ref:t})}).displayName=vs;var fs=ds;const ys=ts,ws=os,_s=ns,bs=Se.forwardRef(({className:e,sideOffset:t=4,...r},s)=>Y.jsx(fs,{ref:s,sideOffset:t,className:mr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));bs.displayName=fs.displayName;var Ss=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xs="undefined"==typeof window||"Deno"in globalThis;function ks(){}function Ds(e){return"number"==typeof e&&e>=0&&e!==1/0}function Cs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Is(e,t){return"function"==typeof e?e(t):e}function Os(e,t){return"function"==typeof e?e(t):e}function Es(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:o,queryKey:i,stale:n}=e;if(i)if(s){if(t.queryHash!==Ts(i,t.options))return!1}else if(!Ms(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof n||t.isStale()===n)&&((!a||a===t.state.fetchStatus)&&!(o&&!o(t)))}function Ps(e,t){const{exact:r,status:s,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(js(t.options.mutationKey)!==js(o))return!1}else if(!Ms(t.options.mutationKey,o))return!1}return(!s||t.state.status===s)&&!(a&&!a(t))}function Ts(e,t){return((null==t?void 0:t.queryKeyHashFn)||js)(e)}function js(e){return JSON.stringify(e,(e,t)=>Ls(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function Ms(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(r=>!Ms(e[r],t[r])))}function As(e,t){if(e===t)return e;const r=Ns(e)&&Ns(t);if(r||Ls(e)&&Ls(t)){const s=r?e:Object.keys(e),a=s.length,o=r?t:Object.keys(t),i=o.length,n=r?[]:{};let u=0;for(let c=0;c<i;c++){const a=r?c:o[c];(!r&&s.includes(a)||r)&&void 0===e[a]&&void 0===t[a]?(n[a]=void 0,u++):(n[a]=As(e[a],t[a]),n[a]===e[a]&&void 0!==e[a]&&u++)}return a===i&&u===a?e:n}return t}function Rs(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ns(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ls(e){if(!qs(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!qs(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function qs(e){return"[object Object]"===Object.prototype.toString.call(e)}function Bs(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?As(e,t):t}function zs(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Fs(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Ws=Symbol();function $s(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Ws?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Us=new(s=class extends Ss{constructor(){super(),H(this,e),H(this,t),H(this,r),K(this,r,e=>{if(!xs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){V(this,t)||this.setEventListener(V(this,r))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,t))||e.call(this),K(this,t,void 0))}setEventListener(e){var s;K(this,r,e),null==(s=V(this,t))||s.call(this),K(this,t,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(t){V(this,e)!==t&&(K(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var t;return"boolean"==typeof V(this,e)?V(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,r=new WeakMap,s),Vs=new(n=class extends Ss{constructor(){super(),H(this,a,!0),H(this,o),H(this,i),K(this,i,e=>{if(!xs&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,o)||this.setEventListener(V(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,o))||e.call(this),K(this,o,void 0))}setEventListener(e){var t;K(this,i,e),null==(t=V(this,o))||t.call(this),K(this,o,e(this.setOnline.bind(this)))}setOnline(e){V(this,a)!==e&&(K(this,a,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return V(this,a)}},a=new WeakMap,o=new WeakMap,i=new WeakMap,n);function Hs(){let e,t;const r=new Promise((r,s)=>{e=r,t=s});function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}function Ks(e){return Math.min(1e3*2**e,3e4)}function Qs(e){return"online"!==(e??"online")||Vs.isOnline()}var Gs=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Ys(e){return e instanceof Gs}function Js(e){let t,r=!1,s=0,a=!1;const o=Hs(),i=()=>Us.isFocused()&&("always"===e.networkMode||Vs.isOnline())&&e.canRun(),n=()=>Qs(e.networkMode)&&e.canRun(),u=r=>{var s;a||(a=!0,null==(s=e.onSuccess)||s.call(e,r),null==t||t(),o.resolve(r))},c=r=>{var s;a||(a=!0,null==(s=e.onError)||s.call(e,r),null==t||t(),o.reject(r))},l=()=>new Promise(r=>{var s;t=e=>{(a||i())&&r(e)},null==(s=e.onPause)||s.call(e)}).then(()=>{var r;t=void 0,a||null==(r=e.onContinue)||r.call(e)}),d=()=>{if(a)return;let t;const o=0===s?e.initialPromise:void 0;try{t=o??e.fn()}catch(n){t=Promise.reject(n)}Promise.resolve(t).then(u).catch(t=>{var o;if(a)return;const n=e.retry??(xs?0:3),u=e.retryDelay??Ks,p="function"==typeof u?u(s,t):u,m=!0===n||"number"==typeof n&&s<n||"function"==typeof n&&n(s,t);var h;!r&&m?(s++,null==(o=e.onFail)||o.call(e,s,t),(h=p,new Promise(e=>{setTimeout(e,h)})).then(()=>i()?void 0:l()).then(()=>{r?c(t):d()})):c(t)})};return{promise:o,cancel:t=>{var r;a||(c(new Gs(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t||t(),o),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:n,start:()=>(n()?d():l().then(d),o)}}var Xs=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},a=e=>setTimeout(e,0);const o=s=>{t?e.push(s):a(()=>{r(s)})};return{batch:o=>{let i;t++;try{i=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{s(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{a=e}}}(),Zs=(c=class{constructor(){H(this,u)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ds(this.gcTime)&&K(this,u,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xs?1/0:3e5))}clearGcTimeout(){V(this,u)&&(clearTimeout(V(this,u)),K(this,u,void 0))}},u=new WeakMap,c),ea=(y=class extends Zs{constructor(e){super(),H(this,v),H(this,l),H(this,d),H(this,p),H(this,m),H(this,h),H(this,g),K(this,g,!1),K(this,h,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,p,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,l,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??V(this,l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=V(this,m))?void 0:e.promise}setOptions(e){this.options={...V(this,h),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||V(this,p).remove(this)}setData(e,t){const r=Bs(this.state.data,e,this.options);return Q(this,v,f).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){Q(this,v,f).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const s=null==(t=V(this,m))?void 0:t.promise;return null==(r=V(this,m))||r.cancel(e),s?s.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,l))}isActive(){return this.observers.some(e=>!1!==Os(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ws||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!Cs(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,m))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,m))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,p).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(V(this,m)&&(V(this,g)?V(this,m).cancel({revert:!0}):V(this,m).cancelRetry()),this.scheduleGc()),V(this,p).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,v,f).call(this,{type:"invalidate"})}fetch(e,t){var r,s,a;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(V(this,m))return V(this,m).continueRetry(),V(this,m).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const o=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(K(this,g,!0),o.signal)})},n={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=$s(this.options,t),r={queryKey:this.queryKey,meta:this.meta};return i(r),K(this,g,!1),this.options.persister?this.options.persister(e,r,this):e(r)}};i(n),null==(r=this.options.behavior)||r.onFetch(n,this),K(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=n.fetchOptions)?void 0:s.meta)||Q(this,v,f).call(this,{type:"fetch",meta:null==(a=n.fetchOptions)?void 0:a.meta});const u=e=>{var t,r,s,a;Ys(e)&&e.silent||Q(this,v,f).call(this,{type:"error",error:e}),Ys(e)||(null==(r=(t=V(this,p).config).onError)||r.call(t,e,this),null==(a=(s=V(this,p).config).onSettled)||a.call(s,this.state.data,e,this)),this.scheduleGc()};return K(this,m,Js({initialPromise:null==t?void 0:t.initialPromise,fn:n.fetchFn,abort:o.abort.bind(o),onSuccess:e=>{var t,r,s,a;if(void 0!==e){try{this.setData(e)}catch(o){return void u(o)}null==(r=(t=V(this,p).config).onSuccess)||r.call(t,e,this),null==(a=(s=V(this,p).config).onSettled)||a.call(s,e,this.state.error,this),this.scheduleGc()}else u(new Error(`${this.queryHash} data is undefined`))},onError:u,onFail:(e,t)=>{Q(this,v,f).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Q(this,v,f).call(this,{type:"pause"})},onContinue:()=>{Q(this,v,f).call(this,{type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>!0})),V(this,m).start()}},l=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,g=new WeakMap,v=new WeakSet,f=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ta(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Ys(r)&&r.revert&&V(this,d)?{...V(this,d),fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Xs.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),V(this,p).notify({query:this,type:"updated",action:e})})},y);function ta(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qs(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var ra=(_=class extends Ss{constructor(e={}){super(),H(this,w),this.config=e,K(this,w,new Map)}build(e,t,r){const s=t.queryKey,a=t.queryHash??Ts(s,t);let o=this.get(a);return o||(o=new ea({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,w).has(e.queryHash)||(V(this,w).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=V(this,w).get(e.queryHash);t&&(e.destroy(),t===e&&V(this,w).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,w).get(e)}getAll(){return[...V(this,w).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Es(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Es(e,t)):t}notify(e){Xs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},w=new WeakMap,_),sa=(C=class extends Zs{constructor(e){super(),H(this,k),H(this,b),H(this,S),H(this,x),this.mutationId=e.mutationId,K(this,S,e.mutationCache),K(this,b,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,b).includes(e)||(V(this,b).push(e),this.clearGcTimeout(),V(this,S).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,b,V(this,b).filter(t=>t!==e)),this.scheduleGc(),V(this,S).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,b).length||("pending"===this.state.status?this.scheduleGc():V(this,S).remove(this))}continue(){var e;return(null==(e=V(this,x))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,s,a,o,i,n,u,c,l,d,p,m,h,g,v,f,y,w,_;K(this,x,Js({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Q(this,k,D).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Q(this,k,D).call(this,{type:"pause"})},onContinue:()=>{Q(this,k,D).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,S).canRun(this)}));const b="pending"===this.state.status,C=!V(this,x).canStart();try{if(!b){Q(this,k,D).call(this,{type:"pending",variables:e,isPaused:C}),await(null==(r=(t=V(this,S).config).onMutate)?void 0:r.call(t,e,this));const o=await(null==(a=(s=this.options).onMutate)?void 0:a.call(s,e));o!==this.state.context&&Q(this,k,D).call(this,{type:"pending",context:o,variables:e,isPaused:C})}const m=await V(this,x).start();return await(null==(i=(o=V(this,S).config).onSuccess)?void 0:i.call(o,m,e,this.state.context,this)),await(null==(u=(n=this.options).onSuccess)?void 0:u.call(n,m,e,this.state.context)),await(null==(l=(c=V(this,S).config).onSettled)?void 0:l.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(p=(d=this.options).onSettled)?void 0:p.call(d,m,null,e,this.state.context)),Q(this,k,D).call(this,{type:"success",data:m}),m}catch(I){try{throw await(null==(h=(m=V(this,S).config).onError)?void 0:h.call(m,I,e,this.state.context,this)),await(null==(v=(g=this.options).onError)?void 0:v.call(g,I,e,this.state.context)),await(null==(y=(f=V(this,S).config).onSettled)?void 0:y.call(f,void 0,I,this.state.variables,this.state.context,this)),await(null==(_=(w=this.options).onSettled)?void 0:_.call(w,void 0,I,e,this.state.context)),I}finally{Q(this,k,D).call(this,{type:"error",error:I})}}finally{V(this,S).runNext(this)}}},b=new WeakMap,S=new WeakMap,x=new WeakMap,k=new WeakSet,D=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Xs.batch(()=>{V(this,b).forEach(t=>{t.onMutationUpdate(e)}),V(this,S).notify({mutation:this,type:"updated",action:e})})},C);function aa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa=(E=class extends Ss{constructor(e={}){super(),H(this,I),H(this,O),this.config=e,K(this,I,new Map),K(this,O,Date.now())}build(e,t,r){const s=new sa({mutationCache:this,mutationId:++G(this,O)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){const t=ia(e),r=V(this,I).get(t)??[];r.push(e),V(this,I).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var t;const r=ia(e);if(V(this,I).has(r)){const s=null==(t=V(this,I).get(r))?void 0:t.filter(t=>t!==e);s&&(0===s.length?V(this,I).delete(r):V(this,I).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const r=null==(t=V(this,I).get(ia(e)))?void 0:t.find(e=>"pending"===e.state.status);return!r||r===e}runNext(e){var t;const r=null==(t=V(this,I).get(ia(e)))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}clear(){Xs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,I).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Ps(t,e))}findAll(e={}){return this.getAll().filter(t=>Ps(e,t))}notify(e){Xs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Xs.batch(()=>Promise.all(e.map(e=>e.continue().catch(ks))))}},I=new WeakMap,O=new WeakMap,E);function ia(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function na(e){return{onFetch:(t,r)=>{var s,a,o,i,n;const u=t.options,c=null==(o=null==(a=null==(s=t.fetchOptions)?void 0:s.meta)?void 0:a.fetchMore)?void 0:o.direction,l=(null==(i=t.state.data)?void 0:i.pages)||[],d=(null==(n=t.state.data)?void 0:n.pageParams)||[];let p={pages:[],pageParams:[]},m=0;const h=async()=>{let r=!1;const s=$s(t.options,t.fetchOptions),a=async(e,a,o)=>{if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:a,direction:o?"backward":"forward",meta:t.options.meta};var n;n=i,Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)});const u=await s(i),{maxPages:c}=t.options,l=o?Fs:zs;return{pages:l(e.pages,u,c),pageParams:l(e.pageParams,a,c)}};if(c&&l.length){const e="backward"===c,t={pages:l,pageParams:d},r=(e?ca:ua)(u,t);p=await a(t,r,e)}else{const t=e??l.length;do{const e=0===m?d[0]??u.initialPageParam:ua(u,p);if(m>0&&null==e)break;p=await a(p,e),m++}while(m<t)}return p};t.options.persister?t.fetchFn=()=>{var e,s;return null==(s=(e=t.options).persister)?void 0:s.call(e,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function ua(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function ca(e,{pages:t,pageParams:r}){var s;return t.length>0?null==(s=e.getPreviousPageParam)?void 0:s.call(e,t[0],t,r[0],r):void 0}var la=(q=class{constructor(e={}){H(this,P),H(this,T),H(this,j),H(this,M),H(this,A),H(this,R),H(this,N),H(this,L),K(this,P,e.queryCache||new ra),K(this,T,e.mutationCache||new oa),K(this,j,e.defaultOptions||{}),K(this,M,new Map),K(this,A,new Map),K(this,R,0)}mount(){G(this,R)._++,1===V(this,R)&&(K(this,N,Us.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,P).onFocus())})),K(this,L,Vs.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,P).onOnline())})))}unmount(){var e,t;G(this,R)._--,0===V(this,R)&&(null==(e=V(this,N))||e.call(this),K(this,N,void 0),null==(t=V(this,L))||t.call(this),K(this,L,void 0))}isFetching(e){return V(this,P).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,T).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,P).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=V(this,P).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Is(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,P).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=V(this,P).get(s.queryHash),o=function(e,t){return"function"==typeof e?e(t):e}(t,null==a?void 0:a.state.data);if(void 0!==o)return V(this,P).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Xs.batch(()=>V(this,P).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,P).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=V(this,P);Xs.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=V(this,P),s={type:"active",...e};return Xs.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Xs.batch(()=>V(this,P).findAll(e).map(e=>e.cancel(r)));return Promise.all(s).then(ks).catch(ks)}invalidateQueries(e={},t={}){return Xs.batch(()=>{if(V(this,P).findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},s=Xs.batch(()=>V(this,P).findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(ks)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=V(this,P).build(this,t);return r.isStaleByTime(Is(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ks).catch(ks)}fetchInfiniteQuery(e){return e.behavior=na(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ks).catch(ks)}ensureInfiniteQueryData(e){return e.behavior=na(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vs.isOnline()?V(this,T).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,P)}getMutationCache(){return V(this,T)}getDefaultOptions(){return V(this,j)}setDefaultOptions(e){K(this,j,e)}setQueryDefaults(e,t){V(this,M).set(js(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,M).values()];let r={};return t.forEach(t=>{Ms(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){V(this,A).set(js(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,A).values()];let r={};return t.forEach(t=>{Ms(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,j).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ts(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===Ws&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...V(this,j).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,P).clear(),V(this,T).clear()}},P=new WeakMap,T=new WeakMap,j=new WeakMap,M=new WeakMap,A=new WeakMap,R=new WeakMap,N=new WeakMap,L=new WeakMap,q),da=Se.createContext(void 0),pa=e=>{const t=Se.useContext(da);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ma=({client:e,children:t})=>(Se.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Y.jsx(da.Provider,{value:e,children:t}));const ha=(null==(B=import.meta)?void 0:B.env)??{},ga=ha.VITE_SUPABASE_URL||"https://jmjiyekmxwsxkfnqwyaa.supabase.co",va=ha.VITE_SUPABASE_ANON_KEY||ha.VITE_SUPABASE_PUBLISHABLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imptaml5ZWtteHdzeGtmbnF3eWFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MjEwMDgsImV4cCI6MjA2OTQ5NzAwOH0.SAas0HWvteb9TbYNJFDf8Itt8mIsDtKOK6QwBcwINhI";if(!ga||!va){throw new Error("Missing Supabase configuration. Check DEFAULT_SUPABASE_URL/DEFAULT_SUPABASE_ANON_KEY.")}const fa=Te(ga,va,{auth:{storage:function(){try{const e="__supabase_probe__";return localStorage.setItem(e,"1"),localStorage.removeItem(e),localStorage}catch{return{getItem:()=>null,setItem:()=>{},removeItem:()=>{},clear:()=>{},key:()=>null,length:0}}}(),persistSession:!0,autoRefreshToken:!0}}),ya=Object.freeze(Object.defineProperty({__proto__:null,supabase:fa},Symbol.toStringTag,{value:"Module"})),wa=["ccamechi@gmail.com"],_a=Object.freeze(Object.defineProperty({__proto__:null,SUPER_ADMIN_EMAILS:wa},Symbol.toStringTag,{value:"Module"})),ba=(e,t,r)=>Promise.race([e,new Promise(e=>setTimeout(()=>e(r),t))]),Sa=Se.createContext(void 0),xa=({children:e})=>{const[t,r]=Se.useState(null),[s,a]=Se.useState(null),[o,i]=Se.useState(!0),n=Se.useCallback(async e=>{var t,r,s,a;try{const o=(null==(t=e.user_metadata)?void 0:t.display_name)||(null==(r=e.user_metadata)?void 0:r.full_name)||(null==(s=e.user_metadata)?void 0:s.name)||(null==(a=e.email)?void 0:a.split("@")[0])||"User";await fa.from("profiles").upsert({user_id:e.id,display_name:o,email:e.email??null,phone:e.phone??null},{onConflict:"user_id"})}catch(o){}},[]),u=async e=>{try{const{data:t,error:r}=await fa.from("profiles").select("*").eq("user_id",e).single();return r&&"PGRST116"!==r.code?null:t}catch(t){return null}},c=Se.useCallback(async(e,t)=>{var r,s,a,o,i;if(!e||!e.id)return null;const[c,l,d,p]=await Promise.all([t||ba(u(e.id),2e3,null),ba((async()=>{const{data:t,error:r}=await fa.from("user_roles").select("role").eq("user_id",e.id);return{data:t,error:r}})(),2e3,{data:[],error:null}),ba((async()=>{const{data:t,error:r}=await fa.from("organization_members").select("organization_id, role").eq("user_id",e.id).eq("status","active").single();return{data:t,error:r}})(),2e3,{data:null,error:null}),(async()=>{try{const{userPreferencesService:t}=await Pe(async()=>{const{userPreferencesService:e}=await import("./userPreferencesService-DregIO64-mjd3dogn.js");return{userPreferencesService:e}},__vite__mapDeps([5,1,2,3,4]));return await ba(t.getNotificationPreferences(e.id),2e3,{push_enabled:!1,email_enabled:!0,sms_enabled:!1,chat_messages:!0,mentions_only:!1,broadcasts:!0,tasks:!1,payments:!1,calendar_events:!0,calendar_reminders:!0,polls:!0,trip_invites:!0,join_requests:!1,basecamp_updates:!0,quiet_hours_enabled:!1,quiet_start:"22:00",quiet_end:"08:00",timezone:"America/New_York"})}catch(t){return{push_enabled:!1,email_enabled:!0,sms_enabled:!1,chat_messages:!0,mentions_only:!1,broadcasts:!0,tasks:!1,payments:!1,calendar_reminders:!0,trip_invites:!0,join_requests:!1,quiet_hours_enabled:!1,quiet_start:"22:00",quiet_end:"08:00",timezone:"America/New_York"}}})()]);c||await n(e);const m=(null==(r=l.data)?void 0:r.map(e=>e.role))||[],h=m.includes("pro"),g=m.includes("enterprise_admin"),v=wa.includes((null==(s=e.email)?void 0:s.toLowerCase().trim())||""),f=["read"];let y;(h||g||v)&&f.push("write"),(g||v)&&f.push("admin","finance","compliance"),("owner"===(null==(a=d.data)?void 0:a.role)||"admin"===(null==(o=d.data)?void 0:o.role)||v)&&(y="admin");const w=!(!(null==c?void 0:c.display_name)||""===c.display_name.trim());return{id:e.id,email:e.email,phone:e.phone,displayName:(null==c?void 0:c.display_name)||e.email||"User",hasCompletedProfileSetup:w,firstName:(null==c?void 0:c.first_name)||"",lastName:(null==c?void 0:c.last_name)||"",avatar:(null==c?void 0:c.avatar_url)||"",bio:(null==c?void 0:c.bio)||"",isPro:h,showEmail:(null==c?void 0:c.show_email)||!1,showPhone:(null==c?void 0:c.show_phone)||!1,proRole:y,organizationId:(null==(i=d.data)?void 0:i.organization_id)||void 0,permissions:f,notificationSettings:{messages:p.chat_messages,broadcasts:p.broadcasts,tripUpdates:p.calendar_reminders,email:p.email_enabled,push:p.push_enabled}}},[n]);Se.useEffect(()=>{const e=setTimeout(()=>{o&&i(!1)},1e4);(async()=>{const{data:{session:e},error:t}=await fa.auth.getSession();if(t)i(!1);else{if(a(e),null==e?void 0:e.user)try{const t=await c(e.user);r(t)}catch(s){r(null)}else r(null);i(!1)}})();const{data:{subscription:t}}=fa.auth.onAuthStateChange((e,t)=>{a(t),(null==t?void 0:t.user)?setTimeout(()=>{c(t.user).then(e=>{r(e),i(!1)}).catch(e=>{r(null),i(!1)})},0):(r(null),i(!1))});return()=>{clearTimeout(e),t.unsubscribe()}},[c]);return Y.jsx(Sa.Provider,{value:{user:t,session:s,isLoading:o,signIn:async(e,t)=>{try{i(!0);const{data:r,error:s}=await fa.auth.signInWithPassword({email:e,password:t});return s?(i(!1),s.message.includes("Invalid login credentials")?{error:"Invalid email or password. Please check your credentials and try again."}:s.message.includes("Email not confirmed")?{error:"Please confirm your email address before signing in. Check your inbox for the confirmation link."}:{error:s.message}):{}}catch(r){return i(!1),{error:"An unexpected error occurred. Please try again."}}},signInWithPhone:async e=>{try{i(!0);const{error:t}=await fa.auth.signInWithOtp({phone:e});return t?(i(!1),t.message.includes("not configured")||t.message.includes("SMS provider")?{error:"Phone authentication is not configured. Please use email to sign in."}:t.message.includes("Invalid phone number")?{error:"Please enter a valid phone number with country code (e.g., +1234567890)."}:{error:t.message}):(i(!1),{})}catch(t){return i(!1),{error:"An unexpected error occurred. Please try again."}}},signInWithGoogle:async()=>{try{const{error:e}=await fa.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});return e?e.message.includes("not configured")||e.message.includes("OAuth")?{error:"Google sign-in is not configured. Please use email to sign in or contact support."}:{error:e.message}:{}}catch(e){return{error:"An unexpected error occurred. Please try again."}}},signInWithApple:async()=>{try{const{error:e}=await fa.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/`}});return e?e.message.includes("not configured")||e.message.includes("OAuth")?{error:"Apple sign-in is not configured. Please use email to sign in or contact support."}:{error:e.message}:{}}catch(e){return{error:"An unexpected error occurred. Please try again."}}},signUp:async(e,t,r,s)=>{try{i(!0);const{data:a,error:o}=await fa.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/`,data:{first_name:r,last_name:s,full_name:`${r} ${s}`.trim()}}});return o?(i(!1),o.message.includes("already registered")?{error:"This email is already registered. Please sign in instead."}:o.message.includes("password")?{error:"Password must be at least 6 characters long."}:{error:o.message}):a.user&&!a.session?(i(!1),{success:"Account created! Please check your email to confirm your account."}):(i(!1),{})}catch(a){return i(!1),{error:"An unexpected error occurred. Please try again."}}},signOut:async()=>{await fa.auth.signOut(),r(null),a(null)},resetPassword:async e=>{try{const{error:t}=await fa.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{error:t.message}:{}}catch(t){return{error:"An unexpected error occurred. Please try again."}}},updateProfile:async e=>{if(!t)return{error:"No user logged in"};try{const{data:s,error:a}=await fa.from("profiles").upsert({...e,user_id:t.id},{onConflict:"user_id"}).select("*").single();if(a)return{error:a};const o={...t};return s?(o.displayName=s.display_name??o.displayName,o.firstName=s.first_name??o.firstName,o.lastName=s.last_name??o.lastName,o.avatar=s.avatar_url??o.avatar,o.bio=s.bio??o.bio,o.showEmail=s.show_email??o.showEmail,o.showPhone=s.show_phone??o.showPhone):(e.display_name&&(o.displayName=e.display_name),e.first_name&&(o.firstName=e.first_name),e.last_name&&(o.lastName=e.last_name),e.avatar_url&&(o.avatar=e.avatar_url),void 0!==e.bio&&(o.bio=e.bio??void 0),void 0!==e.show_email&&(o.showEmail=e.show_email),void 0!==e.show_phone&&(o.showPhone=e.show_phone)),r(o),{}}catch(s){return{error:s}}},updateNotificationSettings:async e=>{if(t)try{const s={chat_messages:e.messages,broadcasts:e.broadcasts,calendar_reminders:e.tripUpdates,email_enabled:e.email,push_enabled:e.push},{userPreferencesService:a}=await Pe(async()=>{const{userPreferencesService:e}=await import("./userPreferencesService-DregIO64-mjd3dogn.js");return{userPreferencesService:e}},__vite__mapDeps([5,1,2,3,4]));await a.updateNotificationPreferences(t.id,s);const o={...t,notificationSettings:{...t.notificationSettings,...e}};r(o)}catch(s){}},switchRole:e=>{if(t){const s={admin:["read","write","admin","finance","compliance"],staff:["read","write"],talent:["read"],player:["read"],crew:["read","write"],security:["read","write"],medical:["read","write","medical"],producer:["read","write","admin"],speakers:["read"],guests:["read"],coordinators:["read","write"],logistics:["read","write"],press:["read","write"]};r({...t,proRole:e,permissions:s[e]||["read"]})}}},children:e})},ka=()=>{const e=Se.useContext(Sa);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Da={name:"Explorer",tier:"explorer",product_id:"prod_Tc0SWNhLkoCDIi",monthly:{price_id:"price_1SemRq3EeswiMlDC9yP0Dh5G",amount:999},annual:{price_id:"price_1SemRq3EeswiMlDCi0syvI3f",amount:9900},features:{activeTrips:"unlimited",aiQueries:"unlimited",events:{maxAttendees:100}}},Ca={name:"Frequent Chraveler",tier:"frequent-chraveler",product_id:"prod_Tc0WEzRDTCkfPM",monthly:{price_id:"price_1SemV13EeswiMlDC2ykNdrif",amount:1999},annual:{price_id:"price_1SemV13EeswiMlDC2P2126NY",amount:19900},features:{activeTrips:"unlimited",aiQueries:"unlimited",events:{maxAttendees:200},pdfExport:!0,calendarSync:!0}},Ia={name:"Starter Pro",tier:"pro-starter",product_id:"prod_Tc0YVR1N0fmtDG",price_id:"price_1SemXF3EeswiMlDCL1Unj0Er",amount:4900,memberLimit:50},Oa={name:"Growth Pro",tier:"pro-growth",product_id:"prod_Tc0afc0pIUt87D",price_id:"price_1SemYw3EeswiMlDCv27XvDMY",amount:9900,memberLimit:100},Ea={name:"Enterprise",tier:"pro-enterprise",product_id:"prod_Tc0cJshKNpvxV0",price_id:"price_1Semar3EeswiMlDCmEPBAvIt",amount:19900,memberLimit:250},Pa={"consumer-explorer":{product_id_monthly:Da.product_id,product_id_annual:Da.product_id,price_monthly_id:Da.monthly.price_id,price_annual_id:Da.annual.price_id,name:"Explorer",monthly_price:9.99,annual_price:99},"consumer-frequent-chraveler":{product_id_monthly:Ca.product_id,product_id_annual:Ca.product_id,price_monthly_id:Ca.monthly.price_id,price_annual_id:Ca.annual.price_id,name:"Frequent Chraveler",monthly_price:19.99,annual_price:199},"pro-starter":{product_id:Ia.product_id,price_id:Ia.price_id,name:"Pro Starter",price:49,member_limit:50},"pro-growing":{product_id:Oa.product_id,price_id:Oa.price_id,name:"Pro Growth",price:99,member_limit:100},"pro-enterprise":{product_id:Ea.product_id,price_id:Ea.price_id,name:"Pro Enterprise",price:199,member_limit:250}},Ta={starter:"pro-starter",growing:"pro-growing",enterprise:"pro-enterprise","enterprise-plus":"pro-enterprise"},ja=Se.createContext(void 0),Ma=({children:e})=>{const{user:t}=ka(),[r,s]=Se.useState(null),[a,o]=Se.useState(!1);Se.useEffect(()=>{t&&i()},[t]);const i=async()=>{if(t){o(!0);try{const{data:e,error:t}=await fa.functions.invoke("check-subscription");if(t)throw t;const{subscribed:r,product_id:a,tier:o,subscription_end:i}=e;let n="free";if(o)n=o;else if(a){const e=Pa["consumer-explorer"],t=Pa["consumer-frequent-chraveler"];a===e.product_id_monthly||a===e.product_id_annual?n="explorer":a===t.product_id_monthly||a===t.product_id_annual?n="frequent-chraveler":a===Pa["consumer-plus"].product_id&&(n="explorer")}s({tier:n,status:r?"active":"expired",subscriptionEndsAt:i,stripeCustomerId:e.stripe_customer_id})}catch(e){s({tier:"free",status:"expired"})}finally{o(!1)}}},n=async(e,r)=>{if(t){o(!0);try{const t={explorer:"consumer-explorer","frequent-chraveler":"consumer-frequent-chraveler"},{data:s,error:a}=await fa.functions.invoke("create-checkout",{body:{tier:t[e],billing_cycle:r}});if(a)throw a;s.url&&window.open(s.url,"_blank")}catch(s){Nr.error("Failed to start checkout")}finally{o(!1)}}else Nr.error("Please sign in to upgrade")},u=(null==t?void 0:t.email)&&wa.includes(t.email.toLowerCase()),c=u?"frequent-chraveler":(null==r?void 0:r.tier)||"free",l=u||"active"===(null==r?void 0:r.status)&&"free"!==c,d=u||"active"===(null==r?void 0:r.status)&&"free"!==c,p=u||"frequent-chraveler"===c,m=u?999:"frequent-chraveler"===c?1:0;return Y.jsx(ja.Provider,{value:{subscription:r,tier:c,isPlus:l,isSubscribed:d,isLoading:a,checkSubscription:i,upgradeToPlus:async()=>{await n("explorer","monthly")},upgradeToTier:n,canCreateProTrip:p,proTripQuota:m},children:e})},Aa=()=>{const e=Se.useContext(ja);if(void 0===e)throw new Error("useConsumerSubscription must be used within a ConsumerSubscriptionProvider");return e},Ra=1024;function Na(){const[e,t]=Se.useState(()=>"undefined"==typeof window||window.innerWidth<Ra);return Se.useEffect(()=>{const e=window.matchMedia("(max-width: 1023px)"),r=()=>{t(window.innerWidth<Ra)};return e.addEventListener("change",r),t(window.innerWidth<Ra),()=>e.removeEventListener("change",r)},[]),!!e}class La{static async initializeMobileOptimizations(){if(this.isMobile)try{this.setupMobileViewport(),this.setupTouchOptimizations(),this.setupPerformanceOptimizations()}catch(e){}}static setupMobileViewport(){if(!this.isMobile)return;const e=document.querySelector('meta[name="viewport"]');e&&e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover")}static setupTouchOptimizations(){if(!this.isMobile)return;document.addEventListener("touchstart",e=>{e.touches.length>1&&e.preventDefault()},{passive:!1});const e=document.createElement("style");e.textContent='\n      button, [role="button"], input, select, textarea {\n        min-height: 44px;\n        min-width: 44px;\n      }\n      \n      .touch-target {\n        min-height: 44px;\n        min-width: 44px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    ',document.head.appendChild(e)}static setupPerformanceOptimizations(){this.isMobile&&(document.body.style.transform="translateZ(0)",document.body.style.backfaceVisibility="hidden",document.body.style.perspective="1000px",document.body.style.webkitOverflowScrolling="touch",document.body.style.overscrollBehavior="contain",window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(document.body.style.animation="none",document.body.style.transition="none"))}static async triggerHapticFeedback(e="Medium"){this.isMobile}static async triggerSuccessHaptic(){await this.triggerHapticFeedback("Light")}static async triggerErrorHaptic(){await this.triggerHapticFeedback("Heavy")}static isMobileDevice(){return this.isMobile}static isIOSDevice(){return this.isIOS}static isAndroidDevice(){return this.isAndroid}static trackMobilePerformance(){this.isMobile}}$(La,"isMobile",We.isNativePlatform()),$(La,"isIOS","ios"===We.getPlatform()),$(La,"isAndroid","android"===We.getPlatform());class qa{static async initialize(){this.isNative&&(await(async()=>{We.isNativePlatform()})(),await this.setupPushNotifications(),await this.setupAppStateHandling(),await this.setupNativeOptimizations())}static async takePhoto(){return this.isNative,null}static async selectFromGallery(){return this.isNative,null}static async getCurrentLocation(){return this.isNative,null}static async watchLocation(e){return this.isNative,null}static async setupPushNotifications(){this.isNative}static async scheduleLocalNotification(e,t,r){this.isNative}static async triggerHaptic(e){this.isNative}static async setupAppStateHandling(){this.isNative}static async setupNativeOptimizations(){if(this.isNative)try{undefined,this.setupNativeCSS(),this.setupNativeTouch()}catch(e){}}static setupNativeCSS(){if(!this.isNative)return;const e=document.createElement("style");e.textContent="\n      /* Native mobile optimizations */\n      body {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        touch-action: manipulation;\n      }\n      \n      /* iOS specific */\n      @supports (-webkit-touch-callout: none) {\n        body {\n          -webkit-overflow-scrolling: touch;\n        }\n      }\n      \n      /* Android specific */\n      @media screen and (-webkit-min-device-pixel-ratio: 0) {\n        body {\n          -webkit-text-size-adjust: 100%;\n        }\n      }\n    ",document.head.appendChild(e)}static setupNativeTouch(){if(!this.isNative)return;document.addEventListener("touchstart",e=>{e.touches.length>1&&e.preventDefault()},{passive:!1});const e=document.createElement("style");e.textContent='\n      button, [role="button"], input, select, textarea {\n        min-height: 44px;\n        min-width: 44px;\n        touch-action: manipulation;\n      }\n    ',document.head.appendChild(e)}static isNativeDevice(){return this.isNative}static isIOSDevice(){return this.isIOS}static isAndroidDevice(){return this.isAndroid}static getPlatform(){return We.getPlatform()}static trackNativePerformance(){this.isNative}}$(qa,"isNative",We.isNativePlatform()),$(qa,"isIOS","ios"===We.getPlatform()),$(qa,"isAndroid","android"===We.getPlatform());const Ba=({children:e,className:t})=>{const r=Na();return Se.useEffect(()=>{if(!r)return;(async()=>{try{const e=La.initializeMobileOptimizations().catch(e=>{}),t=qa.initialize().catch(e=>{});await Promise.race([Promise.all([e,t]),new Promise(e=>setTimeout(e,2e3))]),La.trackMobilePerformance(),qa.trackNativePerformance()}catch(e){}})()},[r]),Y.jsx("div",{className:mr("flex flex-col min-h-screen",r?"bg-gray-900":"bg-background",t),children:Y.jsx("main",{className:mr("flex-1 bg-background"),style:r?{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"}:void 0,children:e})})};class za extends Se.Component{constructor(){super(...arguments),$(this,"state",{hasError:!1}),$(this,"handleReset",()=>{var e,t;this.setState({hasError:!1,error:void 0}),null==(t=(e=this.props).onRetry)||t.call(e)}),$(this,"handleClearAndReload",async()=>{await(async()=>{try{if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}}catch(e){}})(),window.location.reload()})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){window.gtag&&window.gtag("event","exception",{description:e.message,fatal:!1})}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const e=(e=>{if(!e)return!1;const t=e.message||String(e);return t.includes("Failed to fetch dynamically imported")||t.includes("Loading chunk")||t.includes("ChunkLoadError")||t.includes("Loading CSS chunk")||t.includes("Importing a module script failed")||t.includes("error loading dynamically imported module")||t.includes("Failed to load module script")})(this.state.error);return this.props.compact?Y.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4 bg-muted/30 rounded-lg",children:[Y.jsx(lr,{className:"h-8 w-8 text-destructive"}),Y.jsxs("div",{className:"text-center space-y-1",children:[Y.jsx("p",{className:"font-medium text-foreground",children:e?"Failed to load content":"Something went wrong"}),Y.jsx("p",{className:"text-sm text-muted-foreground",children:e?"A new version may be available.":"Please try again."})]}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-1 px-3 py-2 text-sm bg-muted hover:bg-muted/80 rounded-lg transition-colors",children:[Y.jsx(ur,{className:"h-3 w-3"}),"Retry"]}),e&&Y.jsxs("button",{onClick:this.handleClearAndReload,className:"flex items-center gap-1 px-3 py-2 text-sm bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg transition-colors",children:[Y.jsx(cr,{className:"h-3 w-3"}),"Reload"]})]})]}):Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:Y.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[Y.jsx("div",{className:"flex justify-center",children:Y.jsx(lr,{className:"h-16 w-16 text-destructive"})}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Failed to Load Page":"Something went wrong"}),Y.jsx("p",{className:"text-muted-foreground",children:e?"This usually happens after an app update. Clear your cache to load the latest version.":"We're sorry, but something unexpected happened. Please try refreshing the page."})]}),Y.jsxs("div",{className:"space-y-3",children:[e&&Y.jsxs("button",{onClick:this.handleClearAndReload,className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90 px-6 py-3 rounded-xl transition-colors font-medium",children:[Y.jsx(cr,{className:"h-4 w-4"}),"Clear Cache & Reload"]}),Y.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl transition-colors "+(e?"bg-muted text-muted-foreground hover:bg-muted/80":"bg-primary text-primary-foreground hover:bg-primary/90 font-medium"),children:[Y.jsx(ur,{className:"h-4 w-4"}),"Try Again"]}),!e&&Y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-muted text-muted-foreground hover:bg-muted/80 px-6 py-3 rounded-xl transition-colors",children:"Refresh Page"})]}),!1]})})}return this.props.children}}const Fa=({size:e="md",className:t,text:r})=>Y.jsxs("div",{className:mr("flex flex-col items-center justify-center space-y-2",t),children:[Y.jsx("div",{className:mr("animate-spin rounded-full border-2 border-muted border-t-primary",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),r&&Y.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:r})]}),Wa="chravel_build_version",$a=()=>Y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Y.jsx(Fa,{size:"lg",text:"Loading..."})}),Ua=()=>{const e=document.querySelector('meta[name="build-version"]');return(null==e?void 0:e.getAttribute("content"))||"unknown"},Va=async()=>{try{if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}const e=[];for(let r=0;r<localStorage.length;r++){const t=localStorage.key(r);((null==t?void 0:t.includes("chunk"))||(null==t?void 0:t.includes("cache"))||(null==t?void 0:t.includes("sw-"))||(null==t?void 0:t.includes("vite")))&&e.push(t)}e.forEach(e=>localStorage.removeItem(e));const t=Ua();"unknown"!==t&&localStorage.setItem(Wa,t),localStorage.setItem("chravel_last_cache_clear",Date.now().toString())}catch(e){}},Ha=({onRetry:e,onClearAndReload:t,retryCount:r=0,isAutoRetrying:s=!1})=>Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:Y.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[Y.jsx("div",{className:"flex justify-center",children:s?Y.jsx(ur,{className:"h-16 w-16 text-primary animate-spin"}):Y.jsx(lr,{className:"h-16 w-16 text-destructive"})}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h1",{className:"text-2xl font-bold text-foreground",children:s?"Loading Update...":"Failed to Load Page"}),Y.jsx("p",{className:"text-muted-foreground",children:s?"A new version is available. Loading the latest version...":"This usually happens after an app update. Clear your cache to load the latest version."}),r>0&&!s&&Y.jsxs("p",{className:"text-sm text-muted-foreground/80",children:["Retry attempts: ",r,"/3"]})]}),!s&&Y.jsxs("div",{className:"space-y-3",children:[Y.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90 px-6 py-3 rounded-xl transition-colors font-medium",children:[Y.jsx(cr,{className:"h-4 w-4"}),"Clear Cache & Reload"]}),Y.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-muted text-muted-foreground hover:bg-muted/80 px-6 py-3 rounded-xl transition-colors",children:[Y.jsx(ur,{className:"h-4 w-4"}),"Try Again"]})]}),Y.jsx("p",{className:"text-xs text-muted-foreground/60",children:s?"This should only take a moment...":"If the problem persists, try closing all browser tabs and reopening the app."})]})}),Ka=[1e3,2e3,4e3],Qa=({children:e,fallback:t=Y.jsx($a,{})})=>{const[r,s]=Se.useState(0),[a,o]=Se.useState(!1),[i,n]=Se.useState(0),[u,c]=Se.useState(!1),l=Se.useRef(null),d=Se.useCallback(e=>{const t="string"==typeof e?e:e.message||String(e);return t.includes("Failed to fetch dynamically imported")||t.includes("Loading chunk")||t.includes("ChunkLoadError")||t.includes("Loading CSS chunk")||t.includes("Importing a module script failed")||t.includes("error loading dynamically imported module")||t.includes("Failed to load module script")||t.includes("Unexpected token")},[]),p=Se.useCallback(()=>{if(i>=3)return void c(!1);const e=Ka[i]||Ka[Ka.length-1];c(!0),l.current=setTimeout(()=>{n(e=>e+1),o(!1),s(e=>e+1)},e)},[i]);Se.useEffect(()=>{const e=e=>{d(e.message||String(e.error))&&(o(!0),e.preventDefault())},t=e=>{var t;const r=(null==(t=e.reason)?void 0:t.message)||String(e.reason);d(r)&&(o(!0),e.preventDefault())};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[d]),Se.useEffect(()=>{if(a&&i<3){if((()=>{const e=Ua(),t=localStorage.getItem(Wa);return"unknown"!==e&&(t?e!==t:(localStorage.setItem(Wa,e),!1))})())return void Va().then(()=>{window.location.reload()});p()}else a&&i>=3&&c(!1)},[a,i,p]),Se.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const m=Se.useCallback(()=>{o(!1),n(e=>e+1),s(e=>e+1)},[]),h=Se.useCallback(async()=>{await Va(),window.location.reload()},[]);return a&&(i>=3||!u)?Y.jsx(Ha,{onRetry:m,onClearAndReload:h,retryCount:i,isAutoRetrying:u}):a&&u?Y.jsx(Ha,{onRetry:m,onClearAndReload:h,retryCount:i,isAutoRetrying:!0}):Y.jsx(za,{children:Y.jsx(Se.Suspense,{fallback:t,children:e},r)})};const Ga=new class{constructor(){$(this,"metrics",{}),$(this,"observer"),this.initializeObservers(),this.trackNavigationTiming()}initializeObservers(){if("PerformanceObserver"in window){this.observer=new PerformanceObserver(e=>{for(const t of e.getEntries())"largest-contentful-paint"===t.entryType&&(this.metrics.largestContentfulPaint=t.startTime,this.reportMetric("LCP",t.startTime)),"first-input"===t.entryType&&(this.metrics.firstInputDelay=t.processingStart-t.startTime,this.reportMetric("FID",this.metrics.firstInputDelay)),"layout-shift"!==t.entryType||t.hadRecentInput||(this.metrics.cumulativeLayoutShift=(this.metrics.cumulativeLayoutShift||0)+t.value,this.reportMetric("CLS",this.metrics.cumulativeLayoutShift))});try{this.observer.observe({type:"largest-contentful-paint",buffered:!0}),this.observer.observe({type:"first-input",buffered:!0}),this.observer.observe({type:"layout-shift",buffered:!0})}catch(e){}}if("PerformancePaintTiming"in window){const e=performance.getEntriesByType("paint");for(const t of e)"first-contentful-paint"===t.name&&(this.metrics.firstContentfulPaint=t.startTime,this.reportMetric("FCP",t.startTime))}}trackNavigationTiming(){window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const t=e.fetchStart||0;this.metrics.navigationStart=t,this.metrics.loadComplete=e.loadEventEnd-t,this.reportMetric("Page Load Time",this.metrics.loadComplete),this.reportMetric("DNS Lookup",e.domainLookupEnd-e.domainLookupStart),this.reportMetric("TCP Connect",e.connectEnd-e.connectStart),this.reportMetric("DOM Content Loaded",e.domContentLoadedEventEnd-t)}},0)})}reportMetric(e,t){window.gtag&&window.gtag("event","timing_complete",{name:e,value:Math.round(t)})}startTiming(e){const t=performance.now();return()=>{const r=performance.now()-t;this.reportMetric(e,r)}}markRoute(e){const t=`route-${e}-${Date.now()}`;performance.mark(t),window.gtag&&window.gtag("event","page_view",{page_title:e,page_location:window.location.href})}trackUserAction(e,t="user_interaction"){window.gtag&&window.gtag("event",e,{event_category:t,event_label:window.location.pathname})}getMetrics(){return{...this.metrics}}cleanup(){this.observer&&this.observer.disconnect()}},Ya=e=>{let t;const r=new Set,s=(e,s)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,o={setState:s,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,a,o);return o},Ja=e=>e;const Xa=e=>{const t=(e=>e?Ya(e):Ya)(e),r=e=>function(e,t=Ja){const r=xe.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return xe.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},Za=e=>e?Xa(e):Xa,eo=Za((e,t)=>({demoView:"off",isLoading:!1,isDemoMode:!1,init:()=>{try{const t=localStorage.getItem("TRIPS_DEMO_VIEW");if(null!==t&&["off","marketing","app-preview"].includes(t)){return void e({demoView:t,isDemoMode:"app-preview"===t,isLoading:!1})}const r=localStorage.getItem("TRIPS_DEMO_MODE");if(null!==r){const t="true"===r?"app-preview":"off";return localStorage.setItem("TRIPS_DEMO_VIEW",t),localStorage.removeItem("TRIPS_DEMO_MODE"),void e({demoView:t,isDemoMode:"app-preview"===t,isLoading:!1})}e({demoView:"off",isDemoMode:!1,isLoading:!1})}catch(t){e({demoView:"off",isDemoMode:!1,isLoading:!1})}},setDemoView:async t=>{try{localStorage.setItem("TRIPS_DEMO_VIEW",t),e({demoView:t,isDemoMode:"app-preview"===t})}catch(r){}},enable:async()=>{await t().setDemoView("app-preview")},disable:async()=>{await t().setDemoView("off")},toggle:async()=>{const{demoView:e}=t(),r="app-preview"===e?"off":"app-preview";await t().setDemoView(r)}}));const to=new class{constructor(){$(this,"breadcrumbs",[]),$(this,"maxBreadcrumbs",50),$(this,"initialized",!1),$(this,"userId",null)}init(e){this.initialized||((null==e?void 0:e.userId)&&(this.userId=e.userId),this.initialized=!0)}setUser(e,t){this.userId=e}clearUser(){this.userId=null}captureException(e,t){return e instanceof Error?e:new Error(String(e))}captureMessage(e,t="info",r){}addBreadcrumb(e){this.breadcrumbs.push({...e,data:{...e.data,timestamp:(new Date).toISOString()}}),this.breadcrumbs.length>this.maxBreadcrumbs&&(this.breadcrumbs=this.breadcrumbs.slice(-this.maxBreadcrumbs))}getBreadcrumbs(e=10){return this.breadcrumbs.slice(-e)}wrapAsync(e,t){return async(...r)=>{try{this.addBreadcrumb({category:"api-call",message:`Executing ${t.context||"async operation"}`,level:"info",data:{args:r.slice(0,3)}});return await e(...r)}catch(s){throw this.captureException(s,t),s}}}};const ro=new class{constructor(){$(this,"healthStatus",new Map),$(this,"checkInterval",null),$(this,"retryAttempts",new Map),$(this,"MAX_RETRY_ATTEMPTS",3),$(this,"CHECK_INTERVAL_MS",6e4)}async initialize(){return await Promise.all([this.checkConciergeHealth(),this.checkGoogleMapsHealth()]),this.startPeriodicChecks(),Promise.resolve()}async checkConciergeHealth(){const e="concierge";try{const{data:t,error:r}=await fa.functions.invoke("lovable-concierge",{body:{message:"ping"}});if(r)throw r;if("healthy"===(null==t?void 0:t.status)){const t={service:e,status:"healthy",message:"AI Concierge is online",lastCheck:new Date};return this.healthStatus.set(e,t),this.retryAttempts.set(e,0),t}const s={service:e,status:"degraded",message:"AI Concierge responded but status unclear",lastCheck:new Date,details:t};return this.healthStatus.set(e,s),this.retryAttempts.set(e,0),s}catch(t){const r=(this.retryAttempts.get(e)||0)+1;this.retryAttempts.set(e,r);const s={service:e,status:"offline",message:`AI Concierge is offline (attempt ${r}/${this.MAX_RETRY_ATTEMPTS})`,lastCheck:new Date,details:{error:t.message}};if(this.healthStatus.set(e,s),r<this.MAX_RETRY_ATTEMPTS){const e=1e3*Math.pow(2,r);setTimeout(()=>this.checkConciergeHealth(),e)}return s}}async checkGoogleMapsHealth(){const e="google_maps";try{const t=void 0;if(!t){const t={service:e,status:"degraded",message:"Embed-only mode (keyless)",lastCheck:new Date,details:{embedMode:!0}};return this.healthStatus.set(e,t),this.retryAttempts.set(e,0),t}if(!t.startsWith("AIza")&&!t.startsWith("placeholder"))throw new Error("Invalid Google Maps API key format");const{data:r,error:s}=await fa.functions.invoke("google-maps-proxy",{body:{endpoint:"geocode",address:"San Francisco, CA"}});if(s)throw s;if(!r||"REQUEST_DENIED"===r.status)throw new Error("Google Maps API key not authorized for this domain");const a={service:e,status:"healthy",message:"Google Maps is online with API key",lastCheck:new Date,details:{apiKeyValid:!0}};return this.healthStatus.set(e,a),this.retryAttempts.set(e,0),a}catch(t){const r=(this.retryAttempts.get(e)||0)+1;this.retryAttempts.set(e,r);const s={service:e,status:"offline",message:`Google Maps is offline (attempt ${r}/${this.MAX_RETRY_ATTEMPTS})`,lastCheck:new Date,details:{error:t.message}};if(this.healthStatus.set(e,s),r<this.MAX_RETRY_ATTEMPTS){const e=1e3*Math.pow(2,r);setTimeout(()=>this.checkGoogleMapsHealth(),e)}return s}}getHealth(e){return this.healthStatus.get(e)||null}getAllHealth(){return Array.from(this.healthStatus.values())}async recheckAll(){await Promise.all([this.checkConciergeHealth(),this.checkGoogleMapsHealth()])}startPeriodicChecks(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=setInterval(async()=>{await this.recheckAll()},this.CHECK_INTERVAL_MS)}stopPeriodicChecks(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}resetRetries(e){this.retryAttempts.set(e,0)}},so=class e{constructor(){}static getInstance(){return e.instance||(e.instance=new e),e.instance}async getUserPreferences(e){try{return await Xe(`user_preferences_${e}`,{})}catch(t){return{}}}async saveUserPreferences(e,t){try{const r={...t,last_updated:(new Date).toISOString()};await Ze(`user_preferences_${e}`,r)}catch(r){}}async getLocalPreferences(e){try{return await Xe(e)}catch(t){return null}}async setLocalPreferences(e,t){try{await Ze(e,t)}catch(r){}}async getArchivedTrips(e){if(e){return(await this.getUserPreferences(e)).archived_trips||{consumer:[],pro:[],event:[]}}return this.getLocalPreferences("trips_archive_state")||{consumer:[],pro:[],event:[]}}async saveArchivedTrips(e,t){if(t){const r=await this.getUserPreferences(t);await this.saveUserPreferences(t,{...r,archived_trips:e})}else this.setLocalPreferences("trips_archive_state",e)}async isDemoModeEnabled(e){if(e){return(await this.getUserPreferences(e)).demo_mode_enabled||!1}return"true"===await Xe("TRIPS_DEMO_MODE")}async setDemoMode(e,t){if(t){const r=await this.getUserPreferences(t);await this.saveUserPreferences(t,{...r,demo_mode_enabled:e})}else e?await Ze("TRIPS_DEMO_MODE","true"):await et("TRIPS_DEMO_MODE")}async clearUserPreferences(e){try{const{error:t}=await fa.from("user_preferences").delete().eq("user_id",e)}catch(t){}}};$(so,"instance");const ao=so.getInstance(),oo=[{id:"mock-poll-1-1",trip_id:"1",question:"Which restaurant should we visit first?",options:[{id:"opt-1",text:"Sushi Place",voteCount:3,voters:["user-1","user-2","user-3"]},{id:"opt-2",text:"Taco Stand",voteCount:5,voters:["user-4","user-5","user-6","user-7","user-8"]},{id:"opt-3",text:"Pizza Joint",voteCount:2,voters:["user-9","user-10"]}],status:"active",total_votes:10,created_by:"mock-user-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-1-2",trip_id:"1",question:"What time works for everybody to go to the beach?",options:[{id:"opt-1",text:"10 AM",voteCount:3,voters:["user-1","user-2","user-3"]},{id:"opt-2",text:"11 AM",voteCount:4,voters:["user-4","user-5","user-6","user-7"]},{id:"opt-3",text:"4 PM",voteCount:2,voters:["user-8","user-9"]}],status:"active",total_votes:9,created_by:"mock-user-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-2-1",trip_id:"2",question:"Which restaurant should we visit for dinner?",options:[{id:"opt-1",text:"Sushi Restaurant",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"Ramen Shop",voteCount:5,voters:["user-9","user-10","user-11","user-12","user-13"]},{id:"opt-3",text:"Izakaya Pub",voteCount:3,voters:["user-14","user-15","user-16"]}],status:"active",total_votes:16,created_by:"mock-user-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-2-2",trip_id:"2",question:"What time should we meet for the temple tour?",options:[{id:"opt-1",text:"8:00 AM - Early start",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"10:00 AM - Mid-morning",voteCount:9,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15"]},{id:"opt-3",text:"2:00 PM - Afternoon",voteCount:2,voters:["user-16","user-17"]}],status:"active",total_votes:17,created_by:"mock-user-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-3-1",trip_id:"3",question:"Which restaurant for the rehearsal dinner?",options:[{id:"opt-1",text:"Beachside Italian",voteCount:12,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-2",text:"Balinese Traditional",voteCount:8,voters:["user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"Seafood Grill",voteCount:5,voters:["user-21","user-22","user-23","user-24","user-25"]}],status:"active",total_votes:25,created_by:"mock-user-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-3-2",trip_id:"3",question:"What time should we meet for the group excursion?",options:[{id:"opt-1",text:"9:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"11:00 AM",voteCount:13,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21"]},{id:"opt-3",text:"2:00 PM",voteCount:4,voters:["user-22","user-23","user-24","user-25"]}],status:"active",total_votes:25,created_by:"mock-user-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-4-1",trip_id:"4",question:"Which honky-tonk bar should we hit first?",options:[{id:"opt-1",text:"Tootsie's Orchid Lounge",voteCount:4,voters:["user-1","user-2","user-3","user-4"]},{id:"opt-2",text:"Robert's Western World",voteCount:8,voters:["user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-3",text:"The Stage on Broadway",voteCount:3,voters:["user-13","user-14","user-15"]}],status:"active",total_votes:15,created_by:"mock-user-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-4-2",trip_id:"4",question:"What time should we meet for brunch?",options:[{id:"opt-1",text:"10:00 AM",voteCount:5,voters:["user-1","user-2","user-3","user-4","user-5"]},{id:"opt-2",text:"11:30 AM",voteCount:7,voters:["user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-3",text:"1:00 PM",voteCount:3,voters:["user-13","user-14","user-15"]}],status:"active",total_votes:15,created_by:"mock-user-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-5-1",trip_id:"5",question:"Which headliner should we prioritize?",options:[{id:"opt-1",text:"Main Stage Closer",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Sahara Tent DJ",voteCount:6,voters:["user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"Outdoor Stage Artist",voteCount:4,voters:["user-17","user-18","user-19","user-20"]}],status:"active",total_votes:20,created_by:"mock-user-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-5-2",trip_id:"5",question:"What time should we leave for the festival grounds?",options:[{id:"opt-1",text:"2:00 PM - Catch opening acts",voteCount:5,voters:["user-1","user-2","user-3","user-4","user-5"]},{id:"opt-2",text:"4:00 PM - Mid-afternoon",voteCount:11,voters:["user-6","user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"6:00 PM - Sunset sets",voteCount:4,voters:["user-17","user-18","user-19","user-20"]}],status:"active",total_votes:20,created_by:"mock-user-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-6-1",trip_id:"6",question:"Which restaurant for our family dinner?",options:[{id:"opt-1",text:"Mountain View Steakhouse",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"Italian Family Style",voteCount:9,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15"]},{id:"opt-3",text:"Asian Fusion",voteCount:3,voters:["user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-6-2",trip_id:"6",question:"What time should we start the hiking trail?",options:[{id:"opt-1",text:"7:00 AM - Beat the heat",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"9:00 AM - After breakfast",voteCount:8,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15"]},{id:"opt-3",text:"11:00 AM - Late morning",voteCount:3,voters:["user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-7-1",trip_id:"7",question:"Which restaurant for the victory dinner?",options:[{id:"opt-1",text:"Clubhouse Steakhouse",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"BBQ Smokehouse",voteCount:5,voters:["user-9","user-10","user-11","user-12","user-13"]},{id:"opt-3",text:"Mexican Cantina",voteCount:3,voters:["user-14","user-15","user-16"]}],status:"active",total_votes:16,created_by:"mock-user-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-7-2",trip_id:"7",question:"What time for our tee time?",options:[{id:"opt-1",text:"7:30 AM - Early birds",voteCount:4,voters:["user-1","user-2","user-3","user-4"]},{id:"opt-2",text:"9:00 AM - Mid-morning",voteCount:10,voters:["user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"11:00 AM - Late start",voteCount:2,voters:["user-15","user-16"]}],status:"active",total_votes:16,created_by:"mock-user-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-8-1",trip_id:"8",question:"Which wellness restaurant for lunch?",options:[{id:"opt-1",text:"Organic Vegan Cafe",voteCount:12,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-2",text:"Juice Bar & Smoothies",voteCount:6,voters:["user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"Raw Food Kitchen",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-8-2",trip_id:"8",question:"What time for morning yoga session?",options:[{id:"opt-1",text:"6:00 AM - Sunrise flow",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"8:00 AM - After meditation",voteCount:9,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"10:00 AM - Mid-morning",voteCount:3,voters:["user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-9-1",trip_id:"9",question:"Which winery restaurant for dinner?",options:[{id:"opt-1",text:"French Laundry",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"Bistro Jeanty",voteCount:5,voters:["user-8","user-9","user-10","user-11","user-12"]},{id:"opt-3",text:"Farmstead at Long Meadow",voteCount:3,voters:["user-13","user-14","user-15"]}],status:"active",total_votes:15,created_by:"mock-user-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-9-2",trip_id:"9",question:"What time for the wine tasting tour?",options:[{id:"opt-1",text:"11:00 AM - Morning tour",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"2:00 PM - Afternoon session",voteCount:8,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"4:00 PM - Sunset tasting",voteCount:1,voters:["user-15"]}],status:"active",total_votes:15,created_by:"mock-user-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-10-1",trip_id:"10",question:"Which restaurant for the team dinner?",options:[{id:"opt-1",text:"Mountain Steakhouse",voteCount:15,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15"]},{id:"opt-2",text:"Alpine French Bistro",voteCount:10,voters:["user-16","user-17","user-18","user-19","user-20","user-21","user-22","user-23","user-24","user-25"]},{id:"opt-3",text:"Contemporary American",voteCount:5,voters:["user-26","user-27","user-28","user-29","user-30"]}],status:"active",total_votes:30,created_by:"mock-user-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-10-2",trip_id:"10",question:"What time for the team building activity?",options:[{id:"opt-1",text:"9:00 AM - Morning session",voteCount:12,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-2",text:"1:00 PM - After lunch",voteCount:14,voters:["user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21","user-22","user-23","user-24","user-25","user-26"]},{id:"opt-3",text:"4:00 PM - Late afternoon",voteCount:4,voters:["user-27","user-28","user-29","user-30"]}],status:"active",total_votes:30,created_by:"mock-user-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-11-1",trip_id:"11",question:"Which dining option for tonight?",options:[{id:"opt-1",text:"Main Dining Room",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Buffet on Deck",voteCount:5,voters:["user-11","user-12","user-13","user-14","user-15"]},{id:"opt-3",text:"Animator's Palate",voteCount:7,voters:["user-16","user-17","user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-11-2",trip_id:"11",question:"What time for the character breakfast?",options:[{id:"opt-1",text:"7:30 AM - Early seating",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"9:00 AM - Mid-morning",voteCount:11,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"10:30 AM - Late breakfast",voteCount:3,voters:["user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-12-1",trip_id:"12",question:"Which trail restaurant for lunch?",options:[{id:"opt-1",text:"Old Faithful Inn Dining",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"Canyon Lodge Eatery",voteCount:5,voters:["user-8","user-9","user-10","user-11","user-12"]},{id:"opt-3",text:"Lake Hotel Dining Room",voteCount:3,voters:["user-13","user-14","user-15"]}],status:"active",total_votes:15,created_by:"mock-user-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-12-2",trip_id:"12",question:"What time should we start the hike?",options:[{id:"opt-1",text:"6:00 AM - Sunrise hike",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"8:00 AM - Morning start",voteCount:8,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"10:00 AM - Mid-morning",voteCount:1,voters:["user-15"]}],status:"active",total_votes:15,created_by:"mock-user-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-1-1",trip_id:"lakers-road-trip",question:"Which restaurant for post-game dinner?",options:[{id:"opt-1",text:"Nobu Malibu",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"BOA Steakhouse",voteCount:6,voters:["user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"Craig's West Hollywood",voteCount:4,voters:["user-15","user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-pro-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-1-2",trip_id:"lakers-road-trip",question:"What time to leave for the arena?",options:[{id:"opt-1",text:"5:00 PM",voteCount:5,voters:["user-1","user-2","user-3","user-4","user-5"]},{id:"opt-2",text:"5:30 PM",voteCount:9,voters:["user-6","user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"6:00 PM",voteCount:4,voters:["user-15","user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-pro-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-2-1",trip_id:"beyonce-cowboy-carter-tour",question:"Where should we eat before the concert?",options:[{id:"opt-1",text:"The Capital Grille",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"Knife Steakhouse",voteCount:9,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"Uchi Dallas",voteCount:5,voters:["user-17","user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-2-2",trip_id:"beyonce-cowboy-carter-tour",question:"What time to meet at the venue?",options:[{id:"opt-1",text:"6:00 PM",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"6:30 PM",voteCount:11,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"7:00 PM",voteCount:4,voters:["user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-3-1",trip_id:"eli-lilly-c-suite-retreat-2026",question:"Which restaurant for the executive dinner?",options:[{id:"opt-1",text:"St. Elmo Steak House",voteCount:12,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-2",text:"Bluebeard",voteCount:6,voters:["user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"Vida",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-3-2",trip_id:"eli-lilly-c-suite-retreat-2026",question:"What time for the morning strategy session?",options:[{id:"opt-1",text:"8:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"9:00 AM",voteCount:10,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"10:00 AM",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-4-1",trip_id:"paul-george-elite-aau-nationals-2025",question:"Where should we have the team dinner?",options:[{id:"opt-1",text:"Yardbird Southern Table",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"The Capital Grille",voteCount:7,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"Hard Rock Cafe",voteCount:5,voters:["user-17","user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-4-2",trip_id:"paul-george-elite-aau-nationals-2025",question:"What time for the pre-game walkthrough?",options:[{id:"opt-1",text:"7:30 AM",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"8:30 AM",voteCount:11,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"9:00 AM",voteCount:4,voters:["user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-5-1",trip_id:"osu-notredame-2025",question:"Which tailgate spot should we reserve?",options:[{id:"opt-1",text:"South Quad Area",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Hind's Plaza",voteCount:7,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"Mirror Lake",voteCount:5,voters:["user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-5-2",trip_id:"osu-notredame-2025",question:"What time to start tailgating?",options:[{id:"opt-1",text:"9:00 AM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"10:00 AM",voteCount:12,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"11:00 AM",voteCount:3,voters:["user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-6-1",trip_id:"unc-lax-2025",question:"Where should we eat post-game?",options:[{id:"opt-1",text:"Sutton's Drug Store",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"Kipos Greek Taverna",voteCount:6,voters:["user-9","user-10","user-11","user-12","user-13","user-14"]},{id:"opt-3",text:"Al's Burger Shack",voteCount:4,voters:["user-15","user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-pro-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-6-2",trip_id:"unc-lax-2025",question:"What time to meet for the game?",options:[{id:"opt-1",text:"5:00 PM",voteCount:5,voters:["user-1","user-2","user-3","user-4","user-5"]},{id:"opt-2",text:"5:30 PM",voteCount:10,voters:["user-6","user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15"]},{id:"opt-3",text:"6:00 PM",voteCount:3,voters:["user-16","user-17","user-18"]}],status:"active",total_votes:18,created_by:"mock-user-pro-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-7-1",trip_id:"a16z-speedrun-2026",question:"Which restaurant for the investor dinner?",options:[{id:"opt-1",text:"Boulevard Restaurant",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Quince",voteCount:7,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"Gary Danko",voteCount:5,voters:["user-17","user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-7-2",trip_id:"a16z-speedrun-2026",question:"What time for the pitch practice session?",options:[{id:"opt-1",text:"9:00 AM",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"10:00 AM",voteCount:11,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"11:00 AM",voteCount:4,voters:["user-18","user-19","user-20","user-21"]}],status:"active",total_votes:21,created_by:"mock-user-pro-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-8-1",trip_id:"kai-druski-jake-adin-24hr-atl",question:"Where should we order food from?",options:[{id:"opt-1",text:"The Varsity",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Busy Bee Cafe",voteCount:6,voters:["user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"JR Crickets",voteCount:8,voters:["user-17","user-18","user-19","user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-pro-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-8-2",trip_id:"kai-druski-jake-adin-24hr-atl",question:"What time to start the stream?",options:[{id:"opt-1",text:"6:00 PM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"7:00 PM",voteCount:12,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"8:00 PM",voteCount:5,voters:["user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-pro-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-9-1",trip_id:"tesla-cybertruck-roadshow-2025",question:"Which venue for the reveal event?",options:[{id:"opt-1",text:"Fremont Factory",voteCount:11,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11"]},{id:"opt-2",text:"Gigafactory Texas",voteCount:8,voters:["user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"Hawthorne Design Studio",voteCount:6,voters:["user-20","user-21","user-22","user-23","user-24","user-25"]}],status:"active",total_votes:25,created_by:"mock-user-pro-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-9-2",trip_id:"tesla-cybertruck-roadshow-2025",question:"What time should the presentation start?",options:[{id:"opt-1",text:"10:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"11:00 AM",voteCount:13,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21"]},{id:"opt-3",text:"12:00 PM",voteCount:4,voters:["user-22","user-23","user-24","user-25"]}],status:"active",total_votes:25,created_by:"mock-user-pro-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-10-1",trip_id:"postmalone-jellyroll-tour-2026",question:"Where to eat before the show?",options:[{id:"opt-1",text:"Broadway Brewhouse",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Acme Feed & Seed",voteCount:7,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"The Southern Steak & Oyster",voteCount:6,voters:["user-17","user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-10-2",trip_id:"postmalone-jellyroll-tour-2026",question:"What time to arrive at the venue?",options:[{id:"opt-1",text:"6:00 PM",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"6:30 PM",voteCount:12,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"7:00 PM",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-11-1",trip_id:"gs-campus-gt-2025",question:"Which restaurant for the networking dinner?",options:[{id:"opt-1",text:"South City Kitchen",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"The Sun Dial",voteCount:7,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"Canoe",voteCount:5,voters:["user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-11-2",trip_id:"gs-campus-gt-2025",question:"What time for the career fair?",options:[{id:"opt-1",text:"9:00 AM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"10:00 AM",voteCount:11,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"11:00 AM",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-12-1",trip_id:"nvidia-bowling-2025",question:"Where should we grab food after bowling?",options:[{id:"opt-1",text:"The Cheesecake Factory",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"BJ's Restaurant & Brewhouse",voteCount:7,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16"]},{id:"opt-3",text:"P.F. Chang's",voteCount:6,voters:["user-17","user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-pro-12-2",trip_id:"nvidia-bowling-2025",question:"What time to start bowling?",options:[{id:"opt-1",text:"6:00 PM",voteCount:6,voters:["user-1","user-2","user-3","user-4","user-5","user-6"]},{id:"opt-2",text:"7:00 PM",voteCount:12,voters:["user-7","user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"8:00 PM",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-pro-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-1-1",trip_id:"sxsw-2025",question:"Which food truck area for lunch?",options:[{id:"opt-1",text:"Rainey Street",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"6th Street",voteCount:8,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"Convention Center Plaza",voteCount:6,voters:["user-19","user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-1-2",trip_id:"sxsw-2025",question:"What time to meet for the keynote?",options:[{id:"opt-1",text:"9:30 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"10:00 AM",voteCount:13,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21"]},{id:"opt-3",text:"10:30 AM",voteCount:3,voters:["user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-1",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-2-1",trip_id:"wef-2025",question:"Which restaurant for the delegate dinner?",options:[{id:"opt-1",text:"Restaurant Cantinetta Antinori",voteCount:12,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11","user-12"]},{id:"opt-2",text:"Chesa Grischuna",voteCount:7,voters:["user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"Kaffee Klatsch",voteCount:5,voters:["user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-2-2",trip_id:"wef-2025",question:"What time for the morning forum session?",options:[{id:"opt-1",text:"7:00 AM",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"8:00 AM",voteCount:11,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"9:00 AM",voteCount:4,voters:["user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-2",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-3-1",trip_id:"money2020-2025",question:"Where should we dine during the conference?",options:[{id:"opt-1",text:"SW Steakhouse",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Carbone",voteCount:11,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"Catch Las Vegas",voteCount:6,voters:["user-21","user-22","user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-3-2",trip_id:"money2020-2025",question:"What time to meet for the expo hall?",options:[{id:"opt-1",text:"9:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"10:00 AM",voteCount:14,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21","user-22"]},{id:"opt-3",text:"11:00 AM",voteCount:4,voters:["user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-3",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-4-1",trip_id:"bloomberg-screentime-2025",question:"Which restaurant for the media dinner?",options:[{id:"opt-1",text:"Spago Beverly Hills",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Polo Lounge",voteCount:8,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"Catch LA",voteCount:6,voters:["user-19","user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-4-2",trip_id:"bloomberg-screentime-2025",question:"What time for the panel discussions?",options:[{id:"opt-1",text:"10:00 AM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"11:00 AM",voteCount:13,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"12:00 PM",voteCount:4,voters:["user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-4",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-5-1",trip_id:"inbound-2025",question:"Where should we have lunch?",options:[{id:"opt-1",text:"Waterbar",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Ozumo",voteCount:11,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"Boulevard",voteCount:6,voters:["user-21","user-22","user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-5-2",trip_id:"inbound-2025",question:"What time to attend the marketing workshop?",options:[{id:"opt-1",text:"9:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"10:00 AM",voteCount:14,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21","user-22"]},{id:"opt-3",text:"11:00 AM",voteCount:4,voters:["user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-5",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-6-1",trip_id:"invest-fest-2025",question:"Which food court for lunch?",options:[{id:"opt-1",text:"CNN Center",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Mercedes-Benz Stadium Plaza",voteCount:9,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"Underground Atlanta",voteCount:7,voters:["user-20","user-21","user-22","user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-6-2",trip_id:"invest-fest-2025",question:"What time for the investing panel?",options:[{id:"opt-1",text:"10:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"11:00 AM",voteCount:14,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21","user-22"]},{id:"opt-3",text:"12:00 PM",voteCount:4,voters:["user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-6",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-7-1",trip_id:"grammys-2025",question:"Where to eat before the ceremony?",options:[{id:"opt-1",text:"Spago",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Matsuhisa",voteCount:8,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"The Ivy",voteCount:6,voters:["user-18","user-19","user-20","user-21","user-22","user-23"]}],status:"active",total_votes:23,created_by:"mock-user-event-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-7-2",trip_id:"grammys-2025",question:"What time to arrive for red carpet?",options:[{id:"opt-1",text:"4:00 PM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"5:00 PM",voteCount:12,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"6:00 PM",voteCount:4,voters:["user-20","user-21","user-22","user-23"]}],status:"active",total_votes:23,created_by:"mock-user-event-7",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-8-1",trip_id:"yc-demo-day-2025",question:"Which restaurant for the startup dinner?",options:[{id:"opt-1",text:"Evvia",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Mayfield Bakery & Cafe",voteCount:7,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"Village Pub",voteCount:5,voters:["user-18","user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-event-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-8-2",trip_id:"yc-demo-day-2025",question:"What time for the pitch rehearsal?",options:[{id:"opt-1",text:"8:00 AM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"9:00 AM",voteCount:11,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"10:00 AM",voteCount:4,voters:["user-19","user-20","user-21","user-22"]}],status:"active",total_votes:22,created_by:"mock-user-event-8",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-9-1",trip_id:"tiktok-summit-2025",question:"Where should we grab lunch?",options:[{id:"opt-1",text:"Catch LA",voteCount:11,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10","user-11"]},{id:"opt-2",text:"Urth Caffe",voteCount:8,voters:["user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"Sweetgreen",voteCount:5,voters:["user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-9-2",trip_id:"tiktok-summit-2025",question:"What time to film the collab content?",options:[{id:"opt-1",text:"2:00 PM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"3:00 PM",voteCount:12,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"4:00 PM",voteCount:4,voters:["user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-9",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-10-1",trip_id:"oscars-2025",question:"Which restaurant for pre-show dining?",options:[{id:"opt-1",text:"Wolfgang Puck Bar & Grill",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Mastro's Steakhouse",voteCount:8,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18"]},{id:"opt-3",text:"BOA Steakhouse",voteCount:6,voters:["user-19","user-20","user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-10-2",trip_id:"oscars-2025",question:"What time to arrive at the Dolby Theatre?",options:[{id:"opt-1",text:"3:00 PM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"4:00 PM",voteCount:13,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20"]},{id:"opt-3",text:"5:00 PM",voteCount:4,voters:["user-21","user-22","user-23","user-24"]}],status:"active",total_votes:24,created_by:"mock-user-event-10",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-11-1",trip_id:"nba-hof-2025",question:"Where to dine during the ceremony weekend?",options:[{id:"opt-1",text:"Student Prince",voteCount:9,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9"]},{id:"opt-2",text:"Theodores'",voteCount:8,voters:["user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17"]},{id:"opt-3",text:"Fort Restaurant",voteCount:6,voters:["user-18","user-19","user-20","user-21","user-22","user-23"]}],status:"active",total_votes:23,created_by:"mock-user-event-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-11-2",trip_id:"nba-hof-2025",question:"What time for the pre-ceremony reception?",options:[{id:"opt-1",text:"5:00 PM",voteCount:7,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7"]},{id:"opt-2",text:"6:00 PM",voteCount:12,voters:["user-8","user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"7:00 PM",voteCount:4,voters:["user-20","user-21","user-22","user-23"]}],status:"active",total_votes:23,created_by:"mock-user-event-11",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-12-1",trip_id:"google-io-2026",question:"Which food station for lunch?",options:[{id:"opt-1",text:"Global Eats",voteCount:10,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8","user-9","user-10"]},{id:"opt-2",text:"Tech Bites",voteCount:9,voters:["user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19"]},{id:"opt-3",text:"Innovation Cafe",voteCount:7,voters:["user-20","user-21","user-22","user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},{id:"mock-poll-event-12-2",trip_id:"google-io-2026",question:"What time for the developer workshop?",options:[{id:"opt-1",text:"10:00 AM",voteCount:8,voters:["user-1","user-2","user-3","user-4","user-5","user-6","user-7","user-8"]},{id:"opt-2",text:"11:00 AM",voteCount:14,voters:["user-9","user-10","user-11","user-12","user-13","user-14","user-15","user-16","user-17","user-18","user-19","user-20","user-21","user-22"]},{id:"opt-3",text:"1:00 PM",voteCount:4,voters:["user-23","user-24","user-25","user-26"]}],status:"active",total_votes:26,created_by:"mock-user-event-12",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1}],io={1:{tripId:1,tripTitle:"Spring Break Cancun 2026 Kappa Alpha Psi Trip",location:"Cancun, Mexico",photos:[{id:"cancun-photo-1",media_url:"/mock/images/beach-volleyball.jpg",filename:"Beach Volleyball Tournament.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:425678,mime_type:"image/jpeg"},{id:"cancun-photo-2",media_url:"/mock/images/travel-selfie.jpg",filename:"Sunset Resort Pool Party.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"upload",file_size:523456,mime_type:"image/jpeg"},{id:"cancun-photo-3",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Brotherhood Beach Group Shot.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-2592e5).toISOString(),source:"chat",file_size:378901,mime_type:"image/jpeg"}],videos:[{id:"cancun-video-1",media_url:"/mock/videos/team-celebration.mp4",filename:"Epic Beach Party Highlights.mp4",media_type:"video",metadata:{duration:12,width:1280,height:720,poster:"/mock/images/beach-volleyball.jpg"},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:12456e3,mime_type:"video/mp4"}],files:[{id:"cancun-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Moon Palace Resort Confirmation.pdf",media_type:"document",metadata:{pageCount:3,confirmationNumber:"MP-CAN-2026-789"},created_at:new Date(Date.now()-864e6).toISOString(),source:"upload",file_size:267890,mime_type:"application/pdf"},{id:"cancun-file-2",media_url:"/mock/images/conference-schedule-preview.jpg",filename:"Excursion Tickets - Chichen Itza.jpg",media_type:"image",metadata:{isTicket:!0,venue:"Chichen Itza",date:"2026-03-17",extractedEvents:1},created_at:new Date(Date.now()-432e6).toISOString(),source:"upload",file_size:345600,mime_type:"image/jpeg"}],links:[{id:"cancun-link-1",url:"https://www.palaceresorts.com/moon-palace-cancun",title:"Moon Palace Cancun - All Inclusive Resort",description:"Luxury all-inclusive resort with 6 restaurants, water park, and pristine beaches.",domain:"palaceresorts.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1296e6).toISOString(),source:"places",tags:["resort","all-inclusive","accommodation"]},{id:"cancun-link-2",url:"https://www.joestonecrab.com/",title:"Joe's Stone Crab Cancun - Seafood Excellence",description:"World-famous stone crab and fresh seafood in the heart of Cancun.",domain:"joestonecrab.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e5).toISOString(),source:"places",tags:["seafood","restaurant","upscale"]},{id:"cancun-link-3",url:"https://www.cocobongo.com.mx/",title:"Coco Bongo Show & Disco",description:"Spectacular acrobatic show with live performances and tribute acts.",domain:"cocobongo.com.mx",image_url:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e5).toISOString(),source:"places",tags:["nightlife","show","entertainment"]},{id:"cancun-link-4",url:"https://www.tripadvisor.com/Attraction_Review-g150807-d152896-Reviews-Chichen_Itza-Chichen_Itza_Yucatan_Peninsula.html",title:"Chichen Itza Day Trip",description:"Ancient Mayan ruins and Wonder of the World archaeological site.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1518638150340-f706e86654de?w=400&h=200&fit=crop",created_at:new Date(Date.now()-432e6).toISOString(),source:"places",tags:["cultural","historical","tour"]}]},2:{tripId:2,tripTitle:"Tokyo Adventure",location:"Tokyo, Japan",photos:[{id:"tokyo-photo-1",media_url:"/mock/images/concert-stage.jpg",filename:"Shibuya Crossing Night Shot.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:456789,mime_type:"image/jpeg"},{id:"tokyo-photo-2",media_url:"/mock/images/wedding-ceremony.jpg",filename:"Cherry Blossoms Ueno Park.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"upload",file_size:398765,mime_type:"image/jpeg"},{id:"tokyo-photo-3",media_url:"/mock/images/travel-selfie.jpg",filename:"Sushi Bar Group Experience.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-2592e5).toISOString(),source:"chat",file_size:423456,mime_type:"image/jpeg"}],videos:[{id:"tokyo-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Epic Karaoke Night Shibuya.mp4",media_type:"video",metadata:{duration:10,width:1280,height:720,poster:"/mock/images/concert-stage.jpg"},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:15678e3,mime_type:"video/mp4"}],files:[{id:"tokyo-file-1",media_url:"/mock/files/travel_itinerary.pdf",filename:"JR Pass - 7 Day Tokyo Regional.pdf",media_type:"document",metadata:{passType:"7-day",regions:["Tokyo","Kanto"]},created_at:new Date(Date.now()-10368e5).toISOString(),source:"upload",file_size:189456,mime_type:"application/pdf"},{id:"tokyo-file-2",media_url:"/mock/files/travel_itinerary.pdf",filename:"Tokyo Itinerary Day by Day.pdf",media_type:"document",metadata:{isSchedule:!0,days:10,extractedEvents:15},created_at:new Date(Date.now()-6912e5).toISOString(),source:"upload",file_size:567890,mime_type:"application/pdf"}],links:[{id:"tokyo-link-1",url:"https://www.booking.com/hotel/jp/the-millennials-shibuya.html",title:"The Millennials Shibuya Capsule Hotel",description:"Modern capsule hotel in the heart of Shibuya with high-tech amenities.",domain:"booking.com",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["capsule","modern","shibuya"]},{id:"tokyo-link-2",url:"https://sushidai-tsukiji.com/",title:"Sushi Dai - Tsukiji Outer Market",description:"World-famous sushi restaurant known for the freshest tuna and traditional preparation.",domain:"sushidai-tsukiji.com",image_url:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3456e5).toISOString(),source:"places",tags:["sushi","traditional","tsukiji"]},{id:"tokyo-link-3",url:"https://www.teamlab.art/e/planets/",title:"teamLab Planets TOKYO Digital Art Museum",description:"Immersive digital art experience with interactive installations and water features.",domain:"teamlab.art",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop",created_at:new Date(Date.now()-5184e5).toISOString(),source:"places",tags:["art","digital","immersive"]},{id:"tokyo-link-4",url:"https://www.robot-restaurant.com/",title:"Robot Restaurant Shinjuku",description:"Crazy robot show with lasers, music, and mechanical mayhem in Shinjuku.",domain:"robot-restaurant.com",image_url:"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e5).toISOString(),source:"places",tags:["entertainment","unique","shinjuku"]}]},3:{tripId:3,tripTitle:"Jack and Jill's destination wedding",location:"Bali, Indonesia",photos:[{id:"bali-photo-1",media_url:"/mock/images/wedding-ceremony.jpg",filename:"Beachside Wedding Ceremony.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"upload",file_size:567890,mime_type:"image/jpeg"},{id:"bali-photo-2",media_url:"/mock/images/travel-selfie.jpg",filename:"Sunset Reception Ubud.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:456123,mime_type:"image/jpeg"}],videos:[{id:"bali-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Wedding Ceremony Highlights.mp4",media_type:"video",metadata:{duration:12,width:1920,height:1080,poster:"/mock/images/wedding-ceremony.jpg"},created_at:new Date(Date.now()-864e5).toISOString(),source:"upload",file_size:25678e3,mime_type:"video/mp4"}],files:[{id:"bali-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Villa Seminyak Wedding Package.pdf",media_type:"document",metadata:{guests:50,package:"Premium Beach Wedding"},created_at:new Date(Date.now()-2592e6).toISOString(),source:"upload",file_size:423789,mime_type:"application/pdf"}],links:[{id:"bali-link-1",url:"https://www.seminyakbeachresort.com/",title:"Seminyak Beach Resort & Spa",description:"Luxury beachfront resort perfect for destination weddings with ocean views.",domain:"seminyakbeachresort.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3888e6).toISOString(),source:"places",tags:["resort","wedding-venue","luxury"]},{id:"bali-link-2",url:"https://www.lalucianbali.com/",title:"La Lucciola - Beachside Italian",description:"Romantic Italian restaurant with stunning ocean views and fresh seafood.",domain:"lalucianbali.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-432e6).toISOString(),source:"places",tags:["italian","romantic","ocean-view"]},{id:"bali-link-3",url:"https://www.baliswing.com/",title:"Bali Swing Adventure Experience",description:"Thrilling jungle swings with incredible valley views for adventurous couples.",domain:"baliswing.com",image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=200&fit=crop",created_at:new Date(Date.now()-864e6).toISOString(),source:"places",tags:["adventure","scenic","couples"]},{id:"bali-link-4",url:"https://www.tripadvisor.com/Attraction_Review-g297701-d2629337-Reviews-Uluwatu_Temple-Pecatu_Nusa_Dua_Peninsula_Bali.html",title:"Uluwatu Temple Sunset Kecak Dance",description:"Ancient clifftop temple with traditional Balinese fire dance at sunset.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1296e6).toISOString(),source:"places",tags:["temple","cultural","sunset"]}]},4:{tripId:4,tripTitle:"Kristen's Bachelorette Party",location:"Nashville, TN",photos:[{id:"nashville-photo-1",media_url:"/mock/images/concert-stage.jpg",filename:"Honky Tonk Squad Goals.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:456789,mime_type:"image/jpeg"},{id:"nashville-photo-2",media_url:"/mock/images/travel-selfie.jpg",filename:"Broadway Live Music Night.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"upload",file_size:523456,mime_type:"image/jpeg"}],videos:[{id:"nashville-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Bride Karaoke Highlights.mp4",media_type:"video",metadata:{duration:10,width:1280,height:720,poster:"/mock/images/concert-stage.jpg"},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:13456e3,mime_type:"video/mp4"}],files:[{id:"nashville-file-1",media_url:"/mock/images/conference-schedule-preview.jpg",filename:"Grand Ole Opry VIP Tickets.jpg",media_type:"image",metadata:{isTicket:!0,venue:"Grand Ole Opry",date:"2025-11-09",extractedEvents:1},created_at:new Date(Date.now()-6048e5).toISOString(),source:"upload",file_size:234567,mime_type:"image/jpeg"}],links:[{id:"nashville-link-1",url:"https://www.omnihotels.com/hotels/nashville",title:"Omni Nashville Hotel - Downtown",description:"Luxury hotel in the heart of Music City with rooftop pool and spa services.",domain:"omnihotels.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["hotel","luxury","downtown"]},{id:"nashville-link-2",url:"https://www.hattiebs.com/",title:"Hattie B's Hot Chicken - Nashville Original",description:"Famous Nashville hot chicken with multiple heat levels and Southern sides.",domain:"hattiebs.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e5).toISOString(),source:"places",tags:["chicken","nashville","spicy"]},{id:"nashville-link-3",url:"https://www.ryman.com/",title:"Ryman Auditorium - Mother Church of Country Music",description:"Historic venue with legendary country music performances and backstage tours.",domain:"ryman.com",image_url:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=400&h=200&fit=crop",created_at:new Date(Date.now()-432e6).toISOString(),source:"places",tags:["music","historic","tour"]},{id:"nashville-link-4",url:"https://www.visitmusiccity.com/broadway",title:"Broadway Honky Tonk District",description:"Neon-lit honky tonks with live bands, dancing, and Nashville nightlife.",domain:"visitmusiccity.com",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e5).toISOString(),source:"places",tags:["nightlife","music","broadway"]}]},6:{tripId:6,tripTitle:"Johnson Family Summer Vacay",location:"Saratoga Springs, NY",photos:[{id:"saratoga-photo-1",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Family at Saratoga Race Course.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:445678,mime_type:"image/jpeg"},{id:"saratoga-photo-2",media_url:"/mock/images/travel-selfie.jpg",filename:"Congress Park Family Walk.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-2592e5).toISOString(),source:"upload",file_size:523789,mime_type:"image/jpeg"}],videos:[{id:"saratoga-video-1",media_url:"/mock/videos/team-celebration.mp4",filename:"Family Summer Adventure Montage.mp4",media_type:"video",metadata:{duration:10,width:1280,height:720,poster:"/mock/images/group-mountain-photo.jpg"},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:16789e3,mime_type:"video/mp4"}],files:[{id:"saratoga-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Saratoga Arms Hotel Confirmation.pdf",media_type:"document",metadata:{guests:7,nights:8},created_at:new Date(Date.now()-216e7).toISOString(),source:"upload",file_size:345600,mime_type:"application/pdf"}],links:[{id:"saratoga-link-1",url:"https://www.saratogaracecourse.com/",title:"Saratoga Race Course - Historic Horse Racing",description:"Americas oldest thoroughbred racing venue with summer meets and family events.",domain:"saratogaracecourse.com",image_url:"https://images.unsplash.com/photo-1568032284447-5d3bcb9f9ef8?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3888e6).toISOString(),source:"places",tags:["racing","historic","entertainment"]},{id:"saratoga-link-2",url:"https://parks.ny.gov/parks/saratogaspa/",title:"Saratoga Spa State Park",description:"Natural mineral springs, hiking trails, and the historic Roosevelt Baths & Spa.",domain:"parks.ny.gov",image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e6).toISOString(),source:"places",tags:["park","spa","wellness"]},{id:"saratoga-link-3",url:"https://www.saratoga.com/restaurants/",title:"Downtown Saratoga Restaurants & Cafes",description:"Historic Broadway street with farm-to-table dining and local wineries.",domain:"saratoga.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3456e5).toISOString(),source:"places",tags:["dining","downtown","local"]},{id:"saratoga-link-4",url:"https://www.booking.com/hotel/us/the-adelphi.html",title:"The Adelphi Hotel - Historic Downtown Boutique",description:"Victorian-era luxury hotel with modern amenities in the heart of downtown.",domain:"booking.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3024e6).toISOString(),source:"places",tags:["hotel","historic","boutique"]}]},7:{tripId:7,tripTitle:"Fantasy Football Chat's Annual Golf Outing",location:"Phoenix, Arizona",photos:[{id:"phoenix-photo-1",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Desert Golf Championship.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:434567,mime_type:"image/jpeg"}],videos:[{id:"phoenix-video-1",media_url:"/mock/videos/team-celebration.mp4",filename:"Hole-in-One Celebration.mp4",media_type:"video",metadata:{duration:8,width:1280,height:720,poster:"/mock/images/group-mountain-photo.jpg"},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:9876e3,mime_type:"video/mp4"}],files:[{id:"phoenix-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"TPC Scottsdale Tee Times.pdf",media_type:"document",metadata:{players:6,rounds:3},created_at:new Date(Date.now()-10368e5).toISOString(),source:"upload",file_size:267890,mime_type:"application/pdf"}],links:[{id:"phoenix-link-1",url:"https://www.tpc.com/scottsdale/",title:"TPC Scottsdale - Stadium Course",description:"Home of the Waste Management Phoenix Open with the famous 16th hole stadium.",domain:"tpc.com",image_url:"https://images.unsplash.com/photo-1535131749006-b7f58c99034b?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1296e6).toISOString(),source:"places",tags:["golf","pga","tournament"]},{id:"phoenix-link-2",url:"https://www.fourseasons.com/scottsdale/",title:"Four Seasons Resort Scottsdale at Troon North",description:"Luxury desert resort with championship golf courses and spa in the Sonoran Desert.",domain:"fourseasons.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["resort","luxury","golf"]},{id:"phoenix-link-3",url:"https://www.tripadvisor.com/Restaurants-g31310-Phoenix_Arizona.html",title:"Scottsdale Steakhouses & Fine Dining",description:"Mastro's Steakhouse, Durant's, and top-rated desert restaurants.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-864e6).toISOString(),source:"places",tags:["steakhouse","dining","scottsdale"]},{id:"phoenix-link-4",url:"https://www.alltrails.com/trail/us/arizona/camelback-mountain-echo-canyon-trail",title:"Camelback Mountain Sunrise Hike",description:"Popular 1.2 mile trail with 1,280 ft elevation gain and stunning desert views.",domain:"alltrails.com",image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=200&fit=crop",created_at:new Date(Date.now()-6912e5).toISOString(),source:"places",tags:["hiking","scenic","sunrise"]}]},5:{tripId:5,tripTitle:"Coachella Squad 2026",location:"Indio, CA",photos:[{id:"coachella-photo-1",media_url:"/mock/images/concert-stage.jpg",filename:"Main Stage Festival Vibes.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:445678,mime_type:"image/jpeg"},{id:"coachella-photo-2",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Ferris Wheel Desert Sunset.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"upload",file_size:523456,mime_type:"image/jpeg"},{id:"coachella-photo-3",media_url:"/mock/images/travel-selfie.jpg",filename:"Squad Goals at Sahara Tent.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:378901,mime_type:"image/jpeg"},{id:"coachella-photo-4",media_url:"/mock/images/beach-volleyball.jpg",filename:"Desert House Pool Party.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-2592e5).toISOString(),source:"upload",file_size:456789,mime_type:"image/jpeg"},{id:"coachella-photo-5",media_url:"/mock/images/concert-stage.jpg",filename:"Food Truck Adventures.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-3456e5).toISOString(),source:"chat",file_size:387654,mime_type:"image/jpeg"},{id:"coachella-photo-6",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Late Night Art Installation.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-432e6).toISOString(),source:"upload",file_size:423567,mime_type:"image/jpeg"},{id:"coachella-photo-7",media_url:"/mock/images/beach-volleyball.jpg",filename:"Morning Coffee Desert Views.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-5184e5).toISOString(),source:"chat",file_size:398745,mime_type:"image/jpeg"},{id:"coachella-photo-8",media_url:"/mock/images/travel-selfie.jpg",filename:"Full Group Festival Outfits.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-6048e5).toISOString(),source:"upload",file_size:467832,mime_type:"image/jpeg"}],videos:[{id:"coachella-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Festival Highlights Reel.mp4",media_type:"video",metadata:{duration:95,width:1280,height:720},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:18456e3,mime_type:"video/mp4"},{id:"coachella-video-2",media_url:"/mock/videos/team-celebration.mp4",filename:"Epic Desert House Tour.mp4",media_type:"video",metadata:{duration:42,width:1280,height:720},created_at:new Date(Date.now()-2592e5).toISOString(),source:"upload",file_size:8734e3,mime_type:"video/mp4"},{id:"coachella-video-3",media_url:"/mock/videos/venue-tour.mp4",filename:"Desert Sunset Timelapse.mp4",media_type:"video",metadata:{duration:28,width:1280,height:720},created_at:new Date(Date.now()-432e6).toISOString(),source:"chat",file_size:5632e3,mime_type:"video/mp4"}],files:[{id:"coachella-file-1",media_url:"/mock/images/conference-schedule-preview.jpg",filename:"Weekend 1 Festival Passes.jpg",media_type:"image",metadata:{isTicket:!0,venue:"Coachella Valley Music Festival",date:"2026-04-10",extractedEvents:3},created_at:new Date(Date.now()-1296e6).toISOString(),source:"upload",file_size:234567,mime_type:"image/jpeg"},{id:"coachella-file-2",media_url:"/mock/files/travel_itinerary.pdf",filename:"Coachella 2026 Lineup & Schedule.pdf",media_type:"document",metadata:{isSchedule:!0,extractedEvents:47,pageCount:8},created_at:new Date(Date.now()-1728e6).toISOString(),source:"upload",file_size:2456789,mime_type:"application/pdf"},{id:"coachella-file-3",media_url:"/mock/images/dinner-receipt-preview.jpg",filename:"Desert House Rental Receipt.jpg",media_type:"image",metadata:{isReceipt:!0,totalAmount:2400,splitCount:8,perPersonAmount:300,preferredMethod:"venmo"},created_at:new Date(Date.now()-216e7).toISOString(),source:"chat",file_size:345678,mime_type:"image/jpeg"},{id:"coachella-file-4",media_url:"/mock/files/travel_itinerary.pdf",filename:"Coachella Festival Grounds Map.pdf",media_type:"document",metadata:{pageCount:2,extractedEvents:0},created_at:new Date(Date.now()-2592e6).toISOString(),source:"upload",file_size:1234567,mime_type:"application/pdf"},{id:"coachella-file-5",media_url:"/mock/images/conference-schedule-preview.jpg",filename:"VIP Camping Pass Confirmation.jpg",media_type:"image",metadata:{isTicket:!0,venue:"Coachella VIP Camping",date:"2026-04-10"},created_at:new Date(Date.now()-3024e6).toISOString(),source:"upload",file_size:198765,mime_type:"image/jpeg"}],links:[{id:"coachella-link-1",url:"https://www.airbnb.com/rooms/coachella-desert-house",title:"Desert House Coachella - 8 Guests",description:"Stunning desert house with pool, perfect for festival groups.",domain:"airbnb.com",image_url:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e6).toISOString(),source:"places",tags:["airbnb","desert","festival"]},{id:"coachella-link-2",url:"https://www.yelp.com/biz/pappy-and-harriets-pioneertown",title:"Pappy & Harriet's Pioneertown Palace",description:"Legendary desert venue and restaurant, perfect for pre-festival dinner.",domain:"yelp.com",image_url:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=400&h=200&fit=crop",created_at:new Date(Date.now()-24192e5).toISOString(),source:"places",tags:["restaurant","desert","iconic"]},{id:"coachella-link-3",url:"https://www.uber.com/us/en/ride/uber-shuttle/",title:"Uber Festival Shuttle Service",description:"Pre-book shuttle rides to avoid festival traffic and parking.",domain:"uber.com",image_url:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=200&fit=crop",created_at:new Date(Date.now()-216e7).toISOString(),source:"places",tags:["transportation","shuttle","festival"]},{id:"coachella-link-4",url:"https://www.coachella.com/lineup",title:"Coachella 2026 Official Lineup",description:"Full artist lineup and set times for both weekends.",domain:"coachella.com",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3456e6).toISOString(),source:"places",tags:["lineup","official","schedule"]},{id:"coachella-link-5",url:"https://www.wholefoodsmarket.com/stores/palmdesert",title:"Whole Foods Market Palm Desert",description:"Stock up on snacks and supplies before heading to the festival.",domain:"wholefoodsmarket.com",image_url:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=200&fit=crop",created_at:new Date(Date.now()-19008e5).toISOString(),source:"places",tags:["grocery","supplies","healthy"]}]},9:{tripId:9,tripTitle:"Newly Divorced Wine-Tasting Getaway",location:"Napa Valley, CA",photos:[{id:"napa-photo-1",media_url:"/mock/images/wedding-ceremony.jpg",filename:"Vineyard Toast with the Girls.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:445678,mime_type:"image/jpeg"},{id:"napa-photo-2",media_url:"/mock/images/travel-selfie.jpg",filename:"Spa Day Relaxation.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-1728e5).toISOString(),source:"upload",file_size:523456,mime_type:"image/jpeg"}],videos:[{id:"napa-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Hot Air Balloon Over Vineyards.mp4",media_type:"video",metadata:{duration:45,width:1280,height:720},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:8456e3,mime_type:"video/mp4"}],files:[{id:"napa-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Auberge du Soleil Resort Confirmation.pdf",media_type:"document",metadata:{nights:4,guests:6},created_at:new Date(Date.now()-864e6).toISOString(),source:"upload",file_size:234567,mime_type:"application/pdf"},{id:"napa-file-2",media_url:"/mock/files/travel_itinerary.pdf",filename:"Napa Wine Tour Reservations.pdf",media_type:"document",metadata:{extractedEvents:5,pageCount:3},created_at:new Date(Date.now()-6912e5).toISOString(),source:"upload",file_size:1456789,mime_type:"application/pdf"}],links:[{id:"napa-link-1",url:"https://www.viator.com/Napa-Valley/d909-ttd",title:"Napa Valley Winery Tours & Tastings",description:"Full-day wine tasting experiences at boutique vineyards and famous estates.",domain:"viator.com",image_url:"https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["wine","tasting","tour"]},{id:"napa-link-2",url:"https://www.aubergeresorts.com/aubergedusoleil/",title:"Auberge du Soleil - Luxury Spa Resort",description:"Five-star hillside resort with Michelin-starred dining and world-class spa.",domain:"aubergeresorts.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-216e7).toISOString(),source:"places",tags:["luxury","spa","resort"]},{id:"napa-link-3",url:"https://www.napavalleyballoons.com/",title:"Napa Valley Hot Air Balloon Rides",description:"Sunrise flights over vineyards with champagne brunch after landing.",domain:"napavalleyballoons.com",image_url:"https://images.unsplash.com/photo-1473496169904-658ba7c44d8a?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1296e6).toISOString(),source:"places",tags:["balloon","scenic","experience"]},{id:"napa-link-4",url:"https://www.bouchonbistro.com/",title:"Bouchon Bistro by Thomas Keller",description:"French bistro by renowned chef Thomas Keller with seasonal menus and wine pairings.",domain:"bouchonbistro.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-15552e5).toISOString(),source:"places",tags:["french","fine-dining","michelin"]}]},8:{tripId:8,tripTitle:"Tulum Wellness Retreat",location:"Tulum, Mexico",photos:[{id:"tulum-photo-1",media_url:"/mock/images/wedding-ceremony.jpg",filename:"Beach Yoga Session.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:456789,mime_type:"image/jpeg"}],videos:[{id:"tulum-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Cenote Diving Adventure.mp4",media_type:"video",metadata:{duration:30,width:1280,height:720},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:11456e3,mime_type:"video/mp4"}],files:[{id:"tulum-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Azulik Eco-Resort Confirmation.pdf",media_type:"document",metadata:{nights:7,guests:8},created_at:new Date(Date.now()-1296e6).toISOString(),source:"upload",file_size:345600,mime_type:"application/pdf"}],links:[{id:"tulum-link-1",url:"https://www.booking.com/city/mx/tulum.html",title:"Tulum Beachfront Boutique Hotels",description:"Eco-chic resorts on the Caribbean coast with yoga studios and wellness programs.",domain:"booking.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["eco-resort","beach","wellness"]},{id:"tulum-link-2",url:"https://www.bookyogaretreats.com/tulum",title:"Tulum Yoga Retreats & Classes",description:"Beachfront yoga studios and wellness centers with meditation and breathwork.",domain:"bookyogaretreats.com",image_url:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=200&fit=crop",created_at:new Date(Date.now()-15552e5).toISOString(),source:"places",tags:["yoga","wellness","retreat"]},{id:"tulum-link-3",url:"https://www.getyourguide.com/tulum-l1087/",title:"Cenote Swimming & Snorkeling Tours",description:"Underground caves and natural pools with crystal-clear waters.",domain:"getyourguide.com",image_url:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=200&fit=crop",created_at:new Date(Date.now()-864e6).toISOString(),source:"places",tags:["cenote","snorkeling","adventure"]},{id:"tulum-link-4",url:"https://www.tripadvisor.com/Attraction_Review-g150813-d155114-Reviews-Tulum_Archaeological_Site-Tulum_Yucatan_Peninsula.html",title:"Tulum Mayan Ruins Beachfront",description:"Ancient walled city perched on cliffs overlooking the Caribbean Sea.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1518638150340-f706e86654de?w=400&h=200&fit=crop",created_at:new Date(Date.now()-10368e5).toISOString(),source:"places",tags:["ruins","mayan","historic"]}]},10:{tripId:10,tripTitle:"Corporate Holiday Ski Trip  Aspen",location:"Aspen, CO",photos:[{id:"aspen-corp-photo-1",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Team Ski Day on Aspen Mountain.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:467890,mime_type:"image/jpeg"}],videos:[{id:"aspen-corp-video-1",media_url:"/mock/videos/team-celebration.mp4",filename:"Corporate Team Building Day.mp4",media_type:"video",metadata:{duration:35,width:1280,height:720},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:13567e3,mime_type:"video/mp4"}],files:[{id:"aspen-corp-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"St. Regis Aspen Group Booking.pdf",media_type:"document",metadata:{nights:5,rooms:12},created_at:new Date(Date.now()-2592e6).toISOString(),source:"upload",file_size:456789,mime_type:"application/pdf"}],links:[{id:"aspen-corp-link-1",url:"https://www.aspensnowmass.com/",title:"Aspen Snowmass Ski Resort Info",description:"Four mountains with world-class skiing, lift tickets, and group rates.",domain:"aspensnowmass.com",image_url:"https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3024e6).toISOString(),source:"places",tags:["skiing","resort","corporate"]},{id:"aspen-corp-link-2",url:"https://www.booking.com/city/us/aspen.html",title:"Luxury Ski-In/Ski-Out Lodges",description:"Premium mountain hotels with spa services and meeting rooms for teams.",domain:"booking.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3456e6).toISOString(),source:"places",tags:["luxury","lodging","ski"]},{id:"aspen-corp-link-3",url:"https://www.tripadvisor.com/Restaurants-g29141-Aspen_Colorado.html",title:"Best Restaurants in Downtown Aspen",description:"Fine dining and aprs-ski spots perfect for corporate dinners and celebrations.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-216e7).toISOString(),source:"places",tags:["dining","apres-ski","upscale"]},{id:"aspen-corp-link-4",url:"https://www.fs.usda.gov/recarea/whiteriver/recarea/?recid=41320",title:"Maroon Bells Scenic Area Winter Access",description:"Iconic twin peaks with snowshoeing and cross-country skiing trails.",domain:"fs.usda.gov",image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e6).toISOString(),source:"places",tags:["scenic","nature","snowshoeing"]}]},11:{tripId:11,tripTitle:"Disney Cruise Family Vacation",location:"Port Canaveral, FL",photos:[{id:"disney-photo-1",media_url:"/mock/images/travel-selfie.jpg",filename:"Family with Mickey on Deck.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:445678,mime_type:"image/jpeg"}],videos:[{id:"disney-video-1",media_url:"/mock/videos/team-celebration.mp4",filename:"Disney Character Meet & Greet.mp4",media_type:"video",metadata:{duration:25,width:1280,height:720},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:10234e3,mime_type:"video/mp4"}],files:[{id:"disney-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Disney Dream Cruise Booking.pdf",media_type:"document",metadata:{cabins:2,guests:7},created_at:new Date(Date.now()-3888e6).toISOString(),source:"upload",file_size:567890,mime_type:"application/pdf"}],links:[{id:"disney-link-1",url:"https://disneycruise.disney.go.com/",title:"Disney Cruise Line Official Site",description:"Cruise bookings, itineraries, character experiences, and onboard activities.",domain:"disneycruise.disney.go.com",image_url:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=200&fit=crop",created_at:new Date(Date.now()-432e7).toISOString(),source:"places",tags:["cruise","disney","family"]},{id:"disney-link-2",url:"https://www.kennedyspacecenter.com/",title:"Kennedy Space Center Tickets",description:"NASA tours and exhibits - perfect pre or post-cruise day trip with the family.",domain:"kennedyspacecenter.com",image_url:"https://images.unsplash.com/photo-1517976487492-5750f3195933?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e6).toISOString(),source:"places",tags:["nasa","space","attraction"]},{id:"disney-link-3",url:"https://www.tripadvisor.com/Restaurants-g34044-Cocoa_Beach_Florida.html",title:"Cocoa Beach Restaurants & Dining",description:"Fresh seafood and beachfront cafes near the port for pre-cruise meals.",domain:"tripadvisor.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-1728e6).toISOString(),source:"places",tags:["seafood","beach","family-friendly"]},{id:"disney-link-4",url:"https://disneycruise.disney.go.com/destinations/bahamas/castaway-cay/",title:"Castaway Cay Island Beach Day",description:"Disney's private island with snorkeling, water slides, and character meet & greets.",domain:"disneycruise.disney.go.com",image_url:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3456e6).toISOString(),source:"places",tags:["island","beach","disney"]}]},12:{tripId:12,tripTitle:"Yellowstone National-Park Hiking Adventure",location:"Yellowstone, WY",photos:[{id:"yellowstone-photo-1",media_url:"/mock/images/group-mountain-photo.jpg",filename:"Old Faithful Group Photo.jpg",media_type:"image",metadata:{width:800,height:600},created_at:new Date(Date.now()-864e5).toISOString(),source:"chat",file_size:478901,mime_type:"image/jpeg"}],videos:[{id:"yellowstone-video-1",media_url:"/mock/videos/venue-tour.mp4",filename:"Bison Herd Crossing.mp4",media_type:"video",metadata:{duration:40,width:1280,height:720},created_at:new Date(Date.now()-1728e5).toISOString(),source:"chat",file_size:14567e3,mime_type:"video/mp4"}],files:[{id:"yellowstone-file-1",media_url:"/mock/files/hotel-confirmation.pdf",filename:"Old Faithful Inn Reservation.pdf",media_type:"document",metadata:{nights:7,rooms:3},created_at:new Date(Date.now()-3456e6).toISOString(),source:"upload",file_size:345678,mime_type:"application/pdf"}],links:[{id:"yellowstone-link-1",url:"https://www.nps.gov/yell/planyourvisit/fees.htm",title:"Yellowstone National Park Passes",description:"Entry fees, annual passes, and reservation requirements for visiting the park.",domain:"nps.gov",image_url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3888e6).toISOString(),source:"places",tags:["national-park","pass","entrance"]},{id:"yellowstone-link-2",url:"https://www.yellowstonenationalparklodges.com/",title:"Old Faithful Inn & Park Lodges",description:"Historic in-park lodging with rustic cabins and full-service hotels.",domain:"yellowstonenationalparklodges.com",image_url:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-432e7).toISOString(),source:"places",tags:["lodging","historic","in-park"]},{id:"yellowstone-link-3",url:"https://www.alltrails.com/parks/us/wyoming/yellowstone-national-park",title:"Best Hiking Trails in Yellowstone",description:"Grand Prismatic Spring, Lamar Valley wildlife viewing, and backcountry trails.",domain:"alltrails.com",image_url:"https://images.unsplash.com/photo-1478131143081-80f7f84ca84d?w=400&h=200&fit=crop",created_at:new Date(Date.now()-2592e6).toISOString(),source:"places",tags:["hiking","trails","wildlife"]},{id:"yellowstone-link-4",url:"https://www.yellowstonenationalparklodges.com/dining/",title:"Lake Yellowstone Hotel Dining Room",description:"Historic lakeside fine dining with regional cuisine and Montana wines.",domain:"yellowstonenationalparklodges.com",image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop",created_at:new Date(Date.now()-3024e6).toISOString(),source:"places",tags:["dining","historic","lakeside"]}]}};class no{static isUsingMockData(){return!0}static getTripMockData(e){const t="string"==typeof e?parseInt(e,10):e;return io[t]||null}static getMockMediaItems(e){const t=this.getTripMockData(e);return t?[...t.photos,...t.videos,...t.files]:[]}static getMockLinkItems(e){const t=this.getTripMockData(e);return t?t.links:[]}static getMockMediaByType(e,t){const r=this.getTripMockData(e);return r&&r[t]||[]}static getMockLinks(e){const t=this.getTripMockData(e);return t?t.links:[]}static async isEnabled(){return!0}static getTripMediaItems(e){return this.getMockMediaItems(e)}static getTripLinkItems(e){return this.getMockLinkItems(e)}}const uo=new class{constructor(){$(this,"sessionPayments",new Map),$(this,"sessionPersonalBasecamps",new Map),$(this,"sessionTripBasecamps",new Map)}getTripType(e){return e?"pro"===e.category?"pro-trip":"consumer-trip":"demo"}async isDemoModeEnabled(e){try{if("app-preview"===localStorage.getItem("TRIPS_DEMO_VIEW"))return!0}catch{}return await ao.isDemoModeEnabled(e)}async enableDemoMode(e){try{localStorage.setItem("TRIPS_DEMO_VIEW","app-preview")}catch{}await ao.setDemoMode(!0,e)}async disableDemoMode(e){try{localStorage.setItem("TRIPS_DEMO_VIEW","off")}catch{}await ao.setDemoMode(!1,e)}getMockMessages(e,t=!1,r){const s=[{id:"msg_1",trip_type:e,sender_name:"Sarah Chen",message_content:"Super excited for this trip! Has everyone seen the weather forecast?",timestamp_offset_days:2,tags:["conversation"]},{id:"msg_2",trip_type:e,sender_name:"Marcus Johnson",message_content:"Just booked my flight! Landing at 3:30 PM on Friday ",timestamp_offset_days:2,tags:["travel","logistics"]},{id:"msg_3",trip_type:e,sender_name:"Priya Patel",message_content:"Found an amazing restaurant for dinner - sending the link now!",timestamp_offset_days:1,tags:["restaurants","planning"]},{id:"msg_4",trip_type:e,sender_name:"Emma Rodriguez",message_content:"Meeting at hotel lobby at 9 AM sharp tomorrow for our group activity!",timestamp_offset_days:1,tags:["broadcast","logistics","coordination"]},{id:"msg_5",trip_type:e,sender_name:"Alex Kim",message_content:"Weather alert: Rain expected this afternoon. Bring umbrellas or jackets!",timestamp_offset_days:1,tags:["broadcast","urgent","weather"]},{id:"msg_6",trip_type:e,sender_name:"David Thompson",message_content:"URGENT: Flight departure gate changed to B12. All passengers report immediately!",timestamp_offset_days:0,tags:["broadcast","emergency","urgent","travel"]},{id:"msg_7",trip_type:e,sender_name:"Maya Williams",message_content:"The sunset views from our hotel room are incredible! ",timestamp_offset_days:0,tags:["conversation","photos"]},{id:"msg_8",trip_type:e,sender_name:"Jordan Lee",message_content:"Does anyone want to split an Uber to the downtown area?",timestamp_offset_days:0,tags:["conversation","transportation"]},{id:"msg_9",trip_type:e,sender_name:"Sofia Garcia",message_content:"Reminder: Group dinner reservation is at 7:30 PM at Bella Vista. Please confirm attendance!",timestamp_offset_days:0,tags:["broadcast","logistics","dinner"]},{id:"msg_10",trip_type:e,sender_name:"Chris Anderson",message_content:"Just checked in! Room 502 if anyone needs anything ",timestamp_offset_days:0,tags:["conversation","checkin"]},{id:"payment_1",trip_type:e,sender_name:"Sarah Chen",message_content:"Dinner at Sakura Restaurant - USD 240.00 (split 4 ways)  Pay me $60.00 via Venmo: @sarahc94",timestamp_offset_days:1,tags:["payment","expense"]},{id:"payment_2",trip_type:e,sender_name:"Marcus Johnson",message_content:"Taxi to airport - USD 65.00 (split 6 ways)  Pay me $10.83 via Zelle: (555) 123-4567",timestamp_offset_days:0,tags:["payment","transportation"]},{id:"payment_3",trip_type:e,sender_name:"Alex Kim",message_content:"Concert tickets - USD 180.00 (split 3 ways)  Pay me $60.00 via PayPal: @alex.kim.music",timestamp_offset_days:0,tags:["payment","entertainment"]}];r&&s.push({id:r+"-msg-1",trip_type:e,sender_name:"You",sender_id:r,message_content:"This looks amazing! Can't wait to get there ",timestamp_offset_days:1,tags:["conversation"]},{id:r+"-msg-2",trip_type:e,sender_name:"You",sender_id:r,message_content:"Count me in for dinner tonight!",timestamp_offset_days:0,tags:["conversation"]});const a=this.getTripSpecificMessages(e,r);let o=[...s,...a];return t&&(o=o.filter(e=>{var t;return!(null==(t=e.tags)?void 0:t.includes("payment"))})),o.sort((e,t)=>(t.timestamp_offset_days||0)-(e.timestamp_offset_days||0))}getProMockMessages(e,t){return[{id:"pro-msg-1",trip_type:e,sender_name:"Tour Manager",message_content:"Meeting at hotel lobby at 9 AM sharp tomorrow for our group activity!",timestamp_offset_days:2,tags:["broadcast","logistics"]},{id:"pro-msg-2",trip_type:e,sender_name:"Alex Kim",message_content:"Weather alert: Rain expected this afternoon. Bring umbrellas or jackets!",timestamp_offset_days:2,tags:["broadcast"]},{id:"pro-msg-3",trip_type:e,sender_name:"David Thompson",message_content:"URGENT: Flight departure gate changed to B12. All passengers report immediately!",timestamp_offset_days:2,tags:["broadcast","urgent"]},{id:"pro-msg-4",trip_type:e,sender_name:"Maya Williams",message_content:"The sunset views from our hotel room are incredible! ",timestamp_offset_days:1,tags:[]},{id:"pro-msg-5",trip_type:e,sender_name:"Jordan Lee",message_content:"Does anyone want to split an Uber to the downtown area?",timestamp_offset_days:1,tags:[]},{id:t+"-msg-1",trip_type:e,sender_name:"You",sender_id:t,message_content:"Just checked in! Room 502 if anyone needs anything ",timestamp_offset_days:0,tags:[]},{id:t+"-msg-2",trip_type:e,sender_name:"You",sender_id:t,message_content:"See you all at dinner!",timestamp_offset_days:0,tags:[]}]}getTripSpecificMessages(e,t){switch(e){case"friends-trip":return[{id:"friends_1",trip_type:e,sender_name:"Taylor Brooks",message_content:"Pool party at 2 PM! Bring your swimsuits ",timestamp_offset_days:0,tags:["broadcast","chill","activities"]},{id:"friends_2",trip_type:e,sender_name:"Jamie Chen",message_content:"Who wants to hit up that karaoke place tonight?",timestamp_offset_days:0,tags:["conversation","nightlife"]}];case"family-vacation":return[{id:"family_1",trip_type:e,sender_name:"Mom (Linda)",message_content:"Kids need to be back at the hotel by 8 PM for bedtime routine!",timestamp_offset_days:0,tags:["broadcast","logistics","family"]},{id:"family_2",trip_type:e,sender_name:"Dad (Robert)",message_content:"Found a great ice cream shop - meet us at the boardwalk!",timestamp_offset_days:0,tags:["conversation","activities"]}];default:return[]}}getMockBroadcasts(e){return[{id:"broadcast_1",trip_type:e,sender_name:"Trip Coordinator",content:"All luggage must be outside rooms by 8 AM for pickup tomorrow!",tag:"logistics",timestamp_offset_hours:12},{id:"broadcast_2",trip_type:e,sender_name:"Safety Team",content:"EMERGENCY: Severe weather warning in effect. Stay indoors until further notice!",tag:"emergency",timestamp_offset_hours:6},{id:"broadcast_3",trip_type:e,sender_name:"Activity Leader",content:"Beach volleyball tournament starts in 30 minutes at the south beach! ",tag:"chill",timestamp_offset_hours:2}]}getMockTrips(){return[{id:"demo-trip-1",name:"Spring Break Cancun 2026",description:"Beach getaway with friends",destination:"Cancun, Mexico",start_date:"2026-03-15",end_date:"2026-03-22",cover_image_url:"https://images.unsplash.com/photo-1519046904884-53103b34b206",trip_type:"consumer",created_by:"demo-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),is_archived:!1},{id:"demo-trip-2",name:"Tokyo Adventure",description:"Exploring Japanese culture and cuisine",destination:"Tokyo, Japan",start_date:"2026-04-10",end_date:"2026-04-18",cover_image_url:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf",trip_type:"consumer",created_by:"demo-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),is_archived:!1},{id:"demo-trip-3",name:"Bali Wellness Retreat",description:"Yoga, meditation, and relaxation",destination:"Bali, Indonesia",start_date:"2026-05-20",end_date:"2026-05-27",cover_image_url:"https://images.unsplash.com/photo-1537996194471-e657df975ab4",trip_type:"consumer",created_by:"demo-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),is_archived:!1}]}getMockPayments(e,t=!1){return t?[]:[{id:"demo-payment-1",trip_id:e,amount:240,currency:"USD",description:"Dinner at Sakura Restaurant",split_count:4,split_participants:["user1","user2","user3","user4"],payment_methods:["Venmo","Zelle"],created_by:"user1",created_at:new Date(Date.now()-864e5).toISOString(),is_settled:!1},{id:"demo-payment-2",trip_id:e,amount:65,currency:"USD",description:"Taxi to airport",split_count:6,split_participants:["user1","user2","user3","user4","user5","user6"],payment_methods:["Zelle"],created_by:"user2",created_at:new Date(Date.now()-432e5).toISOString(),is_settled:!0},{id:"demo-payment-3",trip_id:e,amount:180,currency:"USD",description:"Concert tickets",split_count:3,split_participants:["user1","user2","user3"],payment_methods:["PayPal"],created_by:"user3",created_at:(new Date).toISOString(),is_settled:!1}]}getMockPolls(e){return oo.filter(t=>t.trip_id===e).map(e=>({id:e.id,trip_id:e.trip_id,question:e.question,options:e.options.map(e=>({id:e.id,text:e.text,votes:e.voteCount})),total_votes:e.total_votes,created_by:e.created_by,created_at:e.created_at,status:e.status}))}getMockMembers(e){return[{id:"demo-member-1",trip_id:e,user_id:"user1",role:"admin",display_name:"Sarah Chen",avatar_url:"https://images.unsplash.com/photo-1494790108377-be9c29b29330",created_at:(new Date).toISOString()},{id:"demo-member-2",trip_id:e,user_id:"user2",role:"member",display_name:"Marcus Johnson",avatar_url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d",created_at:(new Date).toISOString()},{id:"demo-member-3",trip_id:e,user_id:"user3",role:"member",display_name:"Priya Patel",avatar_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80",created_at:(new Date).toISOString()},{id:"demo-member-4",trip_id:e,user_id:"user4",role:"member",display_name:"Alex Kim",avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e",created_at:(new Date).toISOString()},{id:"demo-member-5",trip_id:e,user_id:"user5",role:"member",display_name:"Emma Rodriguez",avatar_url:"https://images.unsplash.com/photo-1534528741775-53994a69daeb",created_at:(new Date).toISOString()}]}getMockTasks(e){return[{id:"demo-task-1",trip_id:e,title:"Make sure your visa and passport documents are handled at least one month prior",description:"Verify all travel documents are valid and up to date",completed:!1,due_at:new Date(Date.now()+2592e6).toISOString()},{id:"demo-task-2",trip_id:e,title:"Making sure all clothes are packed before next destination",description:"Pack weather-appropriate clothing for all activities",completed:!1,due_at:new Date(Date.now()+2592e5).toISOString()},{id:"demo-task-3",trip_id:e,title:"Jimmy to purchase alcohol for the house while Sam gets food",description:"Coordinate house supplies for the trip",completed:!0,due_at:new Date(Date.now()+6048e5).toISOString()}]}addSessionPayment(e,t){const r=`session-payment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s={id:r,trip_id:e,amount:t.amount,currency:t.currency,description:t.description,split_count:t.splitCount,split_participants:t.splitParticipants,payment_methods:t.paymentMethods,created_by:"demo-user",createdByName:"Demo User",created_at:(new Date).toISOString(),is_settled:!1},a=this.sessionPayments.get(e)||[];return a.push(s),this.sessionPayments.set(e,a),r}getSessionPayments(e){return this.sessionPayments.get(e)||[]}clearSessionPayments(e){e?this.sessionPayments.delete(e):this.sessionPayments.clear()}getSessionPersonalBasecamp(e,t){const r=`${e}:${t}`;return this.sessionPersonalBasecamps.get(r)||null}setSessionPersonalBasecamp(e){const t=`${e.trip_id}:${e.user_id}`,r={id:`demo-personal-basecamp-${Date.now()}`,trip_id:e.trip_id,user_id:e.user_id,name:e.name,address:e.address,latitude:e.latitude,longitude:e.longitude,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return this.sessionPersonalBasecamps.set(t,r),r}deleteSessionPersonalBasecamp(e,t){const r=`${e}:${t}`,s=this.sessionPersonalBasecamps.has(r);return this.sessionPersonalBasecamps.delete(r),s}clearSessionPersonalBasecamps(e){if(e){Array.from(this.sessionPersonalBasecamps.keys()).forEach(t=>{t.startsWith(`${e}:`)&&this.sessionPersonalBasecamps.delete(t)})}else this.sessionPersonalBasecamps.clear()}clearSessionTripBasecamp(e){this.sessionTripBasecamps.delete(e)}setCoverPhoto(e,t){const r=`demo_cover_photo_${e}`;sessionStorage.setItem(r,t)}getCoverPhoto(e){const t=`demo_cover_photo_${e}`;return sessionStorage.getItem(t)}removeCoverPhoto(e){const t=`demo_cover_photo_${e}`;sessionStorage.removeItem(t)}getMediaMeta(e,t){const r=`demo_media_meta_${e}_${t}`,s=sessionStorage.getItem(r);return s?JSON.parse(s):null}setMediaMeta(e,t,r,s){const a=`demo_media_meta_${e}_${t}`;sessionStorage.setItem(a,JSON.stringify({caption:r,tags:s}))}getSessionTripBasecamp(e){return this.sessionTripBasecamps.get(e)||null}setSessionTripBasecamp(e,t){this.sessionTripBasecamps.set(e,t)}clearSessionTripBasecamps(e){e?this.sessionTripBasecamps.delete(e):this.sessionTripBasecamps.clear()}getMockPlaces(e){const t=parseInt(e),r=no.getTripMockData(t);return(null==r?void 0:r.links)?r.links.map(e=>({name:e.title,url:e.url,description:e.description,votes:0})):[]}},co=e=>e.demoView,lo=e=>e.isDemoMode,po=e=>e.isLoading,mo=()=>{const e=eo(co),t=eo(lo),r=eo(po),s="off"!==e,a=Se.useCallback(async t=>{const r="app-preview"===e;await eo.getState().setDemoView(t),r&&"app-preview"!==t&&(uo.clearSessionPayments(),uo.clearSessionPersonalBasecamps())},[e]),o=Se.useCallback(async()=>{const e=t;await eo.getState().toggle(),e&&(uo.clearSessionPayments(),uo.clearSessionPersonalBasecamps())},[t]);return{demoView:e,isDemoMode:t,showDemoContent:s,isLoading:r,setDemoView:a,enableDemoMode:eo.getState().enable,disableDemoMode:eo.getState().disable,toggleDemoMode:o}},ho=({children:e})=>{const{isDemoMode:t}=mo(),{user:r}=ka();return((e=!0)=>{const[t,r]=Se.useState(null),[s,a]=Se.useState(null),[o,i]=Se.useState(!1),{toast:n}=ht();Se.useEffect(()=>{if(!e)return void i(!0);(async()=>{try{await ro.initialize();const e=ro.getHealth("concierge"),t=ro.getHealth("google_maps");r(e),a(t),i(!0),"offline"===(null==e?void 0:e.status)&&n({title:"AI Concierge Offline",description:"Attempting to reconnect automatically...",variant:"destructive"}),"offline"===(null==t?void 0:t.status)&&n({title:"Google Maps Offline",description:"Maps functionality may be limited. Reconnecting...",variant:"destructive"})}catch(e){}})();const o=setInterval(()=>{try{const e=ro.getHealth("concierge"),o=ro.getHealth("google_maps");"healthy"===(null==e?void 0:e.status)&&"offline"===(null==t?void 0:t.status)&&n({title:"AI Concierge Restored",description:"Connection re-established successfully!",variant:"default"}),"healthy"===(null==o?void 0:o.status)&&"offline"===(null==s?void 0:s.status)&&n({title:"Google Maps Restored",description:"Maps are now loading correctly!",variant:"default"}),r(e),a(o)}catch(e){}},3e4);return()=>{clearInterval(o),ro.stopPeriodicChecks()}},[e]),"healthy"===(null==t?void 0:t.status)&&(null==s||s.status)})(r&&!t),Se.useEffect(()=>{try{const e=e=>{};return window.addEventListener("securitypolicyviolation",e),()=>{try{window.removeEventListener("securitypolicyviolation",e)}catch(t){}}}catch(e){}},[]),Y.jsx(Y.Fragment,{children:e})};function go(){return Y.jsxs("div",{className:"fixed bottom-2 right-3 text-[10px] text-muted-foreground opacity-60 select-none z-50 pointer-events-none",children:["v","dev","  ","production"]})}const vo=new class{constructor(){$(this,"isOnline",navigator.onLine),$(this,"queue",[]),$(this,"maxRetries",3),$(this,"listeners",new Set),this.setupListeners(),this.loadQueue()}setupListeners(){window.addEventListener("online",()=>{this.handleOnline()}),window.addEventListener("offline",()=>{this.handleOffline()})}handleOnline(){this.isOnline=!0,this.notifyListeners(!0),mt({title:"Connection Restored",description:"Syncing queued operations...",duration:3e3}),this.processQueue()}handleOffline(){this.isOnline=!1,this.notifyListeners(!1),mt({variant:"destructive",title:"Connection Lost",description:"You are now offline. Changes will be queued.",duration:5e3})}getIsOnline(){return this.isOnline}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(e){this.listeners.forEach(t=>t(e))}queueOperation(e,t,r){const s={id:`${e}-${Date.now()}-${Math.random()}`,type:e,operation:t,data:r,timestamp:Date.now(),retryCount:0};this.queue.push(s),this.saveQueue()}async processQueue(){if(!this.isOnline||0===this.queue.length)return;const e=[...this.queue];this.queue=[];for(const r of e)try{await r.operation()}catch(t){r.retryCount<this.maxRetries?(r.retryCount++,this.queue.push(r)):mt({variant:"destructive",title:"Sync Failed",description:`Failed to sync ${r.type}. Please try manually.`,duration:5e3})}this.saveQueue(),0===this.queue.length&&mt({title:"Sync Complete",description:"All changes have been synced.",duration:3e3})}saveQueue(){try{const e=this.queue.map(e=>({id:e.id,type:e.type,data:e.data,timestamp:e.timestamp,retryCount:e.retryCount}));localStorage.setItem("offline_queue",JSON.stringify(e))}catch(e){}}loadQueue(){try{const e=localStorage.getItem("offline_queue");if(e){JSON.parse(e)}}catch(e){}}clearQueue(){this.queue=[],localStorage.removeItem("offline_queue")}getQueueSize(){return this.queue.length}},fo=()=>{const[e,t]=Se.useState(vo.getIsOnline()),[r,s]=Se.useState(vo.getQueueSize());return Se.useEffect(()=>{const e=vo.subscribe(e=>{t(e),s(vo.getQueueSize())}),r=setInterval(()=>{s(vo.getQueueSize())},5e3);return()=>{e(),clearInterval(r)}},[]),{isOnline:e,isOffline:!e,queueSize:r,processQueue:()=>vo.processQueue(),clearQueue:()=>vo.clearQueue()}},yo=sr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-body-desktop font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-primary-glow hover:shadow-primary-glow/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-lg",outline:"border-2 border-input bg-transparent hover:bg-accent hover:text-accent-foreground shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-md",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-8 py-3 text-base min-h-[48px]",sm:"h-10 rounded-lg px-4 text-sm min-h-[40px]",lg:"h-14 rounded-xl px-10 text-lg min-h-[56px]",icon:"h-12 w-12 min-h-[48px] min-w-[48px]"}},defaultVariants:{variant:"default",size:"default"}}),wo=Se.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},o)=>{const i=s?_e:"button";return Y.jsx(i,{className:mr(yo({variant:t,size:r,className:e})),ref:o,...a})});wo.displayName="Button";const _o=()=>{const{isOffline:e,queueSize:t,processQueue:r}=fo();return e||0!==t?Y.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-2",children:Y.jsxs("div",{className:"bg-destructive/90 backdrop-blur-sm text-destructive-foreground px-4 py-3 rounded-full shadow-lg flex items-center gap-3 border border-destructive",children:[Y.jsx(dr,{className:"h-4 w-4"}),Y.jsxs("span",{className:"text-sm font-medium",children:[e?"You are offline":"Syncing...",t>0&&` (${t} pending)`]}),!e&&t>0&&Y.jsxs(wo,{size:"sm",variant:"ghost",onClick:r,className:"h-6 px-2 text-xs hover:bg-destructive-foreground/10",children:[Y.jsx(ur,{className:"h-3 w-3 mr-1"}),"Sync Now"]})]})}):null},bo=(e,t)=>t.some(t=>e instanceof t);let So,xo;const ko=new WeakMap,Do=new WeakMap,Co=new WeakMap;let Io={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return ko.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return To(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Oo(e){Io=e(Io)}function Eo(e){return(xo||(xo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(jo(this),t),To(this.request)}:function(...t){return To(e.apply(jo(this),t))}}function Po(e){return"function"==typeof e?Eo(e):(e instanceof IDBTransaction&&function(e){if(ko.has(e))return;const t=new Promise((t,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});ko.set(e,t)}(e),bo(e,So||(So=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Io):e)}function To(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(To(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return Co.set(t,e),t}(e);if(Do.has(e))return Do.get(e);const t=Po(e);return t!==e&&(Do.set(e,t),Co.set(t,e)),t}const jo=e=>Co.get(e);function Mo(e,t,{blocked:r,upgrade:s,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),n=To(i);return s&&i.addEventListener("upgradeneeded",e=>{s(To(i.result),e.oldVersion,e.newVersion,To(i.transaction),e)}),r&&i.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),n.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),n}const Ao=["get","getKey","getAll","getAllKeys","count"],Ro=["put","add","delete","clear"],No=new Map;function Lo(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(No.get(t))return No.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,a=Ro.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!a&&!Ao.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let i=o.store;return s&&(i=i.index(t.shift())),(await Promise.all([i[r](...t),a&&o.done]))[0]};return No.set(t,o),o}Oo(e=>({...e,get:(t,r,s)=>Lo(t,r)||e.get(t,r,s),has:(t,r)=>!!Lo(t,r)||e.has(t,r)}));const qo=["continue","continuePrimaryKey","advance"],Bo={},zo=new WeakMap,Fo=new WeakMap,Wo={get(e,t){if(!qo.includes(t))return e[t];let r=Bo[t];return r||(r=Bo[t]=function(...e){zo.set(this,Fo.get(this)[t](...e))}),r}};async function*$o(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,Wo);for(Fo.set(r,t),Co.set(r,jo(t));t;)yield r,t=await(zo.get(r)||t.continue()),zo.delete(r)}function Uo(e,t){return t===Symbol.asyncIterator&&bo(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&bo(e,[IDBIndex,IDBObjectStore])}Oo(e=>({...e,get:(t,r,s)=>Uo(t,r)?$o:e.get(t,r,s),has:(t,r)=>Uo(t,r)||e.has(t,r)}));const Vo=2592e6;let Ho=null;async function Ko(){return Ho||(Ho=await Mo("chravel-offline-sync",1,{upgrade(e){if(!e.objectStoreNames.contains("syncQueue")){const t=e.createObjectStore("syncQueue",{keyPath:"id"});t.createIndex("by-status","status"),t.createIndex("by-timestamp","timestamp"),t.createIndex("by-trip","tripId"),t.createIndex("by-entity-type","entityType")}if(!e.objectStoreNames.contains("cache")){const t=e.createObjectStore("cache",{keyPath:"id"});t.createIndex("by-trip","tripId"),t.createIndex("by-entity-type","entityType"),t.createIndex("by-cached-at","cachedAt")}}}),Ho)}const Qo=new class{async queueOperation(e,t,r,s,a,o){const i=await Ko(),n=`sync_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u={id:n,entityType:e,operationType:t,tripId:r,entityId:a,data:s,timestamp:Date.now(),retryCount:0,status:"pending",version:o};return await i.put("syncQueue",u),n}async getQueuedOperations(e){const t=await Ko();let r;return r=(null==e?void 0:e.status)?await t.getAllFromIndex("syncQueue","by-status",e.status):await t.getAll("syncQueue"),(null==e?void 0:e.tripId)&&(r=r.filter(t=>t.tripId===e.tripId)),(null==e?void 0:e.entityType)&&(r=r.filter(t=>t.entityType===e.entityType)),r.sort((e,t)=>e.timestamp-t.timestamp)}async removeOperation(e){const t=await Ko();try{return await t.delete("syncQueue",e),!0}catch{return!1}}async updateOperationStatus(e,t,r=!1){const s=await Ko(),a=await s.get("syncQueue",e);if(!a)return null;const o={...a,status:t,retryCount:r?a.retryCount+1:a.retryCount};return await s.put("syncQueue",o),o}async getReadyOperations(){const e=await this.getQueuedOperations({status:"pending"}),t=Date.now();return e.filter(e=>t-e.timestamp>=5e3*(e.retryCount+1)&&e.retryCount<3)}async getFailedOperations(){return this.getQueuedOperations({status:"failed"})}async cacheEntity(e,t,r,s,a){const o=await Ko(),i={id:`${e}:${t}`,tripId:r,entityType:e,data:s,cachedAt:Date.now(),version:a};await o.put("cache",i)}async getCachedEntities(e,t){const r=await Ko();let s;if(t){s=(await r.getAllFromIndex("cache","by-entity-type",t)).filter(t=>t.tripId===e)}else{s=await r.getAllFromIndex("cache","by-trip",e)}const a=Date.now();return s.filter(e=>a-e.cachedAt<Vo)}async getCachedEntity(e,t){const r=await Ko(),s=`${e}:${t}`,a=await r.get("cache",s);if(!a)return null;return Date.now()-a.cachedAt>=Vo?(await r.delete("cache",s),null):a}async removeCachedEntity(e,t){const r=await Ko(),s=`${e}:${t}`;await r.delete("cache",s)}async clearExpiredCache(){const e=await Ko(),t=await e.getAll("cache"),r=Date.now();let s=0;for(const a of t)r-a.cachedAt>=Vo&&(await e.delete("cache",a.id),s++);return s}async clearTripCache(e,t){const r=await Ko(),s=await this.getCachedEntities(e,t);for(const a of s)await r.delete("cache",a.id)}async processSyncQueue(e){if(!navigator.onLine)return{processed:0,failed:0};const t=await this.getReadyOperations();let r=0,s=0;for(const o of t)try{if(!(await this.updateOperationStatus(o.id,"syncing")))continue;let t,s=!1;switch(o.entityType){case"chat_message":"create"===o.operationType&&e.onChatMessageCreate?(t=await e.onChatMessageCreate(o.tripId,o.data),s=!0):"update"===o.operationType&&e.onChatMessageUpdate&&(t=await e.onChatMessageUpdate(o.entityId,o.data),s=!0);break;case"task":"create"===o.operationType&&e.onTaskCreate?(t=await e.onTaskCreate(o.tripId,o.data),s=!0):"update"===o.operationType&&e.onTaskUpdate?(t=await e.onTaskUpdate(o.entityId,o.data),s=!0):"update"===o.operationType&&void 0!==o.data.completed&&e.onTaskToggle&&(t=await e.onTaskToggle(o.entityId,o.data),s=!0);break;case"calendar_event":"create"===o.operationType&&e.onCalendarEventCreate?(t=await e.onCalendarEventCreate(o.tripId,o.data),s=!0):"update"===o.operationType&&e.onCalendarEventUpdate?(t=await e.onCalendarEventUpdate(o.entityId,o.data),s=!0):"delete"===o.operationType&&e.onCalendarEventDelete&&(t=await e.onCalendarEventDelete(o.entityId),s=!0)}if(!s){await this.updateOperationStatus(o.id,"pending");continue}await this.removeOperation(o.id),r++}catch(a){const e=await this.updateOperationStatus(o.id,"pending",!0);e&&e.retryCount>=3&&(await this.updateOperationStatus(o.id,"failed"),s++)}return{processed:r,failed:s}}isOnline(){return!1!==navigator.onLine}async getQueueStats(){const e=await this.getQueuedOperations();return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,syncing:e.filter(e=>"syncing"===e.status).length,failed:e.filter(e=>"failed"===e.status).length}}};async function Go(e,t={}){const{maxRetries:r=3,initialDelay:s=1e3,maxDelay:a=1e4,onRetry:o,onFailure:i}=t;let n;for(let c=0;c<=r;c++)try{return await e()}catch(u){if(n=u,c>=r)throw i&&i(n),n;const e=Math.min(s*Math.pow(2,c),a);o&&o(c+1,n),await new Promise(t=>setTimeout(t,e))}throw n}async function Yo(e){return Go(async()=>{const{data:t,error:r}=await fa.from("trip_chat_messages").insert({...e,privacy_mode:e.privacy_mode||"standard",message_type:e.message_type||"text",attachments:e.attachments}).select().single();if(r)throw r;return t},{maxRetries:3,onRetry:(e,t)=>{}})}async function Jo(e,t){try{const{error:r}=await fa.from("trip_chat_messages").update({content:t,edited_at:(new Date).toISOString(),is_edited:!0}).eq("id",e);return!r}catch(r){return!1}}async function Xo(e,t){try{const{error:r}=await fa.from("channel_messages").update({content:t,edited_at:(new Date).toISOString()}).eq("id",e);return!r}catch(r){return!1}}async function Zo(e){try{const{error:t}=await fa.from("trip_chat_messages").update({deleted_at:(new Date).toISOString(),is_deleted:!0}).eq("id",e);return!t}catch(t){return!1}}async function ei(e){try{const{error:t}=await fa.from("channel_messages").update({deleted_at:(new Date).toISOString()}).eq("id",e);return!t}catch(t){return!1}}const ti=new class{getStorageKey(e){return`calendar_events_${e}`}async getEvents(e){try{return await Xe(this.getStorageKey(e),[])}catch(t){return[]}}async saveEvents(e,t){try{await Ze(this.getStorageKey(e),t)}catch(r){}}async createEvent(e){const t=await this.getEvents(e.trip_id),r={id:`demo-event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,trip_id:e.trip_id,title:e.title,description:e.description,start_time:e.start_time,end_time:e.end_time,location:e.location,event_category:e.event_category||"other",include_in_itinerary:e.include_in_itinerary??!0,source_type:e.source_type||"manual",source_data:e.source_data||{},created_by:"demo-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return t.push(r),t.sort((e,t)=>new Date(e.start_time).getTime()-new Date(t.start_time).getTime()),await this.saveEvents(e.trip_id,t),r}async updateEvent(e,t,r){const s=await this.getEvents(e),a=s.findIndex(e=>e.id===t);if(-1===a)return null;const o={...s[a],...r,updated_at:(new Date).toISOString()};return s[a]=o,s.sort((e,t)=>new Date(e.start_time).getTime()-new Date(t.start_time).getTime()),await this.saveEvents(e,s),o}async deleteEvent(e,t){const r=await this.getEvents(e),s=r.filter(e=>e.id!==t);return s.length!==r.length&&(await this.saveEvents(e,s),!0)}async clearEvents(e){await et(this.getStorageKey(e))}async clearAllDemoEvents(){const e=[];for(let t=0;t<(await Je.getItem("length")?parseInt(await Je.getItem("length")||"0"):0);t++){const r=`calendar_events_${t}`;await Je.getItem(r)&&e.push(r)}for(const t of e)t.startsWith("calendar_events_")&&await et(t)}};const ri=new class{async queueCreate(e,t){return Qo.queueOperation("calendar_event","create",e,t)}async queueUpdate(e,t,r,s){return Qo.queueOperation("calendar_event","update",e,r,t,s)}async queueDelete(e,t){return Qo.queueOperation("calendar_event","delete",e,{},t)}async getQueuedOperations(e){return(await Qo.getQueuedOperations({tripId:e,entityType:"calendar_event"})).map(e=>({id:e.id,type:e.operationType,tripId:e.tripId,eventId:e.entityId,data:e.data,timestamp:e.timestamp,retryCount:e.retryCount,status:e.status,version:e.version}))}async getFailedOperations(e){const t={status:"failed",entityType:"calendar_event"};e&&(t.tripId=e);return(await Qo.getQueuedOperations(t)).map(e=>({id:e.id,type:e.operationType,tripId:e.tripId,eventId:e.entityId,data:e.data,timestamp:e.timestamp,retryCount:e.retryCount,status:e.status,version:e.version}))}async removeOperation(e){return Qo.removeOperation(e)}async retryOperation(e){const t=(await Qo.getQueuedOperations()).find(t=>t.id===e);return!(!t||"failed"!==t.status)&&(await Qo.updateOperationStatus(e,"pending"),!0)}async clearTripQueue(e){const t=await this.getQueuedOperations(e);await Promise.all(t.map(e=>this.removeOperation(e.id)))}},si={async ensureTripMembership(e,t){try{const{data:r}=await fa.from("trip_members").select("id").eq("trip_id",e).eq("user_id",t).maybeSingle();if(r)return!0;const{data:{user:s}}=await fa.auth.getUser(),a=(null==s?void 0:s.email)&&wa.includes(s.email.toLowerCase()),{data:o}=await fa.from("trips").select("created_by").eq("id",e).single();if((null==o?void 0:o.created_by)===t||a){const{error:r}=await fa.from("trip_members").insert({trip_id:e,user_id:t,role:"admin",status:"active"});return!r||"23505"===r.code}return!1}catch(r){return!1}},async checkForConflicts(e,t,r){try{const s=await this.getTripEvents(e),a=new Date(t).getTime(),o=r?new Date(r).getTime():a+36e5,i=[];for(const e of s){const t=new Date(e.start_time).getTime(),r=e.end_time?new Date(e.end_time).getTime():t+36e5;a<r&&o>t&&i.push(e.title)}return i}catch(s){return[]}},async createEvent(e){var t;const r=[];try{if(!e.trip_id)throw new Error("Trip ID is required to create an event");if(!(null==(t=e.title)?void 0:t.trim()))throw new Error("Event title is required");if(!e.start_time)throw new Error("Event start time is required");const s=await uo.isDemoModeEnabled(),a=await this.checkForConflicts(e.trip_id,e.start_time,e.end_time);if(r.push(...a),s){return{event:await ti.createEvent(e),conflicts:r}}if(!navigator.onLine){const t=await ri.queueCreate(e.trip_id,e);await Qo.queueOperation("calendar_event","create",e.trip_id,e);const{data:{user:s}}=await fa.auth.getUser();return{event:{id:t,...e,created_by:(null==s?void 0:s.id)||e.created_by||(null==s?void 0:s.id)||"",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),version:1},conflicts:r}}const{data:{user:o}}=await fa.auth.getUser();if(!o)throw new Error("You must be logged in to create events. Please sign in and try again.");if(o.email&&wa.includes(o.email.toLowerCase()))await this.ensureTripMembership(e.trip_id,o.id);else{await this.ensureTripMembership(e.trip_id,o.id)}const i=await Go(async()=>{var t,r,s;const{data:a,error:i}=await fa.from("trip_events").insert({trip_id:e.trip_id,title:e.title,description:e.description||null,location:e.location||null,start_time:e.start_time,end_time:e.end_time||null,created_by:o.id,event_category:e.event_category||"other",include_in_itinerary:e.include_in_itinerary??!0,source_type:e.source_type||"manual",source_data:e.source_data||{}}).select("*").single();if(i){if("42501"===i.code||(null==(t=i.message)?void 0:t.includes("RLS"))||(null==(r=i.message)?void 0:r.includes("policy")))throw new Error("You do not have permission to add events to this trip. Please contact the trip admin.");if("23503"===i.code||(null==(s=i.message)?void 0:s.includes("foreign key")))throw new Error("This trip no longer exists or is invalid.");if("23505"===i.code)throw new Error("An event with this information already exists.");throw new Error(i.message||"Failed to create event. Please try again.")}return a},{maxRetries:3,onRetry:(e,t)=>{0}});return await Qo.cacheEntity("calendar_event",i.id,i.trip_id,i,i.version||1),{event:i,conflicts:r}}catch(s){if(!navigator.onLine)return{event:null,conflicts:r};throw s}},async getTripEvents(e){let t=[];try{if(await uo.isDemoModeEnabled())return await ti.getEvents(e);t=await Qo.getCachedEntities(e,"calendar_event");const{data:{user:r}}=await fa.auth.getUser();if(!r){const{data:t,error:r}=await fa.from("trip_events").select("*").eq("trip_id",e).order("start_time",{ascending:!0});if(r)throw r;return t||[]}const{data:s,error:a}=await fa.rpc("get_events_in_user_tz",{p_trip_id:e,p_user_id:r.id});if(a){0;const{data:t,error:r}=await fa.from("trip_events").select("*").eq("trip_id",e).order("start_time",{ascending:!0});if(r)throw r;return t||[]}if(!s||0===s.length)return[];const o=s.map(e=>e.id),{data:i,error:n}=await fa.from("trip_events").select("*").in("id",o).order("start_time",{ascending:!0});if(n)throw n;const u=i||[];for(const e of u)await Qo.cacheEntity("calendar_event",e.id,e.trip_id,e,e.version||1);return u}catch(r){return t.length>0?t.map(e=>e.data):[]}},async updateEvent(e,t){var r,s,a;if(!e)throw new Error("Event ID is required to update an event");if(await uo.isDemoModeEnabled()){const r=t.trip_id||e.split("-")[0];if(!(await ti.updateEvent(r,e,t)))throw new Error("Failed to update event in demo mode");return!0}if(!navigator.onLine){const r=t.trip_id||"",s=t.version;return await ri.queueUpdate(r,e,t,s),await Qo.queueOperation("calendar_event","update",r,t,e,s),!0}const{data:{user:o}}=await fa.auth.getUser();if(!o)throw new Error("You must be logged in to update events. Please sign in and try again.");const{data:i,error:n}=await fa.from("trip_events").update({...t,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(n){if("42501"===n.code||(null==(r=n.message)?void 0:r.includes("RLS"))||(null==(s=n.message)?void 0:s.includes("policy")))throw new Error("You do not have permission to update this event. Only the event creator or trip admin can edit it.");if("PGRST116"===n.code||(null==(a=n.message)?void 0:a.includes("0 rows")))throw new Error("Event update failed  no matching event found or you do not have permission to edit it.");throw new Error(n.message||"Failed to update event. Please try again.")}if(!i)throw new Error("Event update failed  no rows updated. You may not have permission to edit this event.");const u=await Qo.getCachedEntity("calendar_event",e);return u&&await Qo.cacheEntity("calendar_event",e,u.tripId,i,i.version||u.version||1),!0},async deleteEvent(e,t){try{if(await uo.isDemoModeEnabled())return!!t&&await ti.deleteEvent(t,e);if(!navigator.onLine&&t)return await ri.queueDelete(t,e),await Qo.queueOperation("calendar_event","delete",t,{},e),await Qo.removeCachedEntity("calendar_event",e),!0;const{error:r}=await fa.from("trip_events").delete().eq("id",e);return r||await Qo.removeCachedEntity("calendar_event",e),!r}catch(r){return!1}},convertToCalendarEvent(e){var t,r;const s=new Date(e.start_time);return{id:e.id,title:e.title,date:s,time:s.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),location:e.location,description:e.description,createdBy:e.created_by,creatorName:(null==(t=e.creator)?void 0:t.display_name)||"Unknown User",creatorAvatar:null==(r=e.creator)?void 0:r.avatar_url,include_in_itinerary:e.include_in_itinerary,event_category:e.event_category,source_type:e.source_type,source_data:e.source_data,recurrence_rule:e.recurrence_rule,recurrence_exceptions:e.recurrence_exceptions,parent_event_id:e.parent_event_id,is_busy:e.is_busy??!0,availability_status:e.availability_status||"busy",end_time:e.end_time?new Date(e.end_time):void 0}},convertFromCalendarEvent(e,t){const r=new Date(e.date),[s,a]=e.time.split(":");let o;return r.setHours(parseInt(s),parseInt(a)),e.end_time&&(o=e.end_time.toISOString()),{trip_id:t,title:e.title,description:e.description,start_time:r.toISOString(),end_time:o,location:e.location,event_category:e.event_category||"other",include_in_itinerary:e.include_in_itinerary,source_type:e.source_type||"manual",source_data:e.source_data||{},recurrence_rule:e.recurrence_rule,recurrence_exceptions:e.recurrence_exceptions,is_busy:e.is_busy??!0,availability_status:e.availability_status||"busy"}}};function ai(){if("undefined"==typeof window)return;const e=async()=>{try{(await async function(){if(!navigator.onLine)return{processed:0,failed:0,skipped:0};const e=await Qo.getQueuedOperations({status:"pending"}),t=await Qo.processSyncQueue({onChatMessageCreate:async(e,t)=>await Yo(t),onChatMessageUpdate:async(e,t)=>{const{supabase:r}=await Pe(async()=>{const{supabase:e}=await Promise.resolve().then(()=>ya);return{supabase:e}},void 0),{data:s,error:a}=await r.from("trip_chat_messages").update(t).eq("id",e).select().single();if(a)throw a;return s},onTaskCreate:async(e,t)=>{const{supabase:r}=await Pe(async()=>{const{supabase:e}=await Promise.resolve().then(()=>ya);return{supabase:e}},void 0),{data:{user:s}}=await r.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await r.from("trip_tasks").insert({trip_id:e,creator_id:s.id,title:t.title,description:t.description,due_at:t.due_at,is_poll:t.is_poll}).select().single();if(o)throw o;return a},onTaskUpdate:async(e,t)=>{const{supabase:r}=await Pe(async()=>{const{supabase:e}=await Promise.resolve().then(()=>ya);return{supabase:e}},void 0),{data:s,error:a}=await r.from("trip_tasks").update(t).eq("id",e).select().single();if(a)throw a;return s},onTaskToggle:async(e,t)=>{const{supabase:r}=await Pe(async()=>{const{supabase:e}=await Promise.resolve().then(()=>ya);return{supabase:e}},void 0),{data:{user:s}}=await r.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:a}=await r.rpc("toggle_task_status",{p_task_id:e,p_user_id:s.id,p_completed:t.completed,p_current_version:t.version||1});if(a)throw a;return{taskId:e,completed:t.completed}},onCalendarEventCreate:async(e,t)=>{const r=await si.createEvent(t);if(!r)throw new Error("Failed to create calendar event");return r},onCalendarEventUpdate:async(e,t)=>{if(!(await si.updateEvent(e,t)))throw new Error("Failed to update calendar event");return{id:e,...t}},onCalendarEventDelete:async e=>{if(!(await si.deleteEvent(e)))throw new Error("Failed to delete calendar event");return{id:e}}}),r=await Qo.getQueuedOperations({status:"pending"}),s=e.length-r.length-t.processed-t.failed;return{...t,skipped:Math.max(0,s)}}()).skipped}catch(e){}};return navigator.onLine&&e(),window.addEventListener("online",e),()=>{window.removeEventListener("online",e)}}const oi=(e,t=3,r=1e3)=>new Promise((s,a)=>{e().then(s).catch(o=>{const i=(null==o?void 0:o.message)||String(o);if(!(i.includes("Failed to fetch dynamically imported module")||i.includes("Loading chunk")||i.includes("Failed to fetch")||i.includes("NetworkError"))||0===t)return void a(o);const n=r*Math.pow(2,3-t);setTimeout(()=>{oi(e,t-1,r).then(s,a)},n)})}),ii=Se.lazy(()=>oi(()=>Pe(()=>import("./Index-BbrvFCbE-mjd3dogn.js").then(e=>e.I),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14,15,3,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,5,4,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54])))),ni=Se.lazy(()=>oi(()=>Pe(()=>import("./TripDetail-azCLDlRR-mjd3dogn.js"),__vite__mapDeps([55,1,2,3,56,15,16,14,17,18,19,20,21,22,23,11,7,8,9,10,24,25,26,27,28,12,29,30,5,4,31,32,33,34,35,36,41,42,44,45,57,49,58,46,59,60,61,43,47,40,38,62,63,64,65,66,54])))),ui=Se.lazy(()=>oi(()=>Pe(()=>import("./DemoTripGate-HFR7GJoc-mjd3dogn.js"),__vite__mapDeps([67,1,2,29,3,4])))),ci=Se.lazy(()=>oi(()=>Pe(()=>import("./ProTripDetail-uyrh3ams-mjd3dogn.js").then(e=>e.P),__vite__mapDeps([68,1,2,3,56,15,16,14,17,18,19,20,21,22,23,11,7,8,9,10,24,25,26,27,28,12,29,30,5,4,31,32,33,34,35,36,41,42,44,45,57,49,58,46,59,60,61,43,47,40,38,62,63,64,65,69,70])))),li=Se.lazy(()=>oi(()=>Pe(()=>import("./EventDetail-By6XEZGW-mjd3dogn.js"),__vite__mapDeps([71,3,2,1,56,15,16,14,17,18,19,20,21,22,23,11,7,8,9,10,24,25,26,27,28,12,29,30,5,4,31,32,33,34,35,36,41,42,44,45,57,49,58,46,59,60,61,43,47,40,38,62,63,64,65,66,69])))),di=Se.lazy(()=>oi(()=>Pe(()=>import("./NotFound-xK2NOl8s-mjd3dogn.js"),__vite__mapDeps([72,1,2])))),pi=Se.lazy(()=>oi(()=>Pe(()=>import("./JoinTrip-BH28nD38-mjd3dogn.js"),__vite__mapDeps([73,1,2,29,47,62,22,31,36,40,3,4])))),mi=Se.lazy(()=>oi(()=>Pe(()=>import("./ProfilePage-1kqUYEIN-mjd3dogn.js"),__vite__mapDeps([74,1,2,43,20,50,21,60,22,9,32,64,3,4])))),hi=Se.lazy(()=>oi(()=>Pe(()=>import("./SettingsPage-C0ak6znS-mjd3dogn.js"),__vite__mapDeps([75,1,2,17,18,19,14,20,21,16,22,23,11,7,8,9,10,24,25,26,27,28,12,29,30,5,3,4,31,32,33,34,35,36])))),gi=Se.lazy(()=>oi(()=>Pe(()=>import("./ArchivePage-C7xNGoN_-mjd3dogn.js"),__vite__mapDeps([76,1,2,27,20,16,45,32,22,31,36,3,4])))),vi=Se.lazy(()=>oi(()=>Pe(()=>import("./AdminDashboard-DBKzPxop-mjd3dogn.js"),__vite__mapDeps([77,1,2])).then(e=>({default:e.AdminDashboard})))),fi=Se.lazy(()=>oi(()=>Pe(()=>import("./OrganizationDashboard-f53zVrBp-mjd3dogn.js"),__vite__mapDeps([78,1,2,37,19,79,44,27,28,14,30,29,7,8,9,10,11,58,20,36,24,41,42,49,51,3,4])).then(e=>({default:e.OrganizationDashboard})))),yi=Se.lazy(()=>oi(()=>Pe(()=>import("./OrganizationsHub-BLdXzKrz-mjd3dogn.js"),__vite__mapDeps([80,1,2,37,19,44,27,28,29,11,23,8,42,36,3,4])).then(e=>({default:e.OrganizationsHub})))),wi=Se.lazy(()=>oi(()=>Pe(()=>import("./AcceptOrganizationInvite-B6Ryhyl6-mjd3dogn.js"),__vite__mapDeps([81,1,2,19,29,61,8,3,4])).then(e=>({default:e.AcceptOrganizationInvite})))),_i=Se.lazy(()=>oi(()=>Pe(()=>import("./ChravelRecsPage-DhGXFptz-mjd3dogn.js"),__vite__mapDeps([82,1,2,18,19,14,20,21,16,22,23,48,49,42,36,79,26,3,4])).then(e=>({default:e.ChravelRecsPage})))),bi=Se.lazy(()=>oi(()=>Pe(()=>import("./ForTeams-C2zbHP71-mjd3dogn.js"),__vite__mapDeps([83,1,2,8,25,24,36,38,3,4])).then(e=>({default:e.ForTeams})))),Si=Se.lazy(()=>oi(()=>Pe(()=>import("./AdvertiserDashboard-A2R6YX2l-mjd3dogn.js"),__vite__mapDeps([84,1,2,79,19,27,28,30,12,20,44,46,10,57,4,49,42,31,35,26,22,36,14,85,63,38,53,86,47,61,23,3])))),xi=Se.lazy(()=>oi(()=>Pe(()=>import("./Healthz-BiTHbTbp-mjd3dogn.js"),__vite__mapDeps([87,1,2,3,4])))),ki=Se.lazy(()=>oi(()=>Pe(()=>import("./PrivacyPolicy-Co6SKUCE-mjd3dogn.js"),__vite__mapDeps([88,1,2,34,3,4])))),Di=Se.lazy(()=>oi(()=>Pe(()=>import("./TermsOfService-CUozJLBL-mjd3dogn.js"),__vite__mapDeps([89,1,2,34,3,4])))),Ci=Se.lazy(()=>oi(()=>Pe(()=>import("./TripPreview-CEgtgZE3-mjd3dogn.js"),__vite__mapDeps([90,1,2,16,29,60,64,22,31,36,3,4])))),Ii=Se.lazy(()=>oi(()=>Pe(()=>import("./AuthPage-BwH5G0ru-mjd3dogn.js"),__vite__mapDeps([91,1,2,33,34,30,35,3,4])))),Oi=()=>{const{proTripId:e}=Ie();return Y.jsx(Oe,{to:`/tour/pro/${e}`,replace:!0})},Ei=new la,Pi=Ee;eo.getState().init();const Ti=()=>{const e=Ga.startTiming("App Initialization");return xe.useEffect(()=>{e()},[e]),Se.useEffect(()=>{to.init({environment:"production"}),fa.auth.getUser().then(({data:e})=>{e.user&&to.setUser(e.user.id,{email:e.user.email})})},[]),Se.useEffect(()=>ai(),[]),Se.useEffect(()=>{const e="chravel_breaking_version",t=localStorage.getItem(e);t?"1"!==t&&("caches"in window&&caches.keys().then(e=>Promise.all(e.map(e=>caches.delete(e)))),localStorage.setItem(e,"1"),window.location.reload()):localStorage.setItem(e,"1")},[]),Se.useEffect(()=>{const e=()=>{"visible"===document.visibilityState&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.update().catch(()=>{})})};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),Se.useEffect(()=>{let e=!1;const t=async()=>{if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}window.location.reload()},r=r=>{var s;const a=(null==(s=r.reason)?void 0:s.message)||String(r.reason),o=String(r.reason);(a.includes("Loading chunk")||a.includes("Failed to fetch dynamically imported")||a.includes("Failed to fetch")||a.includes("Failed to load module script")||o.includes("Failed to fetch dynamically imported")||o.includes("Loading chunk"))&&!e&&(e=!0,mt({title:"Loading Error",description:"Failed to load page. This usually happens after an app update. Clear cache to continue.",action:Y.jsx("button",{onClick:t,className:"px-3 py-2 text-sm font-medium rounded-md bg-primary text-primary-foreground hover:bg-primary/90",children:"Clear Cache & Reload"}),duration:2e4}))},s=t=>{const s=t.message||String(t.error);(s.includes("Failed to fetch dynamically imported")||s.includes("Loading chunk")||s.includes("Failed to load module script"))&&!e&&r({reason:{message:s},preventDefault:()=>{}})};return window.addEventListener("unhandledrejection",r),window.addEventListener("error",s),()=>{window.removeEventListener("unhandledrejection",r),window.removeEventListener("error",s)}},[]),Y.jsx(za,{children:Y.jsx(ma,{client:Ei,children:Y.jsx(xa,{children:Y.jsx(Ma,{children:Y.jsx(ho,{children:Y.jsxs(ys,{children:[Y.jsx(br,{}),Y.jsx(Hr,{}),Y.jsx(go,{}),Y.jsx(_o,{}),Y.jsx(Pi,{children:Y.jsx(Ba,{children:Y.jsxs(De,{children:[Y.jsx(Ce,{path:"/",element:Y.jsx(Qa,{children:Y.jsx(ii,{})})}),Y.jsx(Ce,{path:"/trip/:tripId",element:Y.jsx(Qa,{children:Y.jsx(ni,{})})}),Y.jsx(Ce,{path:"/trip/:tripId/preview",element:Y.jsx(Qa,{children:Y.jsx(Ci,{})})}),Y.jsx(Ce,{path:"/demo/trip/:demoTripId",element:Y.jsx(Qa,{children:Y.jsx(ui,{})})}),Y.jsx(Ce,{path:"/auth",element:Y.jsx(Qa,{children:Y.jsx(Ii,{})})}),Y.jsx(Ce,{path:"/join/:token",element:Y.jsx(Qa,{children:Y.jsx(pi,{})})}),Y.jsx(Ce,{path:"/tour/pro/:proTripId",element:Y.jsx(Qa,{children:Y.jsx(ci,{})})}),Y.jsx(Ce,{path:"/tour/pro-:proTripId",element:Y.jsx(Qa,{children:Y.jsx(Oi,{})})}),Y.jsx(Ce,{path:"/event/:eventId",element:Y.jsx(Qa,{children:Y.jsx(li,{})})}),Y.jsx(Ce,{path:"/teams",element:Y.jsx(Qa,{children:Y.jsx(bi,{})})}),Y.jsx(Ce,{path:"/recs",element:Y.jsx(Qa,{children:Y.jsx(_i,{})})}),Y.jsx(Ce,{path:"/advertiser",element:Y.jsx(Qa,{children:Y.jsx(Si,{})})}),Y.jsx(Ce,{path:"/healthz",element:Y.jsx(Qa,{children:Y.jsx(xi,{})})}),Y.jsx(Ce,{path:"/privacy",element:Y.jsx(Qa,{children:Y.jsx(ki,{})})}),Y.jsx(Ce,{path:"/terms",element:Y.jsx(Qa,{children:Y.jsx(Di,{})})}),Y.jsx(Ce,{path:"/profile",element:Y.jsx(Qa,{children:Y.jsx(mi,{})})}),Y.jsx(Ce,{path:"/settings",element:Y.jsx(Qa,{children:Y.jsx(hi,{})})}),Y.jsx(Ce,{path:"/archive",element:Y.jsx(Qa,{children:Y.jsx(gi,{})})}),Y.jsx(Ce,{path:"/admin/scheduled-messages",element:Y.jsx(Qa,{children:Y.jsx(vi,{})})}),Y.jsx(Ce,{path:"/organizations",element:Y.jsx(Qa,{children:Y.jsx(yi,{})})}),Y.jsx(Ce,{path:"/organization/:orgId",element:Y.jsx(Qa,{children:Y.jsx(fi,{})})}),Y.jsx(Ce,{path:"/accept-invite/:token",element:Y.jsx(Qa,{children:Y.jsx(wi,{})})}),Y.jsx(Ce,{path:"*",element:Y.jsx(Qa,{children:Y.jsx(di,{})})})]})})})]})})})})})})};ot(),z(document.getElementById("root")).render(Y.jsx(Se.StrictMode,{children:Y.jsx(Le,{variant:"consumer",children:Y.jsx(st,{children:Y.jsx(Ti,{})})})}));export{Us as $,Mo as A,wo as B,fo as C,Qo as D,Xe as E,Ze as F,et as G,oo as H,lr as I,no as J,Go as K,Fa as L,za as M,mt as N,Hs as O,Os as P,Rs as Q,ur as R,Ss as S,ys as T,Is as U,ks as V,dr as W,pr as X,xs as Y,Ds as Z,Cs as _,mr as a,ta as a0,Bs as a1,Xs as a2,js as a3,aa as a4,Za as a5,Ta as a6,yo as a7,eo as a8,Ue as a9,wa as aa,to as ab,Vr as ac,_a as ad,sr as b,nr as c,mo as d,Aa as e,Na as f,ws as g,_s as h,bs as i,ht as j,uo as k,cr as l,Ne as m,at as n,pa as o,Le as p,si as q,Yo as r,fa as s,Nr as t,ka as u,$e as v,Xo as w,Jo as x,ei as y,Zo as z};
